(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Sd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function H1(){if(d_)return pl;d_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=n,pl.jsxs=n,pl}var g_;function F1(){return g_||(g_=1,Sd.exports=H1()),Sd.exports}var B=F1(),bd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function G1(){if(m_)return Rt;m_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,rt={};function W(C,X,it){this.props=C,this.context=X,this.refs=rt,this.updater=it||F}W.prototype.isReactComponent={},W.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},W.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function At(){}At.prototype=W.prototype;function dt(C,X,it){this.props=C,this.context=X,this.refs=rt,this.updater=it||F}var ht=dt.prototype=new At;ht.constructor=dt,Z(ht,W.prototype),ht.isPureReactComponent=!0;var Ot=Array.isArray,Et={H:null,A:null,T:null,S:null,V:null},It=Object.prototype.hasOwnProperty;function N(C,X,it,J,ft,Tt){return it=Tt.ref,{$$typeof:r,type:C,key:X,ref:it!==void 0?it:null,props:Tt}}function b(C,X){return N(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function x(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return X[it]})}var V=/\/+/g;function M(C,X){return typeof C=="object"&&C!==null&&C.key!=null?x(""+C.key):X.toString(36)}function R(){}function me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,X,it,J,ft){var Tt=typeof C;(Tt==="undefined"||Tt==="boolean")&&(C=null);var mt=!1;if(C===null)mt=!0;else switch(Tt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(C.$$typeof){case r:case t:mt=!0;break;case S:return mt=C._init,re(mt(C._payload),X,it,J,ft)}}if(mt)return ft=ft(C),mt=J===""?"."+M(C,0):J,Ot(ft)?(it="",mt!=null&&(it=mt.replace(V,"$&/")+"/"),re(ft,X,it,"",function(In){return In})):ft!=null&&(w(ft)&&(ft=b(ft,it+(ft.key==null||C&&C.key===ft.key?"":(""+ft.key).replace(V,"$&/")+"/")+mt)),X.push(ft)),1;mt=0;var Ee=J===""?".":J+":";if(Ot(C))for(var Gt=0;Gt<C.length;Gt++)J=C[Gt],Tt=Ee+M(J,Gt),mt+=re(J,X,it,Tt,ft);else if(Gt=D(C),typeof Gt=="function")for(C=Gt.call(C),Gt=0;!(J=C.next()).done;)J=J.value,Tt=Ee+M(J,Gt++),mt+=re(J,X,it,Tt,ft);else if(Tt==="object"){if(typeof C.then=="function")return re(me(C),X,it,J,ft);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(C,X,it){if(C==null)return C;var J=[],ft=0;return re(C,J,"","",function(Tt){return X.call(it,Tt,ft++)}),J}function nt(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ut(){}return Rt.Children={map:H,forEach:function(C,X,it){H(C,function(){X.apply(this,arguments)},it)},count:function(C){var X=0;return H(C,function(){X++}),X},toArray:function(C){return H(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Rt.Component=W,Rt.Fragment=n,Rt.Profiler=l,Rt.PureComponent=dt,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Et.H.useMemoCache(C)}},Rt.cache=function(C){return function(){return C.apply(null,arguments)}},Rt.cloneElement=function(C,X,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=Z({},C.props),ft=C.key,Tt=void 0;if(X!=null)for(mt in X.ref!==void 0&&(Tt=void 0),X.key!==void 0&&(ft=""+X.key),X)!It.call(X,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&X.ref===void 0||(J[mt]=X[mt]);var mt=arguments.length-2;if(mt===1)J.children=it;else if(1<mt){for(var Ee=Array(mt),Gt=0;Gt<mt;Gt++)Ee[Gt]=arguments[Gt+2];J.children=Ee}return N(C.type,ft,void 0,void 0,Tt,J)},Rt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Rt.createElement=function(C,X,it){var J,ft={},Tt=null;if(X!=null)for(J in X.key!==void 0&&(Tt=""+X.key),X)It.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ft[J]=X[J]);var mt=arguments.length-2;if(mt===1)ft.children=it;else if(1<mt){for(var Ee=Array(mt),Gt=0;Gt<mt;Gt++)Ee[Gt]=arguments[Gt+2];ft.children=Ee}if(C&&C.defaultProps)for(J in mt=C.defaultProps,mt)ft[J]===void 0&&(ft[J]=mt[J]);return N(C,Tt,void 0,void 0,null,ft)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(C){return{$$typeof:m,render:C}},Rt.isValidElement=w,Rt.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:nt}},Rt.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},Rt.startTransition=function(C){var X=Et.T,it={};Et.T=it;try{var J=C(),ft=Et.S;ft!==null&&ft(it,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ut,lt)}catch(Tt){lt(Tt)}finally{Et.T=X}},Rt.unstable_useCacheRefresh=function(){return Et.H.useCacheRefresh()},Rt.use=function(C){return Et.H.use(C)},Rt.useActionState=function(C,X,it){return Et.H.useActionState(C,X,it)},Rt.useCallback=function(C,X){return Et.H.useCallback(C,X)},Rt.useContext=function(C){return Et.H.useContext(C)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(C,X){return Et.H.useDeferredValue(C,X)},Rt.useEffect=function(C,X,it){var J=Et.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,X)},Rt.useId=function(){return Et.H.useId()},Rt.useImperativeHandle=function(C,X,it){return Et.H.useImperativeHandle(C,X,it)},Rt.useInsertionEffect=function(C,X){return Et.H.useInsertionEffect(C,X)},Rt.useLayoutEffect=function(C,X){return Et.H.useLayoutEffect(C,X)},Rt.useMemo=function(C,X){return Et.H.useMemo(C,X)},Rt.useOptimistic=function(C,X){return Et.H.useOptimistic(C,X)},Rt.useReducer=function(C,X,it){return Et.H.useReducer(C,X,it)},Rt.useRef=function(C){return Et.H.useRef(C)},Rt.useState=function(C){return Et.H.useState(C)},Rt.useSyncExternalStore=function(C,X,it){return Et.H.useSyncExternalStore(C,X,it)},Rt.useTransition=function(){return Et.H.useTransition()},Rt.version="19.1.0",Rt}var p_;function dg(){return p_||(p_=1,bd.exports=G1()),bd.exports}var Zt=dg(),Ad={exports:{}},yl={},wd={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function K1(){return y_||(y_=1,function(r){function t(H,nt){var lt=H.length;H.push(nt);t:for(;0<lt;){var Ut=lt-1>>>1,C=H[Ut];if(0<l(C,nt))H[Ut]=nt,H[lt]=C,lt=Ut;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var nt=H[0],lt=H.pop();if(lt!==nt){H[0]=lt;t:for(var Ut=0,C=H.length,X=C>>>1;Ut<X;){var it=2*(Ut+1)-1,J=H[it],ft=it+1,Tt=H[ft];if(0>l(J,lt))ft<C&&0>l(Tt,J)?(H[Ut]=Tt,H[ft]=lt,Ut=ft):(H[Ut]=J,H[it]=lt,Ut=it);else if(ft<C&&0>l(Tt,lt))H[Ut]=Tt,H[ft]=lt,Ut=ft;else break t}}return nt}function l(H,nt){var lt=H.sortIndex-nt.sortIndex;return lt!==0?lt:H.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],_=[],S=1,I=null,D=3,F=!1,Z=!1,rt=!1,W=!1,At=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Ot(H){for(var nt=n(_);nt!==null;){if(nt.callback===null)s(_);else if(nt.startTime<=H)s(_),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=n(_)}}function Et(H){if(rt=!1,Ot(H),!Z)if(n(p)!==null)Z=!0,It||(It=!0,M());else{var nt=n(_);nt!==null&&re(Et,nt.startTime-H)}}var It=!1,N=-1,b=5,w=-1;function x(){return W?!0:!(r.unstable_now()-w<b)}function V(){if(W=!1,It){var H=r.unstable_now();w=H;var nt=!0;try{t:{Z=!1,rt&&(rt=!1,dt(N),N=-1),F=!0;var lt=D;try{e:{for(Ot(H),I=n(p);I!==null&&!(I.expirationTime>H&&x());){var Ut=I.callback;if(typeof Ut=="function"){I.callback=null,D=I.priorityLevel;var C=Ut(I.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){I.callback=C,Ot(H),nt=!0;break e}I===n(p)&&s(p),Ot(H)}else s(p);I=n(p)}if(I!==null)nt=!0;else{var X=n(_);X!==null&&re(Et,X.startTime-H),nt=!1}}break t}finally{I=null,D=lt,F=!1}nt=void 0}}finally{nt?M():It=!1}}}var M;if(typeof ht=="function")M=function(){ht(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,me=R.port2;R.port1.onmessage=V,M=function(){me.postMessage(null)}}else M=function(){At(V,0)};function re(H,nt){N=At(function(){H(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var nt=3;break;default:nt=D}var lt=D;D=nt;try{return H()}finally{D=lt}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=D;D=H;try{return nt()}finally{D=lt}},r.unstable_scheduleCallback=function(H,nt,lt){var Ut=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Ut+lt:Ut):lt=Ut,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,H={id:S++,callback:nt,priorityLevel:H,startTime:lt,expirationTime:C,sortIndex:-1},lt>Ut?(H.sortIndex=lt,t(_,H),n(p)===null&&H===n(_)&&(rt?(dt(N),N=-1):rt=!0,re(Et,lt-Ut))):(H.sortIndex=C,t(p,H),Z||F||(Z=!0,It||(It=!0,M()))),H},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(H){var nt=D;return function(){var lt=D;D=nt;try{return H.apply(this,arguments)}finally{D=lt}}}}(Rd)),Rd}var __;function Q1(){return __||(__=1,wd.exports=K1()),wd.exports}var Id={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function Y1(){if(v_)return Je;v_=1;var r=dg();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,S){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(p,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,S)},Je.flushSync=function(p){var _=d.T,S=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=S,s.d.f()}},Je.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Je.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Je.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var S=_.as,I=m(S,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:D,fetchPriority:F}):S==="script"&&s.d.X(p,{crossOrigin:I,integrity:D,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Je.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=m(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Je.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,I=m(S,_.crossOrigin);s.d.L(p,S,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Je.preloadModule=function(p,_){if(typeof p=="string")if(_){var S=m(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Je.requestFormReset=function(p){s.d.r(p)},Je.unstable_batchedUpdates=function(p,_){return p(_)},Je.useFormState=function(p,_,S){return d.H.useFormState(p,_,S)},Je.useFormStatus=function(){return d.H.useHostTransitionStatus()},Je.version="19.1.0",Je}var E_;function X1(){if(E_)return Id.exports;E_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=Y1(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function $1(){if(T_)return yl;T_=1;var r=Q1(),t=dg(),n=X1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),e;if(f===o)return m(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case W:return"Profiler";case rt:return"StrictMode";case Et:return"Suspense";case It:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case ht:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case Ot:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:me(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return me(e(i))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Ut=[],C=-1;function X(e){return{current:e}}function it(e){0>C||(e.current=Ut[C],Ut[C]=null,C--)}function J(e,i){C++,Ut[C]=e.current,e.current=i}var ft=X(null),Tt=X(null),mt=X(null),Ee=X(null);function Gt(e,i){switch(J(mt,i),J(Tt,e),J(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=By(i),e=qy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}it(ft),J(ft,e)}function In(){it(ft),it(Tt),it(mt)}function $e(e){e.memoizedState!==null&&J(Ee,e);var i=ft.current,a=qy(i,e.type);i!==a&&(J(Tt,e),J(ft,a))}function sn(e){Tt.current===e&&(it(ft),it(Tt)),Ee.current===e&&(it(Ee),hl._currentValue=lt)}var Si=Object.prototype.hasOwnProperty,bi=r.unstable_scheduleCallback,Ai=r.unstable_cancelCallback,ir=r.unstable_shouldYield,Ks=r.unstable_requestPaint,hn=r.unstable_now,uo=r.unstable_getCurrentPriorityLevel,es=r.unstable_ImmediatePriority,tt=r.unstable_UserBlockingPriority,ut=r.unstable_NormalPriority,xt=r.unstable_LowPriority,Kt=r.unstable_IdlePriority,fe=r.log,yn=r.unstable_setDisableYieldValue,Wt=null,Nt=null;function an(e){if(typeof fe=="function"&&yn(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Wt,e)}catch{}}var Ze=Math.clz32?Math.clz32:ns,Xl=Math.log,bh=Math.LN2;function ns(e){return e>>>=0,e===0?32:31-(Xl(e)/bh|0)|0}var is=256,rs=4194304;function Bn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qs(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Bn(o):(v&=E,v!==0?h=Bn(v):a||(a=E&~e,a!==0&&(h=Bn(a))))):(E=o&~f,E!==0?h=Bn(E):v!==0?h=Bn(v):a||(a=o&~e,a!==0&&(h=Bn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function ss(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function co(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var e=is;return is<<=1,(is&4194048)===0&&(is=256),e}function fo(){var e=rs;return rs<<=1,(rs&62914560)===0&&(rs=4194304),e}function wi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ri(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function go(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,A=e.expirationTimes,U=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Ze(a),Q=1<<G;E[G]=0,A[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var j=z[G];j!==null&&(j.lane&=-536870913)}a&=~Q}o!==0&&Zn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function Zn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ze(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function mo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Ze(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ys(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sr(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function $l(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var le=Math.random().toString(36).slice(2),Ie="__reactFiber$"+le,Te="__reactProps$"+le,Cn="__reactContainer$"+le,po="__reactEvents$"+le,Ah="__reactListeners$"+le,ar="__reactHandles$"+le,Zl="__reactResources$"+le,as="__reactMarker$"+le;function or(e){delete e[Ie],delete e[Te],delete e[po],delete e[Ah],delete e[ar]}function Ii(e){var i=e[Ie];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Cn]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Ky(e);e!==null;){if(a=e[Ie])return a;e=Ky(e)}return i}e=a,a=e.parentNode}return null}function Wn(e){if(e=e[Ie]||e[Cn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function on(e){var i=e[Zl];return i||(i=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pe(e){e[as]=!0}var yo=new Set,Xs={};function qn(e,i){Ci(e,i),Ci(e+"Capture",i)}function Ci(e,i){for(Xs[e]=i,e=0;e<i.length;e++)yo.add(i[e])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jl={},os={};function tu(e){return Si.call(os,e)?!0:Si.call(Jl,e)?!1:Wl.test(e)?os[e]=!0:(Jl[e]=!0,!1)}function lr(e,i,a){if(tu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ti(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Be(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var ls,eu;function Di(e){if(ls===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ls=i&&i[1]||"",eu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ls+e+eu}var $s=!1;function Zs(e,i){if(!e||$s)return"";$s=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){z=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var A=v.split(`
`),U=E.split(`
`);for(h=o=0;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===A.length||h===U.length)for(o=A.length-1,h=U.length-1;1<=o&&0<=h&&A[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(A[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||A[o]!==U[h]){var G=`
`+A[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{$s=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Di(a):""}function _o(e){switch(e.tag){case 26:case 27:case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return Zs(e.type,!1);case 11:return Zs(e.type.render,!1);case 1:return Zs(e.type,!0);case 31:return Di("Activity");default:return""}}function Ws(e){try{var i="";do i+=_o(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wh(e){var i=vo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Js(e){e._valueTracker||(e._valueTracker=wh(e))}function Eo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=vo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rh=/[\n"\\]/g;function Se(e){return e.replace(Rh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _n(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ln(i)):e.value!==""+ln(i)&&(e.value=""+ln(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?ur(e,v,ln(i)):a!=null?ur(e,v,ln(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ln(E):e.removeAttribute("name")}function cs(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+ln(a):"",i=i!=null?""+ln(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function ur(e,i,a){i==="number"&&us(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Oi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ln(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Jt(e,i,a){if(i!=null&&(i=""+ln(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ln(a):""}function hs(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=ln(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Dn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var fs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||fs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function To(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&nu(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&nu(e,f,i[f])}function So(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return Ch.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var xi=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,Vi=null;function bo(e){var i=Wn(e);if(i&&(e=i.stateNode)){var a=e[Te]||null;t:switch(e=i.stateNode,i.type){case"input":if(_n(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Te]||null;if(!h)throw Error(s(90));_n(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&Eo(o)}break t;case"textarea":Jt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Oi(e,!!a.multiple,i,!1)}}}var ei=!1;function iu(e,i,a){if(ei)return e(i,a);ei=!0;try{var o=e(i);return o}finally{if(ei=!1,(Ni!==null||Vi!==null)&&($u(),Ni&&(i=Ni,e=Vi,Vi=Ni=null,bo(i),e)))for(i=0;i<e.length;i++)bo(e[i])}}function ds(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Te]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Hn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){xn=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{xn=!1}var ni=null,cr=null,Mi=null;function Ao(){if(Mi)return Mi;var e,i=cr,a=i.length,o,h="value"in ni?ni.value:ni.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return Mi=h.slice(e,1<o?1-o:void 0)}function ii(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function wo(){return!1}function Me(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ri:wo,this.isPropagationStopped=wo,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Me(Qt),ms=S({},Qt,{view:0,detail:0}),ru=Me(ms),na,ia,si,ps=S({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(na=e.screenX-si.screenX,ia=e.screenY-si.screenY):ia=na=0,si=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Nn=Me(ps),su=S({},ps,{dataTransfer:0}),Dh=Me(su),ys=S({},ms,{relatedTarget:0}),ra=Me(ys),Ro=S({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),sa=Me(Ro),au=S({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aa=Me(au),Oh=S({},Qt,{data:0}),Io=Me(Oh),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=lu[e])?!!i[e]:!1}function vs(){return Co}var uu=S({},ms,{key:function(e){if(e.key){var i=_s[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oa=Me(uu),cu=S({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=Me(cu),ki=S({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),hu=Me(ki),fu=S({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=Me(fu),gu=S({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),la=Me(gu),un=S({},Qt,{newState:0,oldState:0}),mu=Me(un),pu=[9,13,27,32],ai=Hn&&"CompositionEvent"in window,u=null;Hn&&"documentMode"in document&&(u=document.documentMode);var g=Hn&&"TextEvent"in window&&!u,y=Hn&&(!ai||u&&8<u&&11>=u),T=" ",P=!1;function q(e,i){switch(e){case"keyup":return pu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zt=!1;function Ce(e,i){switch(e){case"compositionend":return et(i);case"keypress":return i.which!==32?null:(P=!0,T);case"textInput":return e=i.data,e===T&&P?null:e;default:return null}}function jt(e,i){if(zt)return e==="compositionend"||!ai&&q(e,i)?(e=Ao(),Mi=cr=ni=null,zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!ke[e.type]:i==="textarea"}function Pi(e,i,a,o){Ni?Vi?Vi.push(o):Vi=[o]:Ni=o,i=nc(i,"onChange"),0<i.length&&(a=new ea("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var qe=null,oi=null;function Oo(e){Py(e,0)}function yu(e){var i=Jn(e);if(Eo(i))return e}function im(e,i){if(e==="change")return i}var rm=!1;if(Hn){var xh;if(Hn){var Nh="oninput"in document;if(!Nh){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),Nh=typeof sm.oninput=="function"}xh=Nh}else xh=!1;rm=xh&&(!document.documentMode||9<document.documentMode)}function am(){qe&&(qe.detachEvent("onpropertychange",om),oi=qe=null)}function om(e){if(e.propertyName==="value"&&yu(oi)){var i=[];Pi(i,oi,e,On(e)),iu(Oo,i)}}function vT(e,i,a){e==="focusin"?(am(),qe=i,oi=a,qe.attachEvent("onpropertychange",om)):e==="focusout"&&am()}function ET(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(oi)}function TT(e,i){if(e==="click")return yu(i)}function ST(e,i){if(e==="input"||e==="change")return yu(i)}function bT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var vn=typeof Object.is=="function"?Object.is:bT;function xo(e,i){if(vn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Si.call(i,h)||!vn(e[h],i[h]))return!1}return!0}function lm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function um(e,i){var a=lm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=lm(a)}}function cm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?cm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function hm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=us(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=us(e.document)}return i}function Vh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var AT=Hn&&"documentMode"in document&&11>=document.documentMode,ua=null,Mh=null,No=null,kh=!1;function fm(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||ua==null||ua!==us(o)||(o=ua,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),No&&xo(No,o)||(No=o,o=nc(Mh,"onSelect"),0<o.length&&(i=new ea("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ua)))}function Es(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ca={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Ph={},dm={};Hn&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Ts(e){if(Ph[e])return Ph[e];if(!ca[e])return e;var i=ca[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in dm)return Ph[e]=i[a];return e}var gm=Ts("animationend"),mm=Ts("animationiteration"),pm=Ts("animationstart"),wT=Ts("transitionrun"),RT=Ts("transitionstart"),IT=Ts("transitioncancel"),ym=Ts("transitionend"),_m=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function Fn(e,i){_m.set(e,i),qn(i,[e])}var vm=new WeakMap;function Vn(e,i){if(typeof e=="object"&&e!==null){var a=vm.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ws(i)},vm.set(e,i),i)}return{value:e,source:i,stack:Ws(i)}}var Mn=[],ha=0,Uh=0;function _u(){for(var e=ha,i=Uh=ha=0;i<e;){var a=Mn[i];Mn[i++]=null;var o=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var f=Mn[i];if(Mn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&Em(a,h,f)}}function vu(e,i,a,o){Mn[ha++]=e,Mn[ha++]=i,Mn[ha++]=a,Mn[ha++]=o,Uh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,i,a,o){return vu(e,i,a,o),Eu(e)}function fa(e,i){return vu(e,null,null,i),Eu(e)}function Em(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-Ze(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Eu(e){if(50<il)throw il=0,Kf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var da={};function CT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,i,a,o){return new CT(e,i,a,o)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,i){var a=e.alternate;return a===null?(a=En(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Tm(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Tu(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")jh(e)&&(v=1);else if(typeof e=="string")v=O1(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=En(31,a,i,h),e.elementType=w,e.lanes=f,e;case Z:return Ss(a.children,h,f,i);case rt:v=8,h|=24;break;case W:return e=En(12,a,i,h|2),e.elementType=W,e.lanes=f,e;case Et:return e=En(13,a,i,h),e.elementType=Et,e.lanes=f,e;case It:return e=En(19,a,i,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case At:case ht:v=10;break t;case dt:v=9;break t;case Ot:v=11;break t;case N:v=14;break t;case b:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=En(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Ss(e,i,a,o){return e=En(7,e,o,i),e.lanes=a,e}function Bh(e,i,a){return e=En(6,e,null,i),e.lanes=a,e}function qh(e,i,a){return i=En(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ga=[],ma=0,Su=null,bu=0,kn=[],Pn=0,bs=null,Ui=1,zi="";function As(e,i){ga[ma++]=bu,ga[ma++]=Su,Su=e,bu=i}function Sm(e,i,a){kn[Pn++]=Ui,kn[Pn++]=zi,kn[Pn++]=bs,bs=e;var o=Ui;e=zi;var h=32-Ze(o)-1;o&=~(1<<h),a+=1;var f=32-Ze(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ui=1<<32-Ze(i)+h|a<<h|o,zi=f+e}else Ui=1<<f|a<<h|o,zi=e}function Hh(e){e.return!==null&&(As(e,1),Sm(e,1,0))}function Fh(e){for(;e===Su;)Su=ga[--ma],ga[ma]=null,bu=ga[--ma],ga[ma]=null;for(;e===bs;)bs=kn[--Pn],kn[Pn]=null,zi=kn[--Pn],kn[Pn]=null,Ui=kn[--Pn],kn[Pn]=null}var cn=null,de=null,Ft=!1,ws=null,li=!1,Gh=Error(s(519));function Rs(e){var i=Error(s(418,""));throw ko(Vn(i,e)),Gh}function bm(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ie]=e,i[Te]=o,a){case"dialog":kt("cancel",i),kt("close",i);break;case"iframe":case"object":case"embed":kt("load",i);break;case"video":case"audio":for(a=0;a<sl.length;a++)kt(sl[a],i);break;case"source":kt("error",i);break;case"img":case"image":case"link":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"input":kt("invalid",i),cs(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Js(i);break;case"select":kt("invalid",i);break;case"textarea":kt("invalid",i),hs(i,o.value,o.defaultValue,o.children),Js(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||jy(i.textContent,a)?(o.popover!=null&&(kt("beforetoggle",i),kt("toggle",i)),o.onScroll!=null&&kt("scroll",i),o.onScrollEnd!=null&&kt("scrollend",i),o.onClick!=null&&(i.onclick=ic),i=!0):i=!1,i||Rs(e)}function Am(e){for(cn=e.return;cn;)switch(cn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:cn=cn.return}}function Vo(e){if(e!==cn)return!1;if(!Ft)return Am(e),Ft=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ld(e.type,e.memoizedProps)),a=!a),a&&de&&Rs(e),Am(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){de=Kn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}de=null}}else i===27?(i=de,Rr(e.type)?(e=fd,fd=null,de=e):de=i):de=cn?Kn(e.stateNode.nextSibling):null;return!0}function Mo(){de=cn=null,Ft=!1}function wm(){var e=ws;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),ws=null),e}function ko(e){ws===null?ws=[e]:ws.push(e)}var Kh=X(null),Is=null,ji=null;function hr(e,i,a){J(Kh,i._currentValue),i._currentValue=a}function Bi(e){e._currentValue=Kh.current,it(Kh)}function Qh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Yh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var A=0;A<i.length;A++)if(E.context===i[A]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Qh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Qh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Po(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;vn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ee.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Yh(i,e,a,o),i.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Is=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return Rm(Is,e)}function wu(e,i){return Is===null&&Cs(e),Rm(e,i)}function Rm(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(e===null)throw Error(s(308));ji=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ji=ji.next=i;return a}var DT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},OT=r.unstable_scheduleCallback,xT=r.unstable_NormalPriority,Oe={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new DT,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&OT(xT,function(){e.controller.abort()})}var Uo=null,$h=0,pa=0,ya=null;function NT(e,i){if(Uo===null){var a=Uo=[];$h=0,pa=Jf(),ya={status:"pending",value:void 0,then:function(o){a.push(o)}}}return $h++,i.then(Im,Im),i}function Im(){if(--$h===0&&Uo!==null){ya!==null&&(ya.status="fulfilled");var e=Uo;Uo=null,pa=0,ya=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function VT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Cm=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&NT(e,i),Cm!==null&&Cm(e,i)};var Ds=X(null);function Zh(){var e=Ds.current;return e!==null?e:se.pooledCache}function Ru(e,i){i===null?J(Ds,Ds.current):J(Ds,i.pool)}function Dm(){var e=Zh();return e===null?null:{parent:Oe._currentValue,pool:e}}var zo=Error(s(460)),Om=Error(s(474)),Iu=Error(s(542)),Wh={then:function(){}};function xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cu(){}function Nm(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Cu,Cu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Mm(e),e;default:if(typeof i.status=="string")i.then(Cu,Cu);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Mm(e),e}throw jo=i,zo}}var jo=null;function Vm(){if(jo===null)throw Error(s(459));var e=jo;return jo=null,e}function Mm(e){if(e===zo||e===Iu)throw Error(s(483))}var fr=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Eu(e),Em(e,null,a),i}return vu(e,o,i,a),Eu(e)}function Bo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,mo(e,a)}}function ef(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var nf=!1;function qo(){if(nf){var e=ya;if(e!==null)throw e}}function Ho(e,i,a,o){nf=!1;var h=e.updateQueue;fr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var A=E,U=A.next;A.next=null,v===null?f=U:v.next=U,v=A;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=U:E.next=U,G.lastBaseUpdate=A))}if(f!==null){var Q=h.baseState;v=0,G=U=A=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Bt&z)===z:(o&z)===z){z!==0&&z===pa&&(nf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var St=e,pt=E;z=i;var ne=a;switch(pt.tag){case 1:if(St=pt.payload,typeof St=="function"){Q=St.call(ne,Q,z);break t}Q=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=pt.payload,z=typeof St=="function"?St.call(ne,Q,z):St,z==null)break t;Q=S({},Q,z);break t;case 2:fr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(U=G=j,A=Q):G=G.next=j,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);G===null&&(A=Q),h.baseState=A,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Sr|=v,e.lanes=v,e.memoizedState=Q}}function km(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Pm(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)km(a[e],i)}var _a=X(null),Du=X(0);function Lm(e,i){e=Yi,J(Du,e),J(_a,i),Yi=e|i.baseLanes}function rf(){J(Du,Yi),J(_a,_a.current)}function sf(){Yi=Du.current,it(_a),it(Du)}var mr=0,Ct=null,te=null,be=null,Ou=!1,va=!1,Os=!1,xu=0,Fo=0,Ea=null,MT=0;function ye(){throw Error(s(321))}function af(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!vn(e[a],i[a]))return!1;return!0}function of(e,i,a,o,h,f){return mr=f,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?Ep:Tp,Os=!1,f=a(o,h),Os=!1,va&&(f=zm(i,a,o,h)),Um(e),f}function Um(e){H.H=Lu;var i=te!==null&&te.next!==null;if(mr=0,be=te=Ct=null,Ou=!1,Fo=0,Ea=null,i)throw Error(s(300));e===null||Pe||(e=e.dependencies,e!==null&&Au(e)&&(Pe=!0))}function zm(e,i,a,o){Ct=e;var h=0;do{if(va&&(Ea=null),Fo=0,va=!1,25<=h)throw Error(s(301));if(h+=1,be=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=BT,f=i(a,o)}while(va);return f}function kT(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Go(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Ct.flags|=1024),i}function lf(){var e=xu!==0;return xu=0,e}function uf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function cf(e){if(Ou){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ou=!1}mr=0,be=te=Ct=null,va=!1,Fo=xu=0,Ea=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Ct.memoizedState=be=e:be=be.next=e,be}function Ae(){if(te===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=be===null?Ct.memoizedState:be.next;if(i!==null)be=i,te=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},be===null?Ct.memoizedState=be=e:be=be.next=e}return be}function hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var i=Fo;return Fo+=1,Ea===null&&(Ea=[]),e=Nm(Ea,e,i),i=Ct,(be===null?i.memoizedState:be.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Ep:Tp),e}function Nu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===ht)return We(e)}throw Error(s(438,String(e)))}function ff(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hf(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=x;return i.index++,a}function qi(e,i){return typeof i=="function"?i(e):i}function Vu(e){var i=Ae();return df(i,te,e)}function df(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,A=null,U=i,G=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(Bt&Q)===Q:(mr&Q)===Q){var z=U.revertLane;if(z===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===pa&&(G=!0);else if((mr&z)===z){U=U.next,z===pa&&(G=!0);continue}else Q={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(E=A=Q,v=f):A=A.next=Q,Ct.lanes|=z,Sr|=z;Q=U.action,Os&&a(f,Q),f=U.hasEagerState?U.eagerState:a(f,Q)}else z={lane:Q,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(E=A=z,v=f):A=A.next=z,Ct.lanes|=Q,Sr|=Q;U=U.next}while(U!==null&&U!==i);if(A===null?v=f:A.next=E,!vn(f,e.memoizedState)&&(Pe=!0,G&&(a=ya,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=A,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gf(e){var i=Ae(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);vn(f,i.memoizedState)||(Pe=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function jm(e,i,a){var o=Ct,h=Ae(),f=Ft;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!vn((te||h).memoizedState,a);v&&(h.memoizedState=a,Pe=!0),h=h.queue;var E=Hm.bind(null,o,h,e);if(Ko(2048,8,E,[e]),h.getSnapshot!==i||v||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,Ta(9,Mu(),qm.bind(null,o,h,a,i),null),se===null)throw Error(s(349));f||(mr&124)!==0||Bm(o,i,a)}return a}function Bm(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=hf(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function qm(e,i,a,o){i.value=a,i.getSnapshot=o,Fm(i)&&Gm(e)}function Hm(e,i,a){return a(function(){Fm(i)&&Gm(e)})}function Fm(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!vn(e,a)}catch{return!0}}function Gm(e){var i=fa(e,2);i!==null&&wn(i,e,2)}function mf(e){var i=fn();if(typeof e=="function"){var a=e;if(e=a(),Os){an(!0);try{a()}finally{an(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},i}function Km(e,i,a,o){return e.baseState=a,df(e,te,typeof o=="function"?o:qi)}function PT(e,i,a,o,h){if(Pu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Qm(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Qm(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=H.T,v={};H.T=v;try{var E=a(h,o),A=H.S;A!==null&&A(v,E),Ym(e,i,E)}catch(U){pf(e,i,U)}finally{H.T=f}}else try{f=a(h,o),Ym(e,i,f)}catch(U){pf(e,i,U)}}function Ym(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Xm(e,i,o)},function(o){return pf(e,i,o)}):Xm(e,i,a)}function Xm(e,i,a){i.status="fulfilled",i.value=a,$m(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Qm(e,a)))}function pf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,$m(i),i=i.next;while(i!==o)}e.action=null}function $m(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Zm(e,i){return i}function Wm(e,i){if(Ft){var a=se.formState;if(a!==null){t:{var o=Ct;if(Ft){if(de){e:{for(var h=de,f=li;h.nodeType!==8;){if(!f){h=null;break e}if(h=Kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){de=Kn(h.nextSibling),o=h.data==="F!";break t}}Rs(o)}o=!1}o&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:i},a.queue=o,a=yp.bind(null,Ct,o),o.dispatch=a,o=mf(!1),f=Tf.bind(null,Ct,!1,o.queue),o=fn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=PT.bind(null,Ct,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Jm(e){var i=Ae();return tp(i,te,e)}function tp(e,i,a){if(i=df(e,i,Zm)[0],e=Vu(qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Go(i)}catch(v){throw v===zo?Iu:v}else o=i;i=Ae();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ct.flags|=2048,Ta(9,Mu(),LT.bind(null,h,a),null)),[o,f,e]}function LT(e,i){e.action=i}function ep(e){var i=Ae(),a=te;if(a!==null)return tp(i,a,e);Ae(),i=i.memoizedState,a=Ae();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ta(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=hf(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Mu(){return{destroy:void 0,resource:void 0}}function np(){return Ae().memoizedState}function ku(e,i,a,o){var h=fn();o=o===void 0?null:o,Ct.flags|=e,h.memoizedState=Ta(1|i,Mu(),a,o)}function Ko(e,i,a,o){var h=Ae();o=o===void 0?null:o;var f=h.memoizedState.inst;te!==null&&o!==null&&af(o,te.memoizedState.deps)?h.memoizedState=Ta(i,f,a,o):(Ct.flags|=e,h.memoizedState=Ta(1|i,f,a,o))}function ip(e,i){ku(8390656,8,e,i)}function rp(e,i){Ko(2048,8,e,i)}function sp(e,i){return Ko(4,2,e,i)}function ap(e,i){return Ko(4,4,e,i)}function op(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function lp(e,i,a){a=a!=null?a.concat([e]):null,Ko(4,4,op.bind(null,i,e),a)}function yf(){}function up(e,i){var a=Ae();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&af(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function cp(e,i){var a=Ae();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&af(i,o[1]))return o[0];if(o=e(),Os){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o}function _f(e,i,a){return a===void 0||(mr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=dy(),Ct.lanes|=e,Sr|=e,a)}function hp(e,i,a,o){return vn(a,i)?a:_a.current!==null?(e=_f(e,a,o),vn(e,i)||(Pe=!0),e):(mr&42)===0?(Pe=!0,e.memoizedState=a):(e=dy(),Ct.lanes|=e,Sr|=e,i)}function fp(e,i,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,Tf(e,!1,i,a);try{var A=h(),U=H.S;if(U!==null&&U(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=VT(A,o);Qo(e,i,G,An(e))}else Qo(e,i,o,An(e))}catch(Q){Qo(e,i,{then:function(){},status:"rejected",reason:Q},An())}finally{nt.p=f,H.T=v}}function UT(){}function vf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=dp(e).queue;fp(e,h,i,lt,a===null?UT:function(){return gp(e),a(o)})}function dp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:lt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function gp(e){var i=dp(e).next.queue;Qo(e,i,{},An())}function Ef(){return We(hl)}function mp(){return Ae().memoizedState}function pp(){return Ae().memoizedState}function zT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();e=dr(a);var o=gr(i,e,a);o!==null&&(wn(o,i,a),Bo(o,i,a)),i={cache:Xh()},e.payload=i;return}i=i.return}}function jT(e,i,a){var o=An();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pu(e)?_p(i,a):(a=zh(e,i,a,o),a!==null&&(wn(a,e,o),vp(a,i,o)))}function yp(e,i,a){var o=An();Qo(e,i,a,o)}function Qo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))_p(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,vn(E,v))return vu(e,i,h,0),se===null&&_u(),!1}catch{}finally{}if(a=zh(e,i,h,o),a!==null)return wn(a,e,o),vp(a,i,o),!0}return!1}function Tf(e,i,a,o){if(o={lane:2,revertLane:Jf(),action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(i)throw Error(s(479))}else i=zh(e,a,o,2),i!==null&&wn(i,e,2)}function Pu(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function _p(e,i){va=Ou=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function vp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,mo(e,a)}}var Lu={readContext:We,use:Nu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},Ep={readContext:We,use:Nu,useCallback:function(e,i){return fn().memoizedState=[e,i===void 0?null:i],e},useContext:We,useEffect:ip,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ku(4194308,4,op.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ku(4194308,4,e,i)},useInsertionEffect:function(e,i){ku(4,2,e,i)},useMemo:function(e,i){var a=fn();i=i===void 0?null:i;var o=e();if(Os){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=fn();if(a!==void 0){var h=a(i);if(Os){an(!0);try{a(i)}finally{an(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=jT.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var i=fn();return e={current:e},i.memoizedState=e},useState:function(e){e=mf(e);var i=e.queue,a=yp.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:yf,useDeferredValue:function(e,i){var a=fn();return _f(a,e,i)},useTransition:function(){var e=mf(!1);return e=fp.bind(null,Ct,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Ct,h=fn();if(Ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),se===null)throw Error(s(349));(Bt&124)!==0||Bm(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,ip(Hm.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,Mu(),qm.bind(null,o,f,a,i),null),a},useId:function(){var e=fn(),i=se.identifierPrefix;if(Ft){var a=zi,o=Ui;a=(o&~(1<<32-Ze(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=xu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=MT++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Ef,useFormState:Wm,useActionState:Wm,useOptimistic:function(e){var i=fn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Tf.bind(null,Ct,!0,a),a.dispatch=i,[e,i]},useMemoCache:ff,useCacheRefresh:function(){return fn().memoizedState=zT.bind(null,Ct)}},Tp={readContext:We,use:Nu,useCallback:up,useContext:We,useEffect:rp,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:Vu,useRef:np,useState:function(){return Vu(qi)},useDebugValue:yf,useDeferredValue:function(e,i){var a=Ae();return hp(a,te.memoizedState,e,i)},useTransition:function(){var e=Vu(qi)[0],i=Ae().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:jm,useId:mp,useHostTransitionStatus:Ef,useFormState:Jm,useActionState:Jm,useOptimistic:function(e,i){var a=Ae();return Km(a,te,e,i)},useMemoCache:ff,useCacheRefresh:pp},BT={readContext:We,use:Nu,useCallback:up,useContext:We,useEffect:rp,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:gf,useRef:np,useState:function(){return gf(qi)},useDebugValue:yf,useDeferredValue:function(e,i){var a=Ae();return te===null?_f(a,e,i):hp(a,te.memoizedState,e,i)},useTransition:function(){var e=gf(qi)[0],i=Ae().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:jm,useId:mp,useHostTransitionStatus:Ef,useFormState:ep,useActionState:ep,useOptimistic:function(e,i){var a=Ae();return te!==null?Km(a,te,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ff,useCacheRefresh:pp},Sa=null,Yo=0;function Uu(e){var i=Yo;return Yo+=1,Sa===null&&(Sa=[]),Nm(Sa,e,i)}function Xo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function zu(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Sp(e){var i=e._init;return i(e._payload)}function bp(e){function i(k,O){if(e){var L=k.deletions;L===null?(k.deletions=[O],k.flags|=16):L.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Li(k,O),k.index=0,k.sibling=null,k}function f(k,O,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<O?(k.flags|=67108866,O):L):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,L,K){return O===null||O.tag!==6?(O=Bh(L,k.mode,K),O.return=k,O):(O=h(O,L),O.return=k,O)}function A(k,O,L,K){var at=L.type;return at===Z?G(k,O,L.props.children,K,L.key):O!==null&&(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Sp(at)===O.type)?(O=h(O,L.props),Xo(O,L),O.return=k,O):(O=Tu(L.type,L.key,L.props,null,k.mode,K),Xo(O,L),O.return=k,O)}function U(k,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=qh(L,k.mode,K),O.return=k,O):(O=h(O,L.children||[]),O.return=k,O)}function G(k,O,L,K,at){return O===null||O.tag!==7?(O=Ss(L,k.mode,K,at),O.return=k,O):(O=h(O,L),O.return=k,O)}function Q(k,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Bh(""+O,k.mode,L),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return L=Tu(O.type,O.key,O.props,null,k.mode,L),Xo(L,O),L.return=k,L;case F:return O=qh(O,k.mode,L),O.return=k,O;case b:var K=O._init;return O=K(O._payload),Q(k,O,L)}if(re(O)||M(O))return O=Ss(O,k.mode,L,null),O.return=k,O;if(typeof O.then=="function")return Q(k,Uu(O),L);if(O.$$typeof===ht)return Q(k,wu(k,O),L);zu(k,O)}return null}function z(k,O,L,K){var at=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(k,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===at?A(k,O,L,K):null;case F:return L.key===at?U(k,O,L,K):null;case b:return at=L._init,L=at(L._payload),z(k,O,L,K)}if(re(L)||M(L))return at!==null?null:G(k,O,L,K,null);if(typeof L.then=="function")return z(k,O,Uu(L),K);if(L.$$typeof===ht)return z(k,O,wu(k,L),K);zu(k,L)}return null}function j(k,O,L,K,at){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(L)||null,E(O,k,""+K,at);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return k=k.get(K.key===null?L:K.key)||null,A(O,k,K,at);case F:return k=k.get(K.key===null?L:K.key)||null,U(O,k,K,at);case b:var Vt=K._init;return K=Vt(K._payload),j(k,O,L,K,at)}if(re(K)||M(K))return k=k.get(L)||null,G(O,k,K,at,null);if(typeof K.then=="function")return j(k,O,L,Uu(K),at);if(K.$$typeof===ht)return j(k,O,L,wu(O,K),at);zu(O,K)}return null}function St(k,O,L,K){for(var at=null,Vt=null,ct=O,yt=O=0,Ue=null;ct!==null&&yt<L.length;yt++){ct.index>yt?(Ue=ct,ct=null):Ue=ct.sibling;var Ht=z(k,ct,L[yt],K);if(Ht===null){ct===null&&(ct=Ue);break}e&&ct&&Ht.alternate===null&&i(k,ct),O=f(Ht,O,yt),Vt===null?at=Ht:Vt.sibling=Ht,Vt=Ht,ct=Ue}if(yt===L.length)return a(k,ct),Ft&&As(k,yt),at;if(ct===null){for(;yt<L.length;yt++)ct=Q(k,L[yt],K),ct!==null&&(O=f(ct,O,yt),Vt===null?at=ct:Vt.sibling=ct,Vt=ct);return Ft&&As(k,yt),at}for(ct=o(ct);yt<L.length;yt++)Ue=j(ct,k,yt,L[yt],K),Ue!==null&&(e&&Ue.alternate!==null&&ct.delete(Ue.key===null?yt:Ue.key),O=f(Ue,O,yt),Vt===null?at=Ue:Vt.sibling=Ue,Vt=Ue);return e&&ct.forEach(function(xr){return i(k,xr)}),Ft&&As(k,yt),at}function pt(k,O,L,K){if(L==null)throw Error(s(151));for(var at=null,Vt=null,ct=O,yt=O=0,Ue=null,Ht=L.next();ct!==null&&!Ht.done;yt++,Ht=L.next()){ct.index>yt?(Ue=ct,ct=null):Ue=ct.sibling;var xr=z(k,ct,Ht.value,K);if(xr===null){ct===null&&(ct=Ue);break}e&&ct&&xr.alternate===null&&i(k,ct),O=f(xr,O,yt),Vt===null?at=xr:Vt.sibling=xr,Vt=xr,ct=Ue}if(Ht.done)return a(k,ct),Ft&&As(k,yt),at;if(ct===null){for(;!Ht.done;yt++,Ht=L.next())Ht=Q(k,Ht.value,K),Ht!==null&&(O=f(Ht,O,yt),Vt===null?at=Ht:Vt.sibling=Ht,Vt=Ht);return Ft&&As(k,yt),at}for(ct=o(ct);!Ht.done;yt++,Ht=L.next())Ht=j(ct,k,yt,Ht.value,K),Ht!==null&&(e&&Ht.alternate!==null&&ct.delete(Ht.key===null?yt:Ht.key),O=f(Ht,O,yt),Vt===null?at=Ht:Vt.sibling=Ht,Vt=Ht);return e&&ct.forEach(function(q1){return i(k,q1)}),Ft&&As(k,yt),at}function ne(k,O,L,K){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:t:{for(var at=L.key;O!==null;){if(O.key===at){if(at=L.type,at===Z){if(O.tag===7){a(k,O.sibling),K=h(O,L.props.children),K.return=k,k=K;break t}}else if(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Sp(at)===O.type){a(k,O.sibling),K=h(O,L.props),Xo(K,L),K.return=k,k=K;break t}a(k,O);break}else i(k,O);O=O.sibling}L.type===Z?(K=Ss(L.props.children,k.mode,K,L.key),K.return=k,k=K):(K=Tu(L.type,L.key,L.props,null,k.mode,K),Xo(K,L),K.return=k,k=K)}return v(k);case F:t:{for(at=L.key;O!==null;){if(O.key===at)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(k,O.sibling),K=h(O,L.children||[]),K.return=k,k=K;break t}else{a(k,O);break}else i(k,O);O=O.sibling}K=qh(L,k.mode,K),K.return=k,k=K}return v(k);case b:return at=L._init,L=at(L._payload),ne(k,O,L,K)}if(re(L))return St(k,O,L,K);if(M(L)){if(at=M(L),typeof at!="function")throw Error(s(150));return L=at.call(L),pt(k,O,L,K)}if(typeof L.then=="function")return ne(k,O,Uu(L),K);if(L.$$typeof===ht)return ne(k,O,wu(k,L),K);zu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(k,O.sibling),K=h(O,L),K.return=k,k=K):(a(k,O),K=Bh(L,k.mode,K),K.return=k,k=K),v(k)):a(k,O)}return function(k,O,L,K){try{Yo=0;var at=ne(k,O,L,K);return Sa=null,at}catch(ct){if(ct===zo||ct===Iu)throw ct;var Vt=En(29,ct,null,k.mode);return Vt.lanes=K,Vt.return=k,Vt}finally{}}}var ba=bp(!0),Ap=bp(!1),Ln=X(null),ui=null;function pr(e){var i=e.alternate;J(xe,xe.current&1),J(Ln,e),ui===null&&(i===null||_a.current!==null||i.memoizedState!==null)&&(ui=e)}function wp(e){if(e.tag===22){if(J(xe,xe.current),J(Ln,e),ui===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ui=e)}}else yr()}function yr(){J(xe,xe.current),J(Ln,Ln.current)}function Hi(e){it(Ln),ui===e&&(ui=null),it(xe)}var xe=X(0);function ju(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=An(),h=dr(o);h.payload=i,a!=null&&(h.callback=a),i=gr(e,h,o),i!==null&&(wn(i,e,o),Bo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=An(),h=dr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=gr(e,h,o),i!==null&&(wn(i,e,o),Bo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=An(),o=dr(a);o.tag=2,i!=null&&(o.callback=i),i=gr(e,o,a),i!==null&&(wn(i,e,a),Bo(i,e,a))}};function Rp(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!xo(a,o)||!xo(h,f):!0}function Ip(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&bf.enqueueReplaceState(i,i.state,null)}function xs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Cp(e){Bu(e)}function Dp(e){console.error(e)}function Op(e){Bu(e)}function qu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function xp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(e,i,a){return a=dr(a),a.tag=3,a.payload={element:null},a.callback=function(){qu(e,i)},a}function Np(e){return e=dr(e),e.tag=3,e}function Vp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){xp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){xp(i,a,o),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function qT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Po(i,a,h,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return ui===null?Yf():a.alternate===null&&ge===0&&(ge=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Wh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),$f(e,o,h)),!1;case 22:return a.flags|=65536,o===Wh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),$f(e,o,h)),!1}throw Error(s(435,a.tag))}return $f(e,o,h),Yf(),!1}if(Ft)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Gh&&(e=Error(s(422),{cause:o}),ko(Vn(e,a)))):(o!==Gh&&(i=Error(s(423),{cause:o}),ko(Vn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,a),h=Af(e.stateNode,o,h),ef(e,h),ge!==4&&(ge=2)),!1;var f=Error(s(520),{cause:o});if(f=Vn(f,a),nl===null?nl=[f]:nl.push(f),ge!==4&&(ge=2),i===null)return!0;o=Vn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Af(a.stateNode,o,e),ef(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(br===null||!br.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Np(h),Vp(h,e,a,o),ef(a,h),!1}a=a.return}while(a!==null);return!1}var Mp=Error(s(461)),Pe=!1;function He(e,i,a,o){i.child=e===null?Ap(i,null,a,o):ba(i,e.child,a,o)}function kp(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Cs(i),o=of(e,i,a,v,f,h),E=lf(),e!==null&&!Pe?(uf(e,i,h),Fi(e,i,h)):(Ft&&E&&Hh(i),i.flags|=1,He(e,i,o,h),i.child)}function Pp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!jh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Lp(e,i,f,o,h)):(e=Tu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Nf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:xo,a(v,o)&&e.ref===i.ref)return Fi(e,i,h)}return i.flags|=1,e=Li(f,o),e.ref=i.ref,e.return=i,i.child=e}function Lp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(xo(f,o)&&e.ref===i.ref)if(Pe=!1,i.pendingProps=o=f,Nf(e,h))(e.flags&131072)!==0&&(Pe=!0);else return i.lanes=e.lanes,Fi(e,i,h)}return wf(e,i,a,o,h)}function Up(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return zp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(i,f!==null?f.cachePool:null),f!==null?Lm(i,f):rf(),wp(i);else return i.lanes=i.childLanes=536870912,zp(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Ru(i,f.cachePool),Lm(i,f),yr(),i.memoizedState=null):(e!==null&&Ru(i,null),rf(),yr());return He(e,i,h,a),i.child}function zp(e,i,a,o){var h=Zh();return h=h===null?null:{parent:Oe._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Ru(i,null),rf(),wp(i),e!==null&&Po(e,i,o,!0),null}function Hu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function wf(e,i,a,o,h){return Cs(i),a=of(e,i,a,o,void 0,h),o=lf(),e!==null&&!Pe?(uf(e,i,h),Fi(e,i,h)):(Ft&&o&&Hh(i),i.flags|=1,He(e,i,a,h),i.child)}function jp(e,i,a,o,h,f){return Cs(i),i.updateQueue=null,a=zm(i,o,a,h),Um(e),o=lf(),e!==null&&!Pe?(uf(e,i,f),Fi(e,i,f)):(Ft&&o&&Hh(i),i.flags|=1,He(e,i,a,f),i.child)}function Bp(e,i,a,o,h){if(Cs(i),i.stateNode===null){var f=da,v=a.contextType;typeof v=="object"&&v!==null&&(f=We(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Jh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?We(v):da,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Sf(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&bf.enqueueReplaceState(f,f.state,null),Ho(i,o,f,h),qo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,A=xs(a,E);f.props=A;var U=f.context,G=a.contextType;v=da,typeof G=="object"&&G!==null&&(v=We(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==v)&&Ip(i,f,o,v),fr=!1;var z=i.memoizedState;f.state=z,Ho(i,o,f,h),qo(),U=i.memoizedState,E||z!==U||fr?(typeof Q=="function"&&(Sf(i,a,Q,o),U=i.memoizedState),(A=fr||Rp(i,a,A,o,z,U,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=U),f.props=o,f.state=U,f.context=v,o=A):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,tf(e,i),v=i.memoizedProps,G=xs(a,v),f.props=G,Q=i.pendingProps,z=f.context,U=a.contextType,A=da,typeof U=="object"&&U!==null&&(A=We(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||z!==A)&&Ip(i,f,o,A),fr=!1,z=i.memoizedState,f.state=z,Ho(i,o,f,h),qo();var j=i.memoizedState;v!==Q||z!==j||fr||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof E=="function"&&(Sf(i,a,E,o),j=i.memoizedState),(G=fr||Rp(i,a,G,o,z,j,A)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,A)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=A,o=G):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Hu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=ba(i,e.child,null,h),i.child=ba(i,null,a,h)):He(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Fi(e,i,h),e}function qp(e,i,a,o){return Mo(),i.flags|=256,He(e,i,a,o),i.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(e){return{baseLanes:e,cachePool:Dm()}}function Cf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Un),e}function Hp(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(xe.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ft){if(h?pr(i):yr(),Ft){var E=de,A;if(A=E){t:{for(A=E,E=li;A.nodeType!==8;){if(!E){E=null;break t}if(A=Kn(A.nextSibling),A===null){E=null;break t}}E=A}E!==null?(i.memoizedState={dehydrated:E,treeContext:bs!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},A=En(18,null,null,0),A.stateNode=E,A.return=i,i.child=A,cn=i,de=null,A=!0):A=!1}A||Rs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return hd(E)?i.lanes=32:i.lanes=536870912,null;Hi(i)}return E=o.children,o=o.fallback,h?(yr(),h=i.mode,E=Fu({mode:"hidden",children:E},h),o=Ss(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=If(a),h.childLanes=Cf(e,v,a),i.memoizedState=Rf,o):(pr(i),Df(i,E))}if(A=e.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(f)i.flags&256?(pr(i),i.flags&=-257,i=Of(e,i,a)):i.memoizedState!==null?(yr(),i.child=e.child,i.flags|=128,i=null):(yr(),h=o.fallback,E=i.mode,o=Fu({mode:"visible",children:o.children},E),h=Ss(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ba(i,e.child,null,a),o=i.child,o.memoizedState=If(a),o.childLanes=Cf(e,v,a),i.memoizedState=Rf,i=h);else if(pr(i),hd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var U=v.dgst;v=U,o=Error(s(419)),o.stack="",o.digest=v,ko({value:o,source:null,stack:null}),i=Of(e,i,a)}else if(Pe||Po(e,i,a,!1),v=(a&e.childLanes)!==0,Pe||v){if(v=se,v!==null&&(o=a&-a,o=(o&42)!==0?1:rr(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==A.retryLane))throw A.retryLane=o,fa(e,o),wn(v,e,o),Mp;E.data==="$?"||Yf(),i=Of(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=A.treeContext,de=Kn(E.nextSibling),cn=i,Ft=!0,ws=null,li=!1,e!==null&&(kn[Pn++]=Ui,kn[Pn++]=zi,kn[Pn++]=bs,Ui=e.id,zi=e.overflow,bs=i),i=Df(i,o.children),i.flags|=4096);return i}return h?(yr(),h=o.fallback,E=i.mode,A=e.child,U=A.sibling,o=Li(A,{mode:"hidden",children:o.children}),o.subtreeFlags=A.subtreeFlags&65011712,U!==null?h=Li(U,h):(h=Ss(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=If(a):(A=E.cachePool,A!==null?(U=Oe._currentValue,A=A.parent!==U?{parent:U,pool:U}:A):A=Dm(),E={baseLanes:E.baseLanes|a,cachePool:A}),h.memoizedState=E,h.childLanes=Cf(e,v,a),i.memoizedState=Rf,o):(pr(i),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Df(e,i){return i=Fu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Fu(e,i){return e=En(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Of(e,i,a){return ba(i,e.child,null,a),e=Df(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Fp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Qh(e.return,i,a)}function xf(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Gp(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(He(e,i,o.children,a),o=xe.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,a,i);else if(e.tag===19)Fp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(xe,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&ju(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),xf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}xf(i,!0,a,null,f);break;case"together":xf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Sr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Po(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Li(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Nf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function HT(e,i,a){switch(i.tag){case 3:Gt(i,i.stateNode.containerInfo),hr(i,Oe,e.memoizedState.cache),Mo();break;case 27:case 5:$e(i);break;case 4:Gt(i,i.stateNode.containerInfo);break;case 10:hr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Hp(e,i,a):(pr(i),e=Fi(e,i,a),e!==null?e.sibling:null);pr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Po(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Gp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(xe,xe.current),o)break;return null;case 22:case 23:return i.lanes=0,Up(e,i,a);case 24:hr(i,Oe,e.memoizedState.cache)}return Fi(e,i,a)}function Kp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Pe=!0;else{if(!Nf(e,a)&&(i.flags&128)===0)return Pe=!1,HT(e,i,a);Pe=(e.flags&131072)!==0}else Pe=!1,Ft&&(i.flags&1048576)!==0&&Sm(i,bu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")jh(o)?(e=xs(o,e),i.tag=1,i=Bp(null,i,o,e,a)):(i.tag=0,i=wf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Ot){i.tag=11,i=kp(null,i,o,e,a);break t}else if(h===N){i.tag=14,i=Pp(null,i,o,e,a);break t}}throw i=me(o)||o,Error(s(306,i,""))}}return i;case 0:return wf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=xs(o,i.pendingProps),Bp(e,i,o,h,a);case 3:t:{if(Gt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,tf(e,i),Ho(i,o,null,a);var v=i.memoizedState;if(o=v.cache,hr(i,Oe,o),o!==f.cache&&Yh(i,[Oe],a,!0),qo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=qp(e,i,o,a);break t}else if(o!==h){h=Vn(Error(s(424)),i),ko(h),i=qp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=Kn(e.firstChild),cn=i,Ft=!0,ws=null,li=!0,a=Ap(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Mo(),o===h){i=Fi(e,i,a);break t}He(e,i,o,a)}i=i.child}return i;case 26:return Hu(e,i),e===null?(a=$y(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ft||(a=i.type,e=i.pendingProps,o=rc(mt.current).createElement(a),o[Ie]=i,o[Te]=e,Ge(o,a,e),pe(o),i.stateNode=o):i.memoizedState=$y(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return $e(i),e===null&&Ft&&(o=i.stateNode=Qy(i.type,i.pendingProps,mt.current),cn=i,li=!0,h=de,Rr(i.type)?(fd=h,de=Kn(o.firstChild)):de=h),He(e,i,i.pendingProps.children,a),Hu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ft&&((h=o=de)&&(o=y1(o,i.type,i.pendingProps,li),o!==null?(i.stateNode=o,cn=i,de=Kn(o.firstChild),li=!1,h=!0):h=!1),h||Rs(i)),$e(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,ld(h,f)?o=null:v!==null&&ld(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=of(e,i,kT,null,null,a),hl._currentValue=h),Hu(e,i),He(e,i,o,a),i.child;case 6:return e===null&&Ft&&((e=a=de)&&(a=_1(a,i.pendingProps,li),a!==null?(i.stateNode=a,cn=i,de=null,e=!0):e=!1),e||Rs(i)),null;case 13:return Hp(e,i,a);case 4:return Gt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ba(i,null,o,a):He(e,i,o,a),i.child;case 11:return kp(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,hr(i,i.type,o.value),He(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Cs(i),h=We(h),o=o(h),i.flags|=1,He(e,i,o,a),i.child;case 14:return Pp(e,i,i.type,i.pendingProps,a);case 15:return Lp(e,i,i.type,i.pendingProps,a);case 19:return Gp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Fu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Li(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Up(e,i,a);case 24:return Cs(i),o=We(Oe),e===null?(h=Zh(),h===null&&(h=se,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Jh(i),hr(i,Oe,h)):((e.lanes&a)!==0&&(tf(e,i),Ho(i,null,null,a),qo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),hr(i,Oe,o)):(o=f.cache,hr(i,Oe,o),o!==h.cache&&Yh(i,[Oe],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gi(e){e.flags|=4}function Qp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!e_(i)){if(i=Ln.current,i!==null&&((Bt&4194048)===Bt?ui!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||i!==ui))throw jo=Wh,Om;e.flags|=8192}}function Gu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?fo():536870912,e.lanes|=i,Ia|=i)}function $o(e,i){if(!Ft)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ce(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function FT(e,i,a){var o=i.pendingProps;switch(Fh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(i),null;case 1:return ce(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Bi(Oe),In(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vo(i)?Gi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wm())),ce(i),null;case 26:return a=i.memoizedState,e===null?(Gi(i),a!==null?(ce(i),Qp(i,a)):(ce(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Gi(i),ce(i),Qp(i,a)):(ce(i),i.flags&=-16777217):(e.memoizedProps!==o&&Gi(i),ce(i),i.flags&=-16777217),null;case 27:sn(i),a=mt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ce(i),null}e=ft.current,Vo(i)?bm(i):(e=Qy(h,o,a),i.stateNode=e,Gi(i))}return ce(i),null;case 5:if(sn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ce(i),null}if(e=ft.current,Vo(i))bm(i);else{switch(h=rc(mt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ie]=i,e[Te]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Ge(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Gi(i)}}return ce(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Gi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=mt.current,Vo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=cn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||jy(e.nodeValue,a)),e||Rs(i)}else e=rc(e).createTextNode(o),e[Ie]=i,i.stateNode=e}return ce(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Vo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=i}else Mo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ce(i),h=!1}else h=wm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Hi(i),i):(Hi(i),null)}if(Hi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Gu(i,i.updateQueue),ce(i),null;case 4:return In(),e===null&&id(i.stateNode.containerInfo),ce(i),null;case 10:return Bi(i.type),ce(i),null;case 19:if(it(xe),h=i.memoizedState,h===null)return ce(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)$o(h,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=ju(e),f!==null){for(i.flags|=128,$o(h,!1),e=f.updateQueue,i.updateQueue=e,Gu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Tm(a,e),a=a.sibling;return J(xe,xe.current&1|2),i.child}e=e.sibling}h.tail!==null&&hn()>Yu&&(i.flags|=128,o=!0,$o(h,!1),i.lanes=4194304)}else{if(!o)if(e=ju(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Gu(i,e),$o(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Ft)return ce(i),null}else 2*hn()-h.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,o=!0,$o(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=hn(),i.sibling=null,e=xe.current,J(xe,o?e&1|2:e&1),i):(ce(i),null);case 22:case 23:return Hi(i),sf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ce(i),i.subtreeFlags&6&&(i.flags|=8192)):ce(i),a=i.updateQueue,a!==null&&Gu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&it(Ds),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(Oe),ce(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function GT(e,i){switch(Fh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Bi(Oe),In(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return sn(i),null;case 13:if(Hi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Mo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return it(xe),null;case 4:return In(),null;case 10:return Bi(i.type),null;case 22:case 23:return Hi(i),sf(),e!==null&&it(Ds),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Bi(Oe),null;case 25:return null;default:return null}}function Yp(e,i){switch(Fh(i),i.tag){case 3:Bi(Oe),In();break;case 26:case 27:case 5:sn(i);break;case 4:In();break;case 13:Hi(i);break;case 19:it(xe);break;case 10:Bi(i.type);break;case 22:case 23:Hi(i),sf(),e!==null&&it(Ds);break;case 24:Bi(Oe)}}function Zo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){ie(i,i.return,E)}}function _r(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var A=a,U=E;try{U()}catch(G){ie(h,A,G)}}}o=o.next}while(o!==f)}}catch(G){ie(i,i.return,G)}}function Xp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Pm(i,a)}catch(o){ie(e,e.return,o)}}}function $p(e,i,a){a.props=xs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ie(e,i,o)}}function Wo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ie(e,i,h)}}function ci(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ie(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ie(e,i,h)}else a.current=null}function Zp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ie(e,e.return,h)}}function Vf(e,i,a){try{var o=e.stateNode;f1(o,e.type,a,i),o[Te]=i}catch(h){ie(e,e.return,h)}}function Wp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rr(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ic));else if(o!==4&&(o===27&&Rr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(kf(e,i,a),e=e.sibling;e!==null;)kf(e,i,a),e=e.sibling}function Ku(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Rr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ku(e,i,a),e=e.sibling;e!==null;)Ku(e,i,a),e=e.sibling}function Jp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,o,a),i[Ie]=e,i[Te]=a}catch(f){ie(e,e.return,f)}}var Ki=!1,_e=!1,Pf=!1,ty=typeof WeakSet=="function"?WeakSet:Set,Le=null;function KT(e,i){if(e=e.containerInfo,ad=cc,e=hm(e),Vh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,A=-1,U=0,G=0,Q=e,z=null;e:for(;;){for(var j;Q!==a||h!==0&&Q.nodeType!==3||(E=v+h),Q!==f||o!==0&&Q.nodeType!==3||(A=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===e)break e;if(z===a&&++U===h&&(E=v),z===f&&++G===o&&(A=v),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(od={focusedElem:e,selectionRange:a},cc=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var St=xs(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(St,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){ie(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)cd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function ey(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:vr(e,a),o&4&&Zo(5,a);break;case 1:if(vr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ie(a,a.return,v)}else{var h=xs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ie(a,a.return,v)}}o&64&&Xp(a),o&512&&Wo(a,a.return);break;case 3:if(vr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Pm(e,i)}catch(v){ie(a,a.return,v)}}break;case 27:i===null&&o&4&&Jp(a);case 26:case 5:vr(e,a),i===null&&o&4&&Zp(a),o&512&&Wo(a,a.return);break;case 12:vr(e,a);break;case 13:vr(e,a),o&4&&ry(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=e1.bind(null,a),v1(e,a))));break;case 22:if(o=a.memoizedState!==null||Ki,!o){i=i!==null&&i.memoizedState!==null||_e,h=Ki;var f=_e;Ki=o,(_e=i)&&!f?Er(e,a,(a.subtreeFlags&8772)!==0):vr(e,a),Ki=h,_e=f}break;case 30:break;default:vr(e,a)}}function ny(e){var i=e.alternate;i!==null&&(e.alternate=null,ny(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&or(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,dn=!1;function Qi(e,i,a){for(a=a.child;a!==null;)iy(e,i,a),a=a.sibling}function iy(e,i,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Wt,a)}catch{}switch(a.tag){case 26:_e||ci(a,i),Qi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_e||ci(a,i);var o=ue,h=dn;Rr(a.type)&&(ue=a.stateNode,dn=!1),Qi(e,i,a),ol(a.stateNode),ue=o,dn=h;break;case 5:_e||ci(a,i);case 6:if(o=ue,h=dn,ue=null,Qi(e,i,a),ue=o,dn=h,ue!==null)if(dn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(f){ie(a,i,f)}else try{ue.removeChild(a.stateNode)}catch(f){ie(a,i,f)}break;case 18:ue!==null&&(dn?(e=ue,Gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ml(e)):Gy(ue,a.stateNode));break;case 4:o=ue,h=dn,ue=a.stateNode.containerInfo,dn=!0,Qi(e,i,a),ue=o,dn=h;break;case 0:case 11:case 14:case 15:_e||_r(2,a,i),_e||_r(4,a,i),Qi(e,i,a);break;case 1:_e||(ci(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&$p(a,i,o)),Qi(e,i,a);break;case 21:Qi(e,i,a);break;case 22:_e=(o=_e)||a.memoizedState!==null,Qi(e,i,a),_e=o;break;default:Qi(e,i,a)}}function ry(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ml(e)}catch(a){ie(i,i.return,a)}}function QT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ty),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ty),i;default:throw Error(s(435,e.tag))}}function Lf(e,i){var a=QT(e);i.forEach(function(o){var h=n1.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function Tn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Rr(E.type)){ue=E.stateNode,dn=!1;break t}break;case 5:ue=E.stateNode,dn=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(ue===null)throw Error(s(160));iy(f,v,h),ue=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)sy(i,e),i=i.sibling}var Gn=null;function sy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(i,e),Sn(e),o&4&&(_r(3,e,e.return),Zo(3,e),_r(5,e,e.return));break;case 1:Tn(i,e),Sn(e),o&512&&(_e||a===null||ci(a,a.return)),o&64&&Ki&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Gn;if(Tn(i,e),Sn(e),o&512&&(_e||a===null||ci(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[as]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[Ie]=e,pe(f),o=f;break t;case"link":var v=Jy("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(v=Jy("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ie]=e,pe(f),o=f}e.stateNode=o}else t_(h,e.type,e.stateNode);else e.stateNode=Wy(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?t_(h,e.type,e.stateNode):Wy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tn(i,e),Sn(e),o&512&&(_e||a===null||ci(a,a.return)),a!==null&&o&4&&Vf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tn(i,e),Sn(e),o&512&&(_e||a===null||ci(a,a.return)),e.flags&32){h=e.stateNode;try{Dn(h,"")}catch(j){ie(e,e.return,j)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Pf=!0);break;case 6:if(Tn(i,e),Sn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(j){ie(e,e.return,j)}}break;case 3:if(oc=null,h=Gn,Gn=sc(i.containerInfo),Tn(i,e),Gn=h,Sn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ml(i.containerInfo)}catch(j){ie(e,e.return,j)}Pf&&(Pf=!1,ay(e));break;case 4:o=Gn,Gn=sc(e.stateNode.containerInfo),Tn(i,e),Sn(e),Gn=o;break;case 12:Tn(i,e),Sn(e);break;case 13:Tn(i,e),Sn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hf=hn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Lf(e,o)));break;case 22:h=e.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,U=Ki,G=_e;if(Ki=U||h,_e=G||A,Tn(i,e),_e=G,Ki=U,Sn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||A||Ki||_e||Ns(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){A=a=i;try{if(f=A.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=A.stateNode;var Q=A.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(j){ie(A,A.return,j)}}}else if(i.tag===6){if(a===null){A=i;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch(j){ie(A,A.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Lf(e,a))));break;case 19:Tn(i,e),Sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Lf(e,o)));break;case 30:break;case 21:break;default:Tn(i,e),Sn(e)}}function Sn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Wp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Mf(e);Ku(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(Dn(v,""),a.flags&=-33);var E=Mf(e);Ku(e,E,v);break;case 3:case 4:var A=a.stateNode.containerInfo,U=Mf(e);kf(e,U,A);break;default:throw Error(s(161))}}catch(G){ie(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;ay(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function vr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ey(e,i.alternate,i),i=i.sibling}function Ns(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:_r(4,i,i.return),Ns(i);break;case 1:ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&$p(i,i.return,a),Ns(i);break;case 27:ol(i.stateNode);case 26:case 5:ci(i,i.return),Ns(i);break;case 22:i.memoizedState===null&&Ns(i);break;case 30:Ns(i);break;default:Ns(i)}e=e.sibling}}function Er(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:Er(h,f,a),Zo(4,f);break;case 1:if(Er(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){ie(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)km(A[h],E)}catch(U){ie(o,o.return,U)}}a&&v&64&&Xp(f),Wo(f,f.return);break;case 27:Jp(f);case 26:case 5:Er(h,f,a),a&&o===null&&v&4&&Zp(f),Wo(f,f.return);break;case 12:Er(h,f,a);break;case 13:Er(h,f,a),a&&v&4&&ry(h,f);break;case 22:f.memoizedState===null&&Er(h,f,a),Wo(f,f.return);break;case 30:break;default:Er(h,f,a)}i=i.sibling}}function Uf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function zf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e))}function hi(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)oy(e,i,a,o),i=i.sibling}function oy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:hi(e,i,a,o),h&2048&&Zo(9,i);break;case 1:hi(e,i,a,o);break;case 3:hi(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){hi(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){ie(i,i.return,A)}}else hi(e,i,a,o);break;case 13:hi(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?hi(e,i,a,o):Jo(e,i):f._visibility&2?hi(e,i,a,o):(f._visibility|=2,Aa(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Uf(v,i);break;case 24:hi(e,i,a,o),h&2048&&zf(i.alternate,i);break;default:hi(e,i,a,o)}}function Aa(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,A=o,U=v.flags;switch(v.tag){case 0:case 11:case 15:Aa(f,v,E,A,h),Zo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Aa(f,v,E,A,h):Jo(f,v):(G._visibility|=2,Aa(f,v,E,A,h)),h&&U&2048&&Uf(v.alternate,v);break;case 24:Aa(f,v,E,A,h),h&&U&2048&&zf(v.alternate,v);break;default:Aa(f,v,E,A,h)}i=i.sibling}}function Jo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Jo(a,o),h&2048&&Uf(o.alternate,o);break;case 24:Jo(a,o),h&2048&&zf(o.alternate,o);break;default:Jo(a,o)}i=i.sibling}}var tl=8192;function wa(e){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)ly(e),e=e.sibling}function ly(e){switch(e.tag){case 26:wa(e),e.flags&tl&&e.memoizedState!==null&&N1(Gn,e.memoizedState,e.memoizedProps);break;case 5:wa(e);break;case 3:case 4:var i=Gn;Gn=sc(e.stateNode.containerInfo),wa(e),Gn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=tl,tl=16777216,wa(e),tl=i):wa(e));break;default:wa(e)}}function uy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function el(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,hy(o,e)}uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cy(e),e=e.sibling}function cy(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&_r(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Qu(e)):el(e);break;default:el(e)}}function Qu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,hy(o,e)}uy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:_r(8,i,i.return),Qu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Qu(i));break;default:Qu(i)}e=e.sibling}}function hy(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:_r(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(ny(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var YT={getCacheForType:function(e){var i=We(Oe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},XT=typeof WeakMap=="function"?WeakMap:Map,Xt=0,se=null,Mt=null,Bt=0,$t=0,bn=null,Tr=!1,Ra=!1,jf=!1,Yi=0,ge=0,Sr=0,Vs=0,Bf=0,Un=0,Ia=0,nl=null,gn=null,qf=!1,Hf=0,Yu=1/0,Xu=null,br=null,Fe=0,Ar=null,Ca=null,Da=0,Ff=0,Gf=null,fy=null,il=0,Kf=null;function An(){if((Xt&2)!==0&&Bt!==0)return Bt&-Bt;if(H.T!==null){var e=pa;return e!==0?e:Jf()}return sr()}function dy(){Un===0&&(Un=(Bt&536870912)===0||Ft?ho():536870912);var e=Ln.current;return e!==null&&(e.flags|=32),Un}function wn(e,i,a){(e===se&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),wr(e,Bt,Un,!1)),Ri(e,a),((Xt&2)===0||e!==se)&&(e===se&&((Xt&2)===0&&(Vs|=a),ge===4&&wr(e,Bt,Un,!1)),fi(e))}function gy(e,i,a){if((Xt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||ss(e,i),h=o?WT(e,i):Xf(e,i,!0),f=o;do{if(h===0){Ra&&!o&&wr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!$T(a)){h=Xf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=nl;var A=E.current.memoizedState.isDehydrated;if(A&&(Oa(E,v).flags|=256),v=Xf(E,v,!1),v!==2){if(jf&&!A){E.errorRecoveryDisabledLanes|=f,Vs|=f,h=4;break t}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),wr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:wr(o,i,Un,!Tr);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Hf+300-hn(),10<h)){if(wr(o,i,Un,!Tr),Qs(o,0,!0)!==0)break t;o.timeoutHandle=Hy(my.bind(null,o,a,gn,Xu,qf,i,Un,Vs,Ia,Tr,f,2,-0,0),h);break t}my(o,a,gn,Xu,qf,i,Un,Vs,Ia,Tr,f,0,-0,0)}}break}while(!0);fi(e)}function my(e,i,a,o,h,f,v,E,A,U,G,Q,z,j){if(e.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:x1},ly(i),Q=V1(),Q!==null)){e.cancelPendingCommit=Q(Sy.bind(null,e,i,f,a,o,h,v,E,A,G,1,z,j)),wr(e,f,v,!U);return}Sy(e,i,f,a,o,h,v,E,A)}function $T(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wr(e,i,a,o){i&=~Bf,i&=~Vs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-Ze(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&Zn(e,a,i)}function $u(){return(Xt&6)===0?(rl(0),!1):!0}function Qf(){if(Mt!==null){if($t===0)var e=Mt.return;else e=Mt,ji=Is=null,cf(e),Sa=null,Yo=0,e=Mt;for(;e!==null;)Yp(e.alternate,e),e=e.return;Mt=null}}function Oa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,g1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Qf(),se=e,Mt=a=Li(e.current,null),Bt=i,$t=0,bn=null,Tr=!1,Ra=ss(e,i),jf=!1,Ia=Un=Bf=Vs=Sr=ge=0,gn=nl=null,qf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Ze(o),f=1<<h;i|=e[h],o&=~f}return Yi=i,_u(),a}function py(e,i){Ct=null,H.H=Lu,i===zo||i===Iu?(i=Vm(),$t=3):i===Om?(i=Vm(),$t=4):$t=i===Mp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Mt===null&&(ge=1,qu(e,Vn(i,e.current)))}function yy(){var e=H.H;return H.H=Lu,e===null?Lu:e}function _y(){var e=H.A;return H.A=YT,e}function Yf(){ge=4,Tr||(Bt&4194048)!==Bt&&Ln.current!==null||(Ra=!0),(Sr&134217727)===0&&(Vs&134217727)===0||se===null||wr(se,Bt,Un,!1)}function Xf(e,i,a){var o=Xt;Xt|=2;var h=yy(),f=_y();(se!==e||Bt!==i)&&(Xu=null,Oa(e,i)),i=!1;var v=ge;t:do try{if($t!==0&&Mt!==null){var E=Mt,A=bn;switch($t){case 8:Qf(),v=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(i=!0);var U=$t;if($t=0,bn=null,xa(e,E,A,U),a&&Ra){v=0;break t}break;default:U=$t,$t=0,bn=null,xa(e,E,A,U)}}ZT(),v=ge;break}catch(G){py(e,G)}while(!0);return i&&e.shellSuspendCounter++,ji=Is=null,Xt=o,H.H=h,H.A=f,Mt===null&&(se=null,Bt=0,_u()),v}function ZT(){for(;Mt!==null;)vy(Mt)}function WT(e,i){var a=Xt;Xt|=2;var o=yy(),h=_y();se!==e||Bt!==i?(Xu=null,Yu=hn()+500,Oa(e,i)):Ra=ss(e,i);t:do try{if($t!==0&&Mt!==null){i=Mt;var f=bn;e:switch($t){case 1:$t=0,bn=null,xa(e,i,f,1);break;case 2:case 9:if(xm(f)){$t=0,bn=null,Ey(i);break}i=function(){$t!==2&&$t!==9||se!==e||($t=7),fi(e)},f.then(i,i);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:xm(f)?($t=0,bn=null,Ey(i)):($t=0,bn=null,xa(e,i,f,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var E=Mt;if(!v||e_(v)){$t=0,bn=null;var A=E.sibling;if(A!==null)Mt=A;else{var U=E.return;U!==null?(Mt=U,Zu(U)):Mt=null}break e}}$t=0,bn=null,xa(e,i,f,5);break;case 6:$t=0,bn=null,xa(e,i,f,6);break;case 8:Qf(),ge=6;break t;default:throw Error(s(462))}}JT();break}catch(G){py(e,G)}while(!0);return ji=Is=null,H.H=o,H.A=h,Xt=a,Mt!==null?0:(se=null,Bt=0,_u(),ge)}function JT(){for(;Mt!==null&&!ir();)vy(Mt)}function vy(e){var i=Kp(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,i===null?Zu(e):Mt=i}function Ey(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=jp(a,i,i.pendingProps,i.type,void 0,Bt);break;case 11:i=jp(a,i,i.pendingProps,i.type.render,i.ref,Bt);break;case 5:cf(i);default:Yp(a,i),i=Mt=Tm(i,Yi),i=Kp(a,i,Yi)}e.memoizedProps=e.pendingProps,i===null?Zu(e):Mt=i}function xa(e,i,a,o){ji=Is=null,cf(i),Sa=null,Yo=0;var h=i.return;try{if(qT(e,h,i,a,Bt)){ge=1,qu(e,Vn(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;ge=1,qu(e,Vn(a,e.current)),Mt=null;return}i.flags&32768?(Ft||o===1?e=!0:Ra||(Bt&536870912)!==0?e=!1:(Tr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Ln.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ty(i,e)):Zu(i)}function Zu(e){var i=e;do{if((i.flags&32768)!==0){Ty(i,Tr);return}e=i.return;var a=FT(i.alternate,i,Yi);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);ge===0&&(ge=5)}function Ty(e,i){do{var a=GT(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);ge=6,Mt=null}function Sy(e,i,a,o,h,f,v,E,A){e.cancelPendingCommit=null;do Wu();while(Fe!==0);if((Xt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Uh,go(e,a,f,v,E,A),e===se&&(Mt=se=null,Bt=0),Ca=i,Ar=e,Da=a,Ff=f,Gf=h,fy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,i1(ut,function(){return Iy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,v=Xt,Xt|=4;try{KT(e,i,a)}finally{Xt=v,nt.p=h,H.T=o}}Fe=1,by(),Ay(),wy()}}function by(){if(Fe===1){Fe=0;var e=Ar,i=Ca,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Xt;Xt|=4;try{sy(i,e);var f=od,v=hm(e.containerInfo),E=f.focusedElem,A=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&cm(E.ownerDocument.documentElement,E)){if(A!==null&&Vh(E)){var U=A.start,G=A.end;if(G===void 0&&(G=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),St=E.textContent.length,pt=Math.min(A.start,St),ne=A.end===void 0?pt:Math.min(A.end,St);!j.extend&&pt>ne&&(v=ne,ne=pt,pt=v);var k=um(E,pt),O=um(E,ne);if(k&&O&&(j.rangeCount!==1||j.anchorNode!==k.node||j.anchorOffset!==k.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var L=Q.createRange();L.setStart(k.node,k.offset),j.removeAllRanges(),pt>ne?(j.addRange(L),j.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),j.addRange(L))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var K=Q[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}cc=!!ad,od=ad=null}finally{Xt=h,nt.p=o,H.T=a}}e.current=i,Fe=2}}function Ay(){if(Fe===2){Fe=0;var e=Ar,i=Ca,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Xt;Xt|=4;try{ey(e,i.alternate,i)}finally{Xt=h,nt.p=o,H.T=a}}Fe=3}}function wy(){if(Fe===4||Fe===3){Fe=0,Ks();var e=Ar,i=Ca,a=Da,o=fy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Fe=5:(Fe=0,Ca=Ar=null,Ry(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(br=null),Ys(a),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Wt,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{H.T=i,nt.p=h}}(Da&3)!==0&&Wu(),fi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Kf?il++:(il=0,Kf=e):il=0,rl(0)}}function Ry(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Lo(i)))}function Wu(e){return by(),Ay(),wy(),Iy()}function Iy(){if(Fe!==5)return!1;var e=Ar,i=Ff;Ff=0;var a=Ys(Da),o=H.T,h=nt.p;try{nt.p=32>a?32:a,H.T=null,a=Gf,Gf=null;var f=Ar,v=Da;if(Fe=0,Ca=Ar=null,Da=0,(Xt&6)!==0)throw Error(s(331));var E=Xt;if(Xt|=4,cy(f.current),oy(f,f.current,v,a),Xt=E,rl(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Wt,f)}catch{}return!0}finally{nt.p=h,H.T=o,Ry(e,i)}}function Cy(e,i,a){i=Vn(a,i),i=Af(e.stateNode,i,2),e=gr(e,i,2),e!==null&&(Ri(e,2),fi(e))}function ie(e,i,a){if(e.tag===3)Cy(e,e,a);else for(;i!==null;){if(i.tag===3){Cy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=Vn(a,e),a=Np(2),o=gr(i,a,2),o!==null&&(Vp(a,o,i,e),Ri(o,2),fi(o));break}}i=i.return}}function $f(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new XT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(jf=!0,h.add(a),e=t1.bind(null,e,i,a),i.then(e,e))}function t1(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(Bt&a)===a&&(ge===4||ge===3&&(Bt&62914560)===Bt&&300>hn()-Hf?(Xt&2)===0&&Oa(e,0):Bf|=a,Ia===Bt&&(Ia=0)),fi(e)}function Dy(e,i){i===0&&(i=fo()),e=fa(e,i),e!==null&&(Ri(e,i),fi(e))}function e1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Dy(e,a)}function n1(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Dy(e,a)}function i1(e,i){return bi(e,i)}var Ju=null,Na=null,Zf=!1,tc=!1,Wf=!1,Ms=0;function fi(e){e!==Na&&e.next===null&&(Na===null?Ju=Na=e:Na=Na.next=e),tc=!0,Zf||(Zf=!0,s1())}function rl(e,i){if(!Wf&&tc){Wf=!0;do for(var a=!1,o=Ju;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ze(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Vy(o,f))}else f=Bt,f=Qs(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ss(o,f)||(a=!0,Vy(o,f));o=o.next}while(a);Wf=!1}}function r1(){Oy()}function Oy(){tc=Zf=!1;var e=0;Ms!==0&&(d1()&&(e=Ms),Ms=0);for(var i=hn(),a=null,o=Ju;o!==null;){var h=o.next,f=xy(o,i);f===0?(o.next=null,a===null?Ju=h:a.next=h,h===null&&(Na=a)):(a=o,(e!==0||(f&3)!==0)&&(tc=!0)),o=h}rl(e)}function xy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ze(f),E=1<<v,A=h[v];A===-1?((E&a)===0||(E&o)!==0)&&(h[v]=co(E,i)):A<=i&&(e.expiredLanes|=E),f&=~E}if(i=se,a=Bt,a=Qs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ai(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ss(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Ai(o),Ys(a)){case 2:case 8:a=tt;break;case 32:a=ut;break;case 268435456:a=Kt;break;default:a=ut}return o=Ny.bind(null,e),a=bi(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Ai(o),e.callbackPriority=2,e.callbackNode=null,2}function Ny(e,i){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wu()&&e.callbackNode!==a)return null;var o=Bt;return o=Qs(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(gy(e,o,i),xy(e,hn()),e.callbackNode!=null&&e.callbackNode===a?Ny.bind(null,e):null)}function Vy(e,i){if(Wu())return null;gy(e,i,!0)}function s1(){m1(function(){(Xt&6)!==0?bi(es,r1):Oy()})}function Jf(){return Ms===0&&(Ms=ho()),Ms}function My(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function ky(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function a1(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=My((h[Te]||null).action),v=o.submitter;v&&(i=(i=v[Te]||null)?My(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new ea("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var A=v?ky(h,v):new FormData(h);vf(a,{pending:!0,data:A,method:h.method,action:f},null,A)}}else typeof f=="function"&&(E.preventDefault(),A=v?ky(h,v):new FormData(h),vf(a,{pending:!0,data:A,method:h.method,action:f},f,A))},currentTarget:h}]})}}for(var td=0;td<Lh.length;td++){var ed=Lh[td],o1=ed.toLowerCase(),l1=ed[0].toUpperCase()+ed.slice(1);Fn(o1,"on"+l1)}Fn(gm,"onAnimationEnd"),Fn(mm,"onAnimationIteration"),Fn(pm,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(wT,"onTransitionRun"),Fn(RT,"onTransitionStart"),Fn(IT,"onTransitionCancel"),Fn(ym,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Py(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],A=E.instance,U=E.currentTarget;if(E=E.listener,A!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(G){Bu(G)}h.currentTarget=null,f=A}else for(v=0;v<o.length;v++){if(E=o[v],A=E.instance,U=E.currentTarget,E=E.listener,A!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(G){Bu(G)}h.currentTarget=null,f=A}}}}function kt(e,i){var a=i[po];a===void 0&&(a=i[po]=new Set);var o=e+"__bubble";a.has(o)||(Ly(i,e,2,!1),a.add(o))}function nd(e,i,a){var o=0;i&&(o|=4),Ly(a,e,o,i)}var ec="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[ec]){e[ec]=!0,yo.forEach(function(a){a!=="selectionchange"&&(u1.has(a)||nd(a,!1,e),nd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ec]||(i[ec]=!0,nd("selectionchange",!1,i))}}function Ly(e,i,a,o){switch(o_(i)){case 2:var h=P1;break;case 8:h=L1;break;default:h=yd}a=h.bind(null,i,a,e),h=void 0,!xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function rd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var A=v.tag;if((A===3||A===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ii(E),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){o=f=v;continue t}E=E.parentNode}}o=o.return}iu(function(){var U=f,G=On(a),Q=[];t:{var z=_m.get(e);if(z!==void 0){var j=ea,St=e;switch(e){case"keypress":if(ii(a)===0)break t;case"keydown":case"keyup":j=oa;break;case"focusin":St="focus",j=ra;break;case"focusout":St="blur",j=ra;break;case"beforeblur":case"afterblur":j=ra;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=hu;break;case gm:case mm:case pm:j=sa;break;case ym:j=du;break;case"scroll":case"scrollend":j=ru;break;case"wheel":j=la;break;case"copy":case"cut":case"paste":j=aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Do;break;case"toggle":case"beforetoggle":j=mu}var pt=(i&4)!==0,ne=!pt&&(e==="scroll"||e==="scrollend"),k=pt?z!==null?z+"Capture":null:z;pt=[];for(var O=U,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||k===null||(K=ds(O,k),K!=null&&pt.push(al(O,K,L))),ne)break;O=O.return}0<pt.length&&(z=new j(z,St,null,a,G),Q.push({event:z,listeners:pt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&a!==xi&&(St=a.relatedTarget||a.fromElement)&&(Ii(St)||St[Cn]))break t;if((j||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,j?(St=a.relatedTarget||a.toElement,j=U,St=St?Ii(St):null,St!==null&&(ne=c(St),pt=St.tag,St!==ne||pt!==5&&pt!==27&&pt!==6)&&(St=null)):(j=null,St=U),j!==St)){if(pt=Nn,K="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Do,K="onPointerLeave",k="onPointerEnter",O="pointer"),ne=j==null?z:Jn(j),L=St==null?z:Jn(St),z=new pt(K,O+"leave",j,a,G),z.target=ne,z.relatedTarget=L,K=null,Ii(G)===U&&(pt=new pt(k,O+"enter",St,a,G),pt.target=L,pt.relatedTarget=ne,K=pt),ne=K,j&&St)e:{for(pt=j,k=St,O=0,L=pt;L;L=Va(L))O++;for(L=0,K=k;K;K=Va(K))L++;for(;0<O-L;)pt=Va(pt),O--;for(;0<L-O;)k=Va(k),L--;for(;O--;){if(pt===k||k!==null&&pt===k.alternate)break e;pt=Va(pt),k=Va(k)}pt=null}else pt=null;j!==null&&Uy(Q,z,j,pt,!1),St!==null&&ne!==null&&Uy(Q,ne,St,pt,!0)}}t:{if(z=U?Jn(U):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var at=im;else if(De(z))if(rm)at=ST;else{at=ET;var Vt=vT}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&So(U.elementType)&&(at=im):at=TT;if(at&&(at=at(e,U))){Pi(Q,at,a,G);break t}Vt&&Vt(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&ur(z,"number",z.value)}switch(Vt=U?Jn(U):window,e){case"focusin":(De(Vt)||Vt.contentEditable==="true")&&(ua=Vt,Mh=U,No=null);break;case"focusout":No=Mh=ua=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,fm(Q,a,G);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":fm(Q,a,G)}var ct;if(ai)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else zt?q(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(y&&a.locale!=="ko"&&(zt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&zt&&(ct=Ao()):(ni=G,cr="value"in ni?ni.value:ni.textContent,zt=!0)),Vt=nc(U,yt),0<Vt.length&&(yt=new Io(yt,e,null,a,G),Q.push({event:yt,listeners:Vt}),ct?yt.data=ct:(ct=et(a),ct!==null&&(yt.data=ct)))),(ct=g?Ce(e,a):jt(e,a))&&(yt=nc(U,"onBeforeInput"),0<yt.length&&(Vt=new Io("onBeforeInput","beforeinput",null,a,G),Q.push({event:Vt,listeners:yt}),Vt.data=ct)),a1(Q,e,U,a,G)}Py(Q,i)})}function al(e,i,a){return{instance:e,listener:i,currentTarget:a}}function nc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ds(e,a),h!=null&&o.unshift(al(e,h,f)),h=ds(e,i),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Uy(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,A=E.alternate,U=E.stateNode;if(E=E.tag,A!==null&&A===o)break;E!==5&&E!==26&&E!==27||U===null||(A=U,h?(U=ds(a,f),U!=null&&v.unshift(al(a,U,A))):h||(U=ds(a,f),U!=null&&v.push(al(a,U,A)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var c1=/\r\n?/g,h1=/\u0000|\uFFFD/g;function zy(e){return(typeof e=="string"?e:""+e).replace(c1,`
`).replace(h1,"")}function jy(e,i){return i=zy(i),zy(e)===i}function ic(){}function ee(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Dn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Dn(e,""+o);break;case"className":ti(e,"class",o);break;case"tabIndex":ti(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(e,a,o);break;case"style":To(e,o,f);break;case"data":if(i!=="object"){ti(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ta(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&ee(e,i,"name",h.name,h,null),ee(e,i,"formEncType",h.formEncType,h,null),ee(e,i,"formMethod",h.formMethod,h,null),ee(e,i,"formTarget",h.formTarget,h,null)):(ee(e,i,"encType",h.encType,h,null),ee(e,i,"method",h.method,h,null),ee(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ta(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ic);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),lr(e,"popover",o);break;case"xlinkActuate":Be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":lr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ih.get(a)||a,lr(e,a,o))}}function sd(e,i,a,o,h,f){switch(a){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Dn(e,o):(typeof o=="number"||typeof o=="bigint")&&Dn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Te]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):lr(e,a,o)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,f,v,a,null)}}h&&ee(e,i,"srcSet",a.srcSet,a,null),o&&ee(e,i,"src",a.src,a,null);return;case"input":kt("invalid",e);var E=f=v=h=null,A=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":A=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:ee(e,i,o,G,a,null)}}cs(e,f,E,A,U,v,h,!1),Js(e);return;case"select":kt("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:ee(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?Oi(e,!!o,i,!1):a!=null&&Oi(e,!!o,a,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ee(e,i,v,E,a,null)}hs(e,o,h,f),Js(e);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(o=a[A],o!=null))switch(A){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ee(e,i,A,o,a,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)kt(sl[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,U,o,a,null)}return;default:if(So(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&sd(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ee(e,i,E,o,a,null))}function f1(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,A=null,U=null,G=null;for(j in a){var Q=a[j];if(a.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":A=Q;default:o.hasOwnProperty(j)||ee(e,i,j,null,o,Q)}}for(var z in o){var j=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":U=j;break;case"defaultChecked":G=j;break;case"value":v=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:j!==Q&&ee(e,i,z,j,o,Q)}}_n(e,v,E,A,U,G,f,h);return;case"select":j=v=E=z=null;for(f in a)if(A=a[f],a.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":j=A;default:o.hasOwnProperty(f)||ee(e,i,f,null,o,A)}for(h in o)if(f=o[h],A=a[h],o.hasOwnProperty(h)&&(f!=null||A!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==A&&ee(e,i,h,f,o,A)}i=E,a=v,o=j,z!=null?Oi(e,!!a,z,!1):!!o!=!!a&&(i!=null?Oi(e,!!a,i,!0):Oi(e,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&ee(e,i,v,h,o,f)}Jt(e,z,j);return;case"option":for(var St in a)if(z=a[St],a.hasOwnProperty(St)&&z!=null&&!o.hasOwnProperty(St))switch(St){case"selected":e.selected=!1;break;default:ee(e,i,St,null,o,z)}for(A in o)if(z=o[A],j=a[A],o.hasOwnProperty(A)&&z!==j&&(z!=null||j!=null))switch(A){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ee(e,i,A,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)z=a[pt],a.hasOwnProperty(pt)&&z!=null&&!o.hasOwnProperty(pt)&&ee(e,i,pt,null,o,z);for(U in o)if(z=o[U],j=a[U],o.hasOwnProperty(U)&&z!==j&&(z!=null||j!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:ee(e,i,U,z,o,j)}return;default:if(So(i)){for(var ne in a)z=a[ne],a.hasOwnProperty(ne)&&z!==void 0&&!o.hasOwnProperty(ne)&&sd(e,i,ne,void 0,o,z);for(G in o)z=o[G],j=a[G],!o.hasOwnProperty(G)||z===j||z===void 0&&j===void 0||sd(e,i,G,z,o,j);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&ee(e,i,k,null,o,z);for(Q in o)z=o[Q],j=a[Q],!o.hasOwnProperty(Q)||z===j||z==null&&j==null||ee(e,i,Q,z,o,j)}var ad=null,od=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ld(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ud=null;function d1(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,m1=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(e){return Fy.resolve(null).then(e).catch(p1)}:Hy;function p1(e){setTimeout(function(){throw e})}function Rr(e){return e==="head"}function Gy(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&ol(v.documentElement),a&2&&ol(v.body),a&4)for(a=v.head,ol(a),v=a.firstChild;v;){var E=v.nextSibling,A=v.nodeName;v[as]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),ml(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);ml(i)}function cd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cd(a),or(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function y1(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[as])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function _1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function v1(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var fd=null;function Ky(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Qy(e,i,a){switch(i=rc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ol(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);or(e)}var zn=new Map,Yy=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=nt.d;nt.d={f:E1,r:T1,D:S1,C:b1,L:A1,m:w1,X:I1,S:R1,M:C1};function E1(){var e=Xi.f(),i=$u();return e||i}function T1(e){var i=Wn(e);i!==null&&i.tag===5&&i.type==="form"?gp(i):Xi.r(e)}var Ma=typeof document>"u"?null:document;function Xy(e,i,a){var o=Ma;if(o&&typeof i=="string"&&i){var h=Se(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Yy.has(h)||(Yy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ge(i,"link",e),pe(i),o.head.appendChild(i)))}}function S1(e){Xi.D(e),Xy("dns-prefetch",e,null)}function b1(e,i){Xi.C(e,i),Xy("preconnect",e,i)}function A1(e,i,a){Xi.L(e,i,a);var o=Ma;if(o&&e&&i){var h='link[rel="preload"][as="'+Se(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Se(a.imageSizes)+'"]')):h+='[href="'+Se(e)+'"]';var f=h;switch(i){case"style":f=ka(e);break;case"script":f=Pa(e)}zn.has(f)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),zn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(ll(f))||i==="script"&&o.querySelector(ul(f))||(i=o.createElement("link"),Ge(i,"link",e),pe(i),o.head.appendChild(i)))}}function w1(e,i){Xi.m(e,i);var a=Ma;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Se(o)+'"][href="'+Se(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!zn.has(f)&&(e=S({rel:"modulepreload",href:e},i),zn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ul(f)))return}o=a.createElement("link"),Ge(o,"link",e),pe(o),a.head.appendChild(o)}}}function R1(e,i,a){Xi.S(e,i,a);var o=Ma;if(o&&e){var h=on(o).hoistableStyles,f=ka(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(ll(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=zn.get(f))&&dd(e,a);var A=v=o.createElement("link");pe(A),Ge(A,"link",e),A._p=new Promise(function(U,G){A.onload=U,A.onerror=G}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ac(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function I1(e,i){Xi.X(e,i);var a=Ma;if(a&&e){var o=on(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(ul(h)),f||(e=S({src:e,async:!0},i),(i=zn.get(h))&&gd(e,i),f=a.createElement("script"),pe(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C1(e,i){Xi.M(e,i);var a=Ma;if(a&&e){var o=on(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(ul(h)),f||(e=S({src:e,async:!0,type:"module"},i),(i=zn.get(h))&&gd(e,i),f=a.createElement("script"),pe(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function $y(e,i,a,o){var h=(h=mt.current)?sc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=on(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ka(a.href);var f=on(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(ll(e)))&&!f._p&&(v.instance=f,v.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),f||D1(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Pa(a),a=on(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ka(e){return'href="'+Se(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function Zy(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function D1(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ge(i,"link",a),pe(i),e.head.appendChild(i))}function Pa(e){return'[src="'+Se(e)+'"]'}function ul(e){return"script[async]"+e}function Wy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+Se(a.href)+'"]');if(o)return i.instance=o,pe(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),pe(o),Ge(o,"style",h),ac(o,a.precedence,e),i.instance=o;case"stylesheet":h=ka(a.href);var f=e.querySelector(ll(h));if(f)return i.state.loading|=4,i.instance=f,pe(f),f;o=Zy(a),(h=zn.get(h))&&dd(o,h),f=(e.ownerDocument||e).createElement("link"),pe(f);var v=f;return v._p=new Promise(function(E,A){v.onload=E,v.onerror=A}),Ge(f,"link",o),i.state.loading|=4,ac(f,a.precedence,e),i.instance=f;case"script":return f=Pa(a.src),(h=e.querySelector(ul(f)))?(i.instance=h,pe(h),h):(o=a,(h=zn.get(f))&&(o=S({},a),gd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),pe(h),Ge(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,ac(o,a.precedence,e));return i.instance}function ac(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function gd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var oc=null;function Jy(e,i,a){if(oc===null){var o=new Map,h=oc=new Map;h.set(a,o)}else h=oc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[as]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function t_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function O1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function e_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var cl=null;function x1(){}function N1(e,i,a){if(cl===null)throw Error(s(475));var o=cl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ka(a.href),f=e.querySelector(ll(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=lc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,pe(f);return}f=e.ownerDocument||e,a=Zy(a),(h=zn.get(h))&&dd(a,h),f=f.createElement("link"),pe(f);var v=f;v._p=new Promise(function(E,A){v.onload=E,v.onerror=A}),Ge(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=lc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function V1(){if(cl===null)throw Error(s(475));var e=cl;return e.stylesheets&&e.count===0&&md(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&md(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)md(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function md(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,i.forEach(M1,e),uc=null,lc.call(e))}function M1(e,i){if(!(i.state.loading&4)){var a=uc.get(e);if(a)var o=a.get(null);else{a=new Map,uc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var hl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function k1(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function n_(e,i,a,o,h,f,v,E,A,U,G,Q){return e=new k1(e,i,a,v,E,A,U,Q),i=1,f===!0&&(i|=24),f=En(3,null,null,i),e.current=f,f.stateNode=e,i=Xh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Jh(f),e}function i_(e){return e?(e=da,e):da}function r_(e,i,a,o,h,f){h=i_(h),o.context===null?o.context=h:o.pendingContext=h,o=dr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=gr(e,o,i),a!==null&&(wn(a,e,i),Bo(a,e,i))}function s_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function pd(e,i){s_(e,i),(e=e.alternate)&&s_(e,i)}function a_(e){if(e.tag===13){var i=fa(e,67108864);i!==null&&wn(i,e,67108864),pd(e,67108864)}}var cc=!0;function P1(e,i,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,yd(e,i,a,o)}finally{nt.p=f,H.T=h}}function L1(e,i,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,yd(e,i,a,o)}finally{nt.p=f,H.T=h}}function yd(e,i,a,o){if(cc){var h=_d(o);if(h===null)rd(e,i,o,hc,a),l_(e,o);else if(z1(h,e,i,a,o))o.stopPropagation();else if(l_(e,o),i&4&&-1<U1.indexOf(e)){for(;h!==null;){var f=Wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Bn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var A=1<<31-Ze(v);E.entanglements[1]|=A,v&=~A}fi(f),(Xt&6)===0&&(Yu=hn()+500,rl(0))}}break;case 13:E=fa(f,2),E!==null&&wn(E,f,2),$u(),pd(f,2)}if(f=_d(o),f===null&&rd(e,i,o,hc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,i,o,null,a)}}function _d(e){return e=On(e),vd(e)}var hc=null;function vd(e){if(hc=null,e=Ii(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return hc=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uo()){case es:return 2;case tt:return 8;case ut:case xt:return 32;case Kt:return 268435456;default:return 32}default:return 32}}var Ed=!1,Ir=null,Cr=null,Dr=null,fl=new Map,dl=new Map,Or=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(e,i){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(i.pointerId)}}function gl(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Wn(i),i!==null&&a_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function z1(e,i,a,o,h){switch(i){case"focusin":return Ir=gl(Ir,e,i,a,o,h),!0;case"dragenter":return Cr=gl(Cr,e,i,a,o,h),!0;case"mouseover":return Dr=gl(Dr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,gl(fl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,gl(dl.get(f)||null,e,i,a,o,h)),!0}return!1}function u_(e){var i=Ii(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,$l(e.priority,function(){if(a.tag===13){var o=An();o=rr(o);var h=fa(a,o);h!==null&&wn(h,a,o),pd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=_d(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);xi=o,a.target.dispatchEvent(o),xi=null}else return i=Wn(a),i!==null&&a_(i),e.blockedOn=a,!1;i.shift()}return!0}function c_(e,i,a){fc(e)&&a.delete(i)}function j1(){Ed=!1,Ir!==null&&fc(Ir)&&(Ir=null),Cr!==null&&fc(Cr)&&(Cr=null),Dr!==null&&fc(Dr)&&(Dr=null),fl.forEach(c_),dl.forEach(c_)}function dc(e,i){e.blockedOn===i&&(e.blockedOn=null,Ed||(Ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,j1)))}var gc=null;function h_(e){gc!==e&&(gc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(vd(o||a)===null)continue;break}var f=Wn(a);f!==null&&(e.splice(i,3),i-=3,vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ml(e){function i(A){return dc(A,e)}Ir!==null&&dc(Ir,e),Cr!==null&&dc(Cr,e),Dr!==null&&dc(Dr,e),fl.forEach(i),dl.forEach(i);for(var a=0;a<Or.length;a++){var o=Or[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)u_(a),a.blockedOn===null&&Or.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[Te]||null;if(typeof f=="function")v||h_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Te]||null)E=v.formAction;else if(vd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),h_(a)}}}function Td(e){this._internalRoot=e}mc.prototype.render=Td.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=An();r_(a,o,e,i,null,null)},mc.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;r_(e.current,2,null,e,null,null),$u(),i[Cn]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var i=sr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,e),a===0&&u_(e)}};var f_=t.version;if(f_!=="19.1.0")throw Error(s(527,f_,"19.1.0"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var B1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Wt=pc.inject(B1),Nt=pc}catch{}}return yl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Cp,f=Dp,v=Op,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=n_(e,1,!1,null,null,a,o,h,f,v,E,null),e[Cn]=i.current,id(e),new Td(i)},yl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Cp,v=Dp,E=Op,A=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),i=n_(e,1,!0,i,a??null,o,h,f,v,E,A,U),i.context=i_(null),a=i.current,o=An(),o=rr(o),h=dr(o),h.callback=null,gr(a,h,o),a=o,i.current.lanes=a,Ri(i,a),fi(i),e[Cn]=i.current,id(e),new mc(i)},yl.version="19.1.0",yl}var S_;function Z1(){if(S_)return Ad.exports;S_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ad.exports=$1(),Ad.exports}var W1=Z1();const J1=()=>{};var b_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},tS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],m=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,m=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,S=c>>2,I=(c&3)<<4|m>>4;let D=(m&15)<<2|_>>6,F=_&63;p||(F=64,d||(D=64)),s.push(n[S],n[I],n[D],n[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Zv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):tS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||m==null||_==null||I==null)throw new eS;const D=c<<2|m>>4;if(s.push(D),_!==64){const F=m<<4&240|_>>2;if(s.push(F),I!==64){const Z=_<<6&192|I;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nS=function(r){const t=Zv(r);return Wv.encodeByteArray(t,!0)},kc=function(r){return nS(r).replace(/\./g,"")},Jv=function(r){try{return Wv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=()=>iS().__FIREBASE_DEFAULTS__,sS=()=>{if(typeof process>"u"||typeof b_>"u")return;const r=b_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Jv(r[1]);return t&&JSON.parse(t)},eh=()=>{try{return J1()||rS()||sS()||aS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},t0=r=>{var t,n;return(n=(t=eh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},oS=r=>{const t=t0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},e0=()=>{var r;return(r=eh())===null||r===void 0?void 0:r.config},n0=r=>{var t;return(t=eh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[kc(JSON.stringify(n)),kc(JSON.stringify(d)),""].join(".")}const bl={};function cS(){const r={prod:[],emulator:[]};for(const t of Object.keys(bl))bl[t]?r.emulator.push(t):r.prod.push(t);return r}function hS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let A_=!1;function r0(r,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||bl[r]===t||bl[r]||A_)return;bl[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=cS().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function m(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,F){D.setAttribute("width","24"),D.setAttribute("id",F),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{A_=!0,d()},D}function S(D,F){D.setAttribute("id",F),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function I(){const D=hS(s),F=n("text"),Z=document.getElementById(F)||document.createElement("span"),rt=n("learnmore"),W=document.getElementById(rt)||document.createElement("a"),At=n("preprendIcon"),dt=document.getElementById(At)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ht=D.element;m(ht),S(W,rt);const Ot=_();p(dt,At),ht.append(dt,Z,W,Ot),document.body.appendChild(ht)}c?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function dS(){var r;const t=(r=eh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yS(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _S(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function ES(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="FirebaseError";class nr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=TS,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?SS(c,s):"Error",m=`${this.serviceName}: ${d} (${l}).`;return new nr(l,m,s)}}function SS(r,t){return r.replace(bS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const bS=/\{\$([^}]+)}/g;function AS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ls(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(w_(c)&&w_(d)){if(!Ls(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function w_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function _l(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function vl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function wS(r,t){const n=new RS(r,t);return n.subscribe.bind(n)}class RS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");IS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Cd),l.error===void 0&&(l.error=Cd),l.complete===void 0&&(l.complete=Cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(r){return r&&r._delegate?r._delegate:r}class Us{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new lS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OS(t))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ks){return this.instances.has(t)}getOptions(t=ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ks){return this.component?this.component.multipleInstances?t:ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(r){return r===ks?void 0:r}function OS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new CS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const NS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},VS=Pt.INFO,MS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},kS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=MS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gg{constructor(t){this.name=t,this._logLevel=VS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?NS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const PS=(r,t)=>t.some(n=>r instanceof n);let R_,I_;function LS(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function US(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,jd=new WeakMap,a0=new WeakMap,Dd=new WeakMap,mg=new WeakMap;function zS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Ur(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&s0.set(n,r)}).catch(()=>{}),mg.set(t,r),t}function jS(r){if(jd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});jd.set(r,t)}let Bd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return jd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||a0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function BS(r){Bd=r(Bd)}function qS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Od(this),t,...n);return a0.set(s,t.sort?t.sort():[t]),Ur(s)}:US().includes(r)?function(...t){return r.apply(Od(this),t),Ur(s0.get(this))}:function(...t){return Ur(r.apply(Od(this),t))}}function HS(r){return typeof r=="function"?qS(r):(r instanceof IDBTransaction&&jS(r),PS(r,LS())?new Proxy(r,Bd):r)}function Ur(r){if(r instanceof IDBRequest)return zS(r);if(Dd.has(r))return Dd.get(r);const t=HS(r);return t!==r&&(Dd.set(r,t),mg.set(t,r)),t}const Od=r=>mg.get(r);function FS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),m=Ur(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Ur(d.result),p.oldVersion,p.newVersion,Ur(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const GS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],xd=new Map;function C_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(xd.get(t))return xd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=KS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||GS.includes(n)))return;const c=async function(d,...m){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),l&&p.done]))[0]};return xd.set(t,c),c}BS(r=>({...r,get:(t,n,s)=>C_(t,n)||r.get(t,n,s),has:(t,n)=>!!C_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function YS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qd="@firebase/app",D_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new gg("@firebase/app"),XS="@firebase/app-compat",$S="@firebase/analytics-compat",ZS="@firebase/analytics",WS="@firebase/app-check-compat",JS="@firebase/app-check",tb="@firebase/auth",eb="@firebase/auth-compat",nb="@firebase/database",ib="@firebase/data-connect",rb="@firebase/database-compat",sb="@firebase/functions",ab="@firebase/functions-compat",ob="@firebase/installations",lb="@firebase/installations-compat",ub="@firebase/messaging",cb="@firebase/messaging-compat",hb="@firebase/performance",fb="@firebase/performance-compat",db="@firebase/remote-config",gb="@firebase/remote-config-compat",mb="@firebase/storage",pb="@firebase/storage-compat",yb="@firebase/firestore",_b="@firebase/ai",vb="@firebase/firestore-compat",Eb="firebase",Tb="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",Sb={[qd]:"fire-core",[XS]:"fire-core-compat",[ZS]:"fire-analytics",[$S]:"fire-analytics-compat",[JS]:"fire-app-check",[WS]:"fire-app-check-compat",[tb]:"fire-auth",[eb]:"fire-auth-compat",[nb]:"fire-rtdb",[ib]:"fire-data-connect",[rb]:"fire-rtdb-compat",[sb]:"fire-fn",[ab]:"fire-fn-compat",[ob]:"fire-iid",[lb]:"fire-iid-compat",[ub]:"fire-fcm",[cb]:"fire-fcm-compat",[hb]:"fire-perf",[fb]:"fire-perf-compat",[db]:"fire-rc",[gb]:"fire-rc-compat",[mb]:"fire-gcs",[pb]:"fire-gcs-compat",[yb]:"fire-fst",[vb]:"fire-fst-compat",[_b]:"fire-vertex","fire-js":"fire-js",[Eb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,bb=new Map,Fd=new Map;function O_(r,t){try{r.container.addComponent(t)}catch(n){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ya(r){const t=r.name;if(Fd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Fd.set(t,r);for(const n of Pc.values())O_(n,r);for(const n of bb.values())O_(n,r);return!0}function pg(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new Ul("app","Firebase",Ab);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=Tb;function o0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Hd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw zr.create("bad-app-name",{appName:String(l)});if(n||(n=e0()),!n)throw zr.create("no-options");const c=Pc.get(l);if(c){if(Ls(n,c.options)&&Ls(s,c.config))return c;throw zr.create("duplicate-app",{appName:l})}const d=new xS(l);for(const p of Fd.values())d.addComponent(p);const m=new wb(n,s,d);return Pc.set(l,m),m}function l0(r=Hd){const t=Pc.get(r);if(!t&&r===Hd&&e0())return o0();if(!t)throw zr.create("no-app",{appName:r});return t}function jr(r,t,n){var s;let l=(s=Sb[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const m=[`Unable to register library "${l}" with version "${t}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(m.join(" "));return}Ya(new Us(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebase-heartbeat-database",Ib=1,Dl="firebase-heartbeat-store";let Nd=null;function u0(){return Nd||(Nd=FS(Rb,Ib,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),Nd}async function Cb(r){try{const n=(await u0()).transaction(Dl),s=await n.objectStore(Dl).get(c0(r));return await n.done,s}catch(t){if(t instanceof nr)Wi.warn(t.message);else{const n=zr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wi.warn(n.message)}}}async function x_(r,t){try{const s=(await u0()).transaction(Dl,"readwrite");await s.objectStore(Dl).put(t,c0(r)),await s.done}catch(n){if(n instanceof nr)Wi.warn(n.message);else{const s=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(s.message)}}}function c0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=1024,Ob=30;class xb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=N_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Ob){const d=Mb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=N_(),{heartbeatsToSend:s,unsentEntries:l}=Nb(this._heartbeatsCache.heartbeats),c=kc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Wi.warn(n),""}}}function N_(){return new Date().toISOString().substring(0,10)}function Nb(r,t=Db){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),V_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),V_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Vb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?ES().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Cb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function V_(r){return kc(JSON.stringify({version:2,heartbeats:r})).length}function Mb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(r){Ya(new Us("platform-logger",t=>new QS(t),"PRIVATE")),Ya(new Us("heartbeat",t=>new xb(t),"PRIVATE")),jr(qd,D_,r),jr(qd,D_,"esm2017"),jr("fire-js","")}kb("");function yg(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pb=h0,f0=new Ul("auth","Firebase",h0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new gg("@firebase/auth");function Lb(r,...t){Lc.logLevel<=Pt.WARN&&Lc.warn(`Auth (${no}): ${r}`,...t)}function wc(r,...t){Lc.logLevel<=Pt.ERROR&&Lc.error(`Auth (${no}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...t){throw _g(r,...t)}function gi(r,...t){return _g(r,...t)}function d0(r,t,n){const s=Object.assign(Object.assign({},Pb()),{[t]:n});return new Ul("auth","Firebase",s).create(t,{appName:r.name})}function Br(r){return d0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _g(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return f0.create(r,...t)}function _t(r,t,...n){if(!r)throw _g(t,...n)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw wc(t),new Error(t)}function Ji(r,t){r||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Ub(){return M_()==="http:"||M_()==="https:"}function M_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ub()||mS()||"connection"in navigator)?navigator.onLine:!0}function jb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ji(n>t,"Short delay should be less than long delay!"),this.isMobile=fS()||pS()}get(){return zb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(r,t){Ji(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hb=new jl(3e4,6e4);function Hs(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Wr(r,t,n,s,l={}){return m0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const m=zl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return gS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&eo(r.emulatorConfig.host)&&(_.credentials="include"),g0.fetch()(await p0(r,r.config.apiHost,n,m),_)})}async function m0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},Bb),t);try{const l=new Gb(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw yc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw yc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw yc(r,"user-disabled",d);const S=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw d0(r,S,_);$n(r,S)}}catch(l){if(l instanceof nr)throw l;$n(r,"network-request-failed",{message:String(l)})}}async function nh(r,t,n,s,l={}){const c=await Wr(r,t,n,s,l);return"mfaPendingCredential"in c&&$n(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function p0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?vg(r.config,l):`${r.config.apiScheme}://${l}`;return qb.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Fb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),Hb.get())})}}function yc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=gi(r,t,s);return l.customData._tokenResponse=n,l}function k_(r){return r!==void 0&&r.enterprise!==void 0}class Kb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Fb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Qb(r,t){return Wr(r,"GET","/v2/recaptchaConfig",Hs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(r,t){return Wr(r,"POST","/v1/accounts:delete",t)}async function Uc(r,t){return Wr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Xb(r,t=!1){const n=Ye(r),s=await n.getIdToken(t),l=Eg(s);_t(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:Al(Vd(l.auth_time)),issuedAtTime:Al(Vd(l.iat)),expirationTime:Al(Vd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Vd(r){return Number(r)*1e3}function Eg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Jv(n);return l?JSON.parse(l):(wc("Failed to decode base64 JWT payload"),null)}catch(l){return wc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function P_(r){const t=Eg(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof nr&&$b(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function $b({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Ol(r,Uc(n,{idToken:s}));_t(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?y0(c.providerUserInfo):[],m=Jb(r.providerData,d),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(m!=null&&m.length),S=p?_:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new Kd(c.createdAt,c.lastLoginAt),isAnonymous:S};Object.assign(r,I)}async function Wb(r){const t=Ye(r);await zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Jb(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function y0(r){return r.map(t=>{var{providerId:n}=t,s=yg(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(r,t){const n=await m0(r,{},async()=>{const s=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await p0(r,l,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&eo(r.emulatorConfig.host)&&(p.credentials="include"),g0.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eA(r,t){return Wr(r,"POST","/v2/accounts:revokeToken",Hs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):P_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=P_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await tA(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new qa;return s&&(_t(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Yn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=yg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Kd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Xb(this,t)}reload(){return Wb(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Yn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await zc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Br(this.auth));const t=await this.getIdToken();return await Ol(this,Yb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,d,m,p,_,S;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(l=n.email)!==null&&l!==void 0?l:void 0,F=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(d=n.photoURL)!==null&&d!==void 0?d:void 0,rt=(m=n.tenantId)!==null&&m!==void 0?m:void 0,W=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,At=(_=n.createdAt)!==null&&_!==void 0?_:void 0,dt=(S=n.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:ht,emailVerified:Ot,isAnonymous:Et,providerData:It,stsTokenManager:N}=n;_t(ht&&N,t,"internal-error");const b=qa.fromJSON(this.name,N);_t(typeof ht=="string",t,"internal-error"),Nr(I,t.name),Nr(D,t.name),_t(typeof Ot=="boolean",t,"internal-error"),_t(typeof Et=="boolean",t,"internal-error"),Nr(F,t.name),Nr(Z,t.name),Nr(rt,t.name),Nr(W,t.name),Nr(At,t.name),Nr(dt,t.name);const w=new Yn({uid:ht,auth:t,email:D,emailVerified:Ot,displayName:I,isAnonymous:Et,photoURL:Z,phoneNumber:F,tenantId:rt,stsTokenManager:b,createdAt:At,lastLoginAt:dt});return It&&Array.isArray(It)&&(w.providerData=It.map(x=>Object.assign({},x))),W&&(w._redirectEventId=W),w}static async _fromIdTokenResponse(t,n,s=!1){const l=new qa;l.updateFromServerResponse(n);const c=new Yn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await zc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?y0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),m=new qa;m.updateFromIdToken(s);const p=new Yn({uid:l.localId,auth:t,stsTokenManager:m,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Kd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;function Zi(r){Ji(r instanceof Function,"Expected a class definition");let t=L_.get(r);return t?(Ji(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,L_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_0.type="NONE";const U_=_0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ha{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Rc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Uc(this.auth,{idToken:t}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ha(Zi(U_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Zi(U_);const d=Rc(s,t.config.apiKey,t.name);let m=null;for(const _ of n)try{const S=await _._get(d);if(S){let I;if(typeof S=="string"){const D=await Uc(t,{idToken:S}).catch(()=>{});if(!D)break;I=await Yn._fromGetAccountInfoResponse(t,D,S)}else I=Yn._fromJSON(t,S);_!==c&&(m=I),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ha(c,t,s):(c=p[0],m&&await c._set(d,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ha(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(S0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(v0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(A0(t))return"Blackberry";if(w0(t))return"Webos";if(E0(t))return"Safari";if((t.includes("chrome/")||T0(t))&&!t.includes("edge/"))return"Chrome";if(b0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function v0(r=rn()){return/firefox\//i.test(r)}function E0(r=rn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function T0(r=rn()){return/crios\//i.test(r)}function S0(r=rn()){return/iemobile/i.test(r)}function b0(r=rn()){return/android/i.test(r)}function A0(r=rn()){return/blackberry/i.test(r)}function w0(r=rn()){return/webos/i.test(r)}function Tg(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function nA(r=rn()){var t;return Tg(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function iA(){return yS()&&document.documentMode===10}function R0(r=rn()){return Tg(r)||b0(r)||w0(r)||A0(r)||/windows phone/i.test(r)||S0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r,t=[]){let n;switch(r){case"Browser":n=z_(rn());break;case"Worker":n=`${z_(rn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,m)=>{try{const p=t(c);d(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(r,t={}){return Wr(r,"GET","/v2/passwordPolicy",Hs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=6;class oA{constructor(t){var n,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:aA,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,d,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new rA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Uc(this,{idToken:t}),s=await Yn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Qn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===m)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await zc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=jb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(Br(this));const n=t?Ye(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sA(this),n=new oA(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eA(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zi(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Lb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function io(r){return Ye(r)}class j_{constructor(t){this.auth=t,this.observer=null,this.addObserver=wS(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uA(r){ih=r}function C0(r){return ih.loadJS(r)}function cA(){return ih.recaptchaEnterpriseScript}function hA(){return ih.gapiScript}function fA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class dA{constructor(){this.enterprise=new gA}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class gA{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const mA="recaptcha-enterprise",D0="NO_RECAPTCHA";class pA{constructor(t){this.type=mA,this.auth=io(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{Qb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new Kb(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(p=>{m(p)})})}function l(c,d,m){const p=window.grecaptcha;k_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(D0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dA().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(m=>{if(!n&&k_(window.grecaptcha))l(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cA();p.length!==0&&(p+=m),C0(p).then(()=>{l(m,c,d)}).catch(_=>{d(_)})}}).catch(m=>{d(m)})})}}async function B_(r,t,n,s=!1,l=!1){const c=new pA(r);let d;if(l)d=D0;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function q_(r,t,n,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await B_(r,t,n,n==="getOobCode");return s(r,d)}else return s(r,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await B_(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(r,t){const n=pg(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Ls(c,t??{}))return l;$n(l,"already-initialized")}return n.initialize({options:t})}function _A(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function vA(r,t,n){const s=io(r);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=O0(t),{host:d,port:m}=EA(t),p=m===null?"":`:${m}`,_={url:`${c}//${d}${p}/`},S=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Ls(_,s.config.emulator)&&Ls(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,eo(d)?(i0(`${c}//${d}${p}`),r0("Auth",!0)):TA()}function O0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function EA(r){const t=O0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:H_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:H_(d)}}}function H_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function TA(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,n){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function SA(r,t){return Wr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(r,t){return nh(r,"POST","/v1/accounts:signInWithPassword",Hs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(r,t){return nh(r,"POST","/v1/accounts:signInWithEmailLink",Hs(r,t))}async function wA(r,t){return nh(r,"POST","/v1/accounts:signInWithEmailLink",Hs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Sg{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new xl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new xl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return q_(t,n,"signInWithPassword",bA);case"emailLink":return AA(t,{email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return q_(t,s,"signUpPassword",SA);case"emailLink":return wA(t,{idToken:n,email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(r,t){return nh(r,"POST","/v1/accounts:signInWithIdp",Hs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="http://localhost";class zs extends Sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new zs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=yg(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new zs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Fa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Fa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Fa(t,n)}buildRequest(){const t={requestUri:RA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CA(r){const t=_l(vl(r)).link,n=t?_l(vl(t)).deep_link_id:null,s=_l(vl(r)).deep_link_id;return(s?_l(vl(s)).link:null)||s||n||t||r}class bg{constructor(t){var n,s,l,c,d,m;const p=_l(vl(t)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,S=(s=p.oobCode)!==null&&s!==void 0?s:null,I=IA((l=p.mode)!==null&&l!==void 0?l:null);_t(_&&S&&I,"argument-error"),this.apiKey=_,this.operation=I,this.code=S,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=CA(t);try{return new bg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(t,n){return xl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=bg.parseLink(n);return _t(s,"argument-error"),xl._fromEmailAndCode(t,s.code,s.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends x0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Bl{constructor(){super("facebook.com")}static credential(t){return zs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return zs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Mr.credential(n,s)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Bl{constructor(){super("github.com")}static credential(t){return zs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Bl{constructor(){super("twitter.com")}static credential(t,n){return zs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Yn._fromIdTokenResponse(t,s,l),d=F_(s);return new Xa({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=F_(s);return new Xa({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function F_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends nr{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,jc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new jc(t,n,s,l)}}function N0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?jc._fromErrorAndOperation(r,c,t,s):c})}async function DA(r,t,n=!1){const s=await Ol(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Xa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(r,t,n=!1){const{auth:s}=r;if(Qn(s.app))return Promise.reject(Br(s));const l="reauthenticate";try{const c=await Ol(r,N0(s,l,t,r),n);_t(c.idToken,s,"internal-error");const d=Eg(c.idToken);_t(d,s,"internal-error");const{sub:m}=d;return _t(r.uid===m,s,"user-mismatch"),Xa._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&$n(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(r,t,n=!1){if(Qn(r.app))return Promise.reject(Br(r));const s="signIn",l=await N0(r,s,t),c=await Xa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function xA(r,t){return V0(io(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(r){const t=io(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function VA(r,t,n){return Qn(r.app)?Promise.reject(Br(r)):xA(Ye(r),ro.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&NA(r),s})}function MA(r,t,n,s){return Ye(r).onIdTokenChanged(t,n,s)}function kA(r,t,n){return Ye(r).beforeAuthStateChanged(t,n)}function PA(r,t,n,s){return Ye(r).onAuthStateChanged(t,n,s)}function LA(r){return Ye(r).signOut()}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=1e3,zA=10;class k0 extends M0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);iA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,zA):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}k0.type="LOCAL";const jA=k0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends M0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}P0.type="SESSION";const L0=P0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new rh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(d).map(async _=>_(n.origin,c)),p=await BA(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((m,p)=>{const _=Ag("",20);l.port1.start();const S=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const D=I;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(D.data.response);break;default:clearTimeout(S),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function HA(r){mi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function FA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GA(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function KA(){return U0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="firebaseLocalStorageDb",QA=1,qc="firebaseLocalStorage",j0="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sh(r,t){return r.transaction([qc],t?"readwrite":"readonly").objectStore(qc)}function YA(){const r=indexedDB.deleteDatabase(z0);return new ql(r).toPromise()}function Qd(){const r=indexedDB.open(z0,QA);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(qc,{keyPath:j0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(qc)?t(s):(s.close(),await YA(),t(await Qd()))})})}async function G_(r,t,n){const s=sh(r,!0).put({[j0]:t,value:n});return new ql(s).toPromise()}async function XA(r,t){const n=sh(r,!1).get(t),s=await new ql(n).toPromise();return s===void 0?null:s.value}function K_(r,t){const n=sh(r,!0).delete(t);return new ql(n).toPromise()}const $A=800,ZA=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>ZA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(KA()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await FA(),!this.activeServiceWorker)return;this.sender=new qA(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qd();return await G_(t,Bc,"1"),await K_(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>G_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>XA(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>K_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=sh(l,!1).getAll();return new ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const WA=B0;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r,t){return t?Zi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends Sg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Fa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tw(r){return V0(r.auth,new wg(r),r.bypassAuthState)}function ew(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),OA(n,new wg(r),r.bypassAuthState)}async function nw(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),DA(n,new wg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:m}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tw;case"linkViaPopup":case"linkViaRedirect":return nw;case"reauthViaPopup":case"reauthViaRedirect":return ew;default:$n(this.auth,"internal-error")}}resolve(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new jl(2e3,1e4);class Ba extends q0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const t=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iw.get())};t()}}Ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="pendingRedirect",Ic=new Map;class sw extends q0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Ic.get(this.auth._key());if(!t){try{const s=await aw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Ic.set(this.auth._key(),t)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aw(r,t){const n=uw(t),s=lw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function ow(r,t){Ic.set(r._key(),t)}function lw(r){return Zi(r._redirectPersistence)}function uw(r){return Rc(rw,r.config.apiKey,r.name)}async function cw(r,t,n=!1){if(Qn(r.app))return Promise.reject(Br(r));const s=io(r),l=JA(s,t),d=await new sw(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=10*60*1e3;class fw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!H0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q_(t))}saveEventToCache(t){this.cachedEventUids.add(Q_(t)),this.lastProcessedEventTime=Date.now()}}function Q_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function H0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function dw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(r,t={}){return Wr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pw=/^https?/;async function yw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await gw(r);for(const n of t)try{if(_w(n))return}catch{}$n(r,"unauthorized-domain")}function _w(r){const t=Gd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!pw.test(n))return!1;if(mw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new jl(3e4,6e4);function Y_(){const r=mi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Ew(r){return new Promise((t,n)=>{var s,l,c;function d(){Y_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Y_(),n(gi(r,"network-request-failed"))},timeout:vw.get()})}if(!((l=(s=mi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=mi().gapi)===null||c===void 0)&&c.load)d();else{const m=fA("iframefcb");return mi()[m]=()=>{gapi.load?d():n(gi(r,"network-request-failed"))},C0(`${hA()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw Cc=null,t})}let Cc=null;function Tw(r){return Cc=Cc||Ew(r),Cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new jl(5e3,15e3),bw="__/auth/iframe",Aw="emulator/auth/iframe",ww={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iw(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?vg(t,Aw):`https://${r.config.authDomain}/${bw}`,s={apiKey:t.apiKey,appName:r.name,v:no},l=Rw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${zl(s).slice(1)}`}async function Cw(r){const t=await Tw(r),n=mi().gapi;return _t(n,r,"internal-error"),t.open({where:document.body,url:Iw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ww,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=gi(r,"network-request-failed"),m=mi().setTimeout(()=>{c(d)},Sw.get());function p(){mi().clearTimeout(m),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ow=500,xw=600,Nw="_blank",Vw="http://localhost";class X_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mw(r,t,n,s=Ow,l=xw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Dw),{width:s.toString(),height:l.toString(),top:c,left:d}),_=rn().toLowerCase();n&&(m=T0(_)?Nw:n),v0(_)&&(t=t||Vw,p.scrollbars="yes");const S=Object.entries(p).reduce((D,[F,Z])=>`${D}${F}=${Z},`,"");if(nA(_)&&m!=="_self")return kw(t||"",m),new X_(null);const I=window.open(t||"",m,S);_t(I,r,"popup-blocked");try{I.focus()}catch{}return new X_(I)}function kw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="__/auth/handler",Lw="emulator/auth/handler",Uw=encodeURIComponent("fac");async function $_(r,t,n,s,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:no,eventId:l};if(t instanceof x0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",AS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,I]of Object.entries({}))d[S]=I}if(t instanceof Bl){const S=t.getScopes().filter(I=>I!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const m=d;for(const S of Object.keys(m))m[S]===void 0&&delete m[S];const p=await r._getAppCheckToken(),_=p?`#${Uw}=${encodeURIComponent(p)}`:"";return`${zw(r)}?${zl(m).slice(1)}${_}`}function zw({config:r}){return r.emulator?vg(r,Lw):`https://${r.authDomain}/${Pw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="webStorageSupport";class jw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L0,this._completeRedirectFn=cw,this._overrideRedirectResult=ow}async _openPopup(t,n,s,l){var c;Ji((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await $_(t,n,s,Gd(),l);return Mw(t,d,Ag())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await $_(t,n,s,Gd(),l);return HA(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Ji(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Cw(t),s=new fw(t);return n.register("authEvent",l=>(_t(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Md,{type:Md},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Md];d!==void 0&&n(!!d),$n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return R0()||E0()||Tg()}}const Bw=jw;var Z_="@firebase/auth",W_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fw(r){Ya(new Us("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(r)},_=new lA(s,l,c,p);return _A(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ya(new Us("auth-internal",t=>{const n=io(t.getProvider("auth").getImmediate());return(s=>new qw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(Z_,W_,Hw(r)),jr(Z_,W_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=5*60,Kw=n0("authIdTokenMaxAge")||Gw;let J_=null;const Qw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Kw)return;const l=n==null?void 0:n.token;J_!==l&&(J_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Yw(r=l0()){const t=pg(r,"auth");if(t.isInitialized())return t.getImmediate();const n=yA(r,{popupRedirectResolver:Bw,persistence:[WA,jA,L0]}),s=n0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=Qw(c.toString());kA(n,d,()=>d(n.currentUser)),MA(n,m=>d(m))}}const l=t0("auth");return l&&vA(n,`http://${l}`),n}function Xw(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}uA({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=gi("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",Xw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fw("Browser");var $w="firebase",Zw="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr($w,Zw,"app");var tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,F0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,b){function w(){}w.prototype=b.prototype,N.D=b.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(x,V,M){for(var R=Array(arguments.length-2),me=2;me<arguments.length;me++)R[me-2]=arguments[me];return b.prototype[V].apply(x,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,b,w){w||(w=0);var x=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)x[V]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(V=0;16>V;++V)x[V]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=N.g[0],w=N.g[1],V=N.g[2];var M=N.g[3],R=b+(M^w&(V^M))+x[0]+3614090360&4294967295;b=w+(R<<7&4294967295|R>>>25),R=M+(V^b&(w^V))+x[1]+3905402710&4294967295,M=b+(R<<12&4294967295|R>>>20),R=V+(w^M&(b^w))+x[2]+606105819&4294967295,V=M+(R<<17&4294967295|R>>>15),R=w+(b^V&(M^b))+x[3]+3250441966&4294967295,w=V+(R<<22&4294967295|R>>>10),R=b+(M^w&(V^M))+x[4]+4118548399&4294967295,b=w+(R<<7&4294967295|R>>>25),R=M+(V^b&(w^V))+x[5]+1200080426&4294967295,M=b+(R<<12&4294967295|R>>>20),R=V+(w^M&(b^w))+x[6]+2821735955&4294967295,V=M+(R<<17&4294967295|R>>>15),R=w+(b^V&(M^b))+x[7]+4249261313&4294967295,w=V+(R<<22&4294967295|R>>>10),R=b+(M^w&(V^M))+x[8]+1770035416&4294967295,b=w+(R<<7&4294967295|R>>>25),R=M+(V^b&(w^V))+x[9]+2336552879&4294967295,M=b+(R<<12&4294967295|R>>>20),R=V+(w^M&(b^w))+x[10]+4294925233&4294967295,V=M+(R<<17&4294967295|R>>>15),R=w+(b^V&(M^b))+x[11]+2304563134&4294967295,w=V+(R<<22&4294967295|R>>>10),R=b+(M^w&(V^M))+x[12]+1804603682&4294967295,b=w+(R<<7&4294967295|R>>>25),R=M+(V^b&(w^V))+x[13]+4254626195&4294967295,M=b+(R<<12&4294967295|R>>>20),R=V+(w^M&(b^w))+x[14]+2792965006&4294967295,V=M+(R<<17&4294967295|R>>>15),R=w+(b^V&(M^b))+x[15]+1236535329&4294967295,w=V+(R<<22&4294967295|R>>>10),R=b+(V^M&(w^V))+x[1]+4129170786&4294967295,b=w+(R<<5&4294967295|R>>>27),R=M+(w^V&(b^w))+x[6]+3225465664&4294967295,M=b+(R<<9&4294967295|R>>>23),R=V+(b^w&(M^b))+x[11]+643717713&4294967295,V=M+(R<<14&4294967295|R>>>18),R=w+(M^b&(V^M))+x[0]+3921069994&4294967295,w=V+(R<<20&4294967295|R>>>12),R=b+(V^M&(w^V))+x[5]+3593408605&4294967295,b=w+(R<<5&4294967295|R>>>27),R=M+(w^V&(b^w))+x[10]+38016083&4294967295,M=b+(R<<9&4294967295|R>>>23),R=V+(b^w&(M^b))+x[15]+3634488961&4294967295,V=M+(R<<14&4294967295|R>>>18),R=w+(M^b&(V^M))+x[4]+3889429448&4294967295,w=V+(R<<20&4294967295|R>>>12),R=b+(V^M&(w^V))+x[9]+568446438&4294967295,b=w+(R<<5&4294967295|R>>>27),R=M+(w^V&(b^w))+x[14]+3275163606&4294967295,M=b+(R<<9&4294967295|R>>>23),R=V+(b^w&(M^b))+x[3]+4107603335&4294967295,V=M+(R<<14&4294967295|R>>>18),R=w+(M^b&(V^M))+x[8]+1163531501&4294967295,w=V+(R<<20&4294967295|R>>>12),R=b+(V^M&(w^V))+x[13]+2850285829&4294967295,b=w+(R<<5&4294967295|R>>>27),R=M+(w^V&(b^w))+x[2]+4243563512&4294967295,M=b+(R<<9&4294967295|R>>>23),R=V+(b^w&(M^b))+x[7]+1735328473&4294967295,V=M+(R<<14&4294967295|R>>>18),R=w+(M^b&(V^M))+x[12]+2368359562&4294967295,w=V+(R<<20&4294967295|R>>>12),R=b+(w^V^M)+x[5]+4294588738&4294967295,b=w+(R<<4&4294967295|R>>>28),R=M+(b^w^V)+x[8]+2272392833&4294967295,M=b+(R<<11&4294967295|R>>>21),R=V+(M^b^w)+x[11]+1839030562&4294967295,V=M+(R<<16&4294967295|R>>>16),R=w+(V^M^b)+x[14]+4259657740&4294967295,w=V+(R<<23&4294967295|R>>>9),R=b+(w^V^M)+x[1]+2763975236&4294967295,b=w+(R<<4&4294967295|R>>>28),R=M+(b^w^V)+x[4]+1272893353&4294967295,M=b+(R<<11&4294967295|R>>>21),R=V+(M^b^w)+x[7]+4139469664&4294967295,V=M+(R<<16&4294967295|R>>>16),R=w+(V^M^b)+x[10]+3200236656&4294967295,w=V+(R<<23&4294967295|R>>>9),R=b+(w^V^M)+x[13]+681279174&4294967295,b=w+(R<<4&4294967295|R>>>28),R=M+(b^w^V)+x[0]+3936430074&4294967295,M=b+(R<<11&4294967295|R>>>21),R=V+(M^b^w)+x[3]+3572445317&4294967295,V=M+(R<<16&4294967295|R>>>16),R=w+(V^M^b)+x[6]+76029189&4294967295,w=V+(R<<23&4294967295|R>>>9),R=b+(w^V^M)+x[9]+3654602809&4294967295,b=w+(R<<4&4294967295|R>>>28),R=M+(b^w^V)+x[12]+3873151461&4294967295,M=b+(R<<11&4294967295|R>>>21),R=V+(M^b^w)+x[15]+530742520&4294967295,V=M+(R<<16&4294967295|R>>>16),R=w+(V^M^b)+x[2]+3299628645&4294967295,w=V+(R<<23&4294967295|R>>>9),R=b+(V^(w|~M))+x[0]+4096336452&4294967295,b=w+(R<<6&4294967295|R>>>26),R=M+(w^(b|~V))+x[7]+1126891415&4294967295,M=b+(R<<10&4294967295|R>>>22),R=V+(b^(M|~w))+x[14]+2878612391&4294967295,V=M+(R<<15&4294967295|R>>>17),R=w+(M^(V|~b))+x[5]+4237533241&4294967295,w=V+(R<<21&4294967295|R>>>11),R=b+(V^(w|~M))+x[12]+1700485571&4294967295,b=w+(R<<6&4294967295|R>>>26),R=M+(w^(b|~V))+x[3]+2399980690&4294967295,M=b+(R<<10&4294967295|R>>>22),R=V+(b^(M|~w))+x[10]+4293915773&4294967295,V=M+(R<<15&4294967295|R>>>17),R=w+(M^(V|~b))+x[1]+2240044497&4294967295,w=V+(R<<21&4294967295|R>>>11),R=b+(V^(w|~M))+x[8]+1873313359&4294967295,b=w+(R<<6&4294967295|R>>>26),R=M+(w^(b|~V))+x[15]+4264355552&4294967295,M=b+(R<<10&4294967295|R>>>22),R=V+(b^(M|~w))+x[6]+2734768916&4294967295,V=M+(R<<15&4294967295|R>>>17),R=w+(M^(V|~b))+x[13]+1309151649&4294967295,w=V+(R<<21&4294967295|R>>>11),R=b+(V^(w|~M))+x[4]+4149444226&4294967295,b=w+(R<<6&4294967295|R>>>26),R=M+(w^(b|~V))+x[11]+3174756917&4294967295,M=b+(R<<10&4294967295|R>>>22),R=V+(b^(M|~w))+x[2]+718787259&4294967295,V=M+(R<<15&4294967295|R>>>17),R=w+(M^(V|~b))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.u=function(N,b){b===void 0&&(b=N.length);for(var w=b-this.blockSize,x=this.B,V=this.h,M=0;M<b;){if(V==0)for(;M<=w;)l(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<b;)if(x[V++]=N.charCodeAt(M++),V==this.blockSize){l(this,x),V=0;break}}else for(;M<b;)if(x[V++]=N[M++],V==this.blockSize){l(this,x),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;var w=8*this.o;for(b=N.length-8;b<N.length;++b)N[b]=w&255,w/=256;for(this.u(N),N=Array(16),b=w=0;4>b;++b)for(var x=0;32>x;x+=8)N[w++]=this.g[b]>>>x&255;return N};function c(N,b){var w=m;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=b(N)}function d(N,b){this.h=b;for(var w=[],x=!0,V=N.length-1;0<=V;V--){var M=N[V]|0;x&&M==b||(w[V]=M,x=!1)}this.g=w}var m={};function p(N){return-128<=N&&128>N?c(N,function(b){return new d([b|0],0>b?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return W(_(-N));for(var b=[],w=1,x=0;N>=w;x++)b[x]=N/w|0,w*=4294967296;return new d(b,0)}function S(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return W(S(N.substring(1),b));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(b,8)),x=I,V=0;V<N.length;V+=8){var M=Math.min(8,N.length-V),R=parseInt(N.substring(V,V+M),b);8>M?(M=_(Math.pow(b,M)),x=x.j(M).add(_(R))):(x=x.j(w),x=x.add(_(R)))}return x}var I=p(0),D=p(1),F=p(16777216);r=d.prototype,r.m=function(){if(rt(this))return-W(this).m();for(var N=0,b=1,w=0;w<this.g.length;w++){var x=this.i(w);N+=(0<=x?x:4294967296+x)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(rt(this))return"-"+W(this).toString(N);for(var b=_(Math.pow(N,6)),w=this,x="";;){var V=Ot(w,b).g;w=At(w,V.j(b));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=V,Z(w))return M+x;for(;6>M.length;)M="0"+M;x=M+x}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function rt(N){return N.h==-1}r.l=function(N){return N=At(this,N),rt(N)?-1:Z(N)?0:1};function W(N){for(var b=N.g.length,w=[],x=0;x<b;x++)w[x]=~N.g[x];return new d(w,~N.h).add(D)}r.abs=function(){return rt(this)?W(this):this},r.add=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],x=0,V=0;V<=b;V++){var M=x+(this.i(V)&65535)+(N.i(V)&65535),R=(M>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);x=R>>>16,M&=65535,R&=65535,w[V]=R<<16|M}return new d(w,w[w.length-1]&-2147483648?-1:0)};function At(N,b){return N.add(W(b))}r.j=function(N){if(Z(this)||Z(N))return I;if(rt(this))return rt(N)?W(this).j(W(N)):W(W(this).j(N));if(rt(N))return W(this.j(W(N)));if(0>this.l(F)&&0>N.l(F))return _(this.m()*N.m());for(var b=this.g.length+N.g.length,w=[],x=0;x<2*b;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<N.g.length;V++){var M=this.i(x)>>>16,R=this.i(x)&65535,me=N.i(V)>>>16,re=N.i(V)&65535;w[2*x+2*V]+=R*re,dt(w,2*x+2*V),w[2*x+2*V+1]+=M*re,dt(w,2*x+2*V+1),w[2*x+2*V+1]+=R*me,dt(w,2*x+2*V+1),w[2*x+2*V+2]+=M*me,dt(w,2*x+2*V+2)}for(x=0;x<b;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=b;x<2*b;x++)w[x]=0;return new d(w,0)};function dt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function ht(N,b){this.g=N,this.h=b}function Ot(N,b){if(Z(b))throw Error("division by zero");if(Z(N))return new ht(I,I);if(rt(N))return b=Ot(W(N),b),new ht(W(b.g),W(b.h));if(rt(b))return b=Ot(N,W(b)),new ht(W(b.g),b.h);if(30<N.g.length){if(rt(N)||rt(b))throw Error("slowDivide_ only works with positive integers.");for(var w=D,x=b;0>=x.l(N);)w=Et(w),x=Et(x);var V=It(w,1),M=It(x,1);for(x=It(x,2),w=It(w,2);!Z(x);){var R=M.add(x);0>=R.l(N)&&(V=V.add(w),M=R),x=It(x,1),w=It(w,1)}return b=At(N,V.j(b)),new ht(V,b)}for(V=I;0<=N.l(b);){for(w=Math.max(1,Math.floor(N.m()/b.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),M=_(w),R=M.j(b);rt(R)||0<R.l(N);)w-=x,M=_(w),R=M.j(b);Z(M)&&(M=D),V=V.add(M),N=At(N,R)}return new ht(V,N)}r.A=function(N){return Ot(this,N).h},r.and=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)&N.i(x);return new d(w,this.h&N.h)},r.or=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)|N.i(x);return new d(w,this.h|N.h)},r.xor=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)^N.i(x);return new d(w,this.h^N.h)};function Et(N){for(var b=N.g.length+1,w=[],x=0;x<b;x++)w[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(w,N.h)}function It(N,b){var w=b>>5;b%=32;for(var x=N.g.length-w,V=[],M=0;M<x;M++)V[M]=0<b?N.i(M+w)>>>b|N.i(M+w+1)<<32-b:N.i(M+w);return new d(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,F0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,qr=d}).apply(typeof tv<"u"?tv:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G0,El,K0,Dc,Yd,Q0,Y0,X0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,y){return u==Array.prototype||u==Object.prototype||(u[g]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var g=0;g<u.length;++g){var y=u[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,g){if(g)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in y))break t;y=y[P]}u=u[u.length-1],T=y[u],g=g(T),g!=T&&g!=null&&t(y,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var y=0,T=!1,P={next:function(){if(!T&&y<u.length){var q=y++;return{value:g(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}l("Array.prototype.values",function(u){return u||function(){return c(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function _(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function S(u,g,y){return u.call.apply(u.bind,arguments)}function I(u,g,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(g,P)}}return function(){return u.apply(g,arguments)}}function D(u,g,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:I,D.apply(null,arguments)}function F(u,g){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,g){function y(){}y.prototype=g.prototype,u.aa=g.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,P,q){for(var et=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)et[zt-2]=arguments[zt];return g.prototype[P].apply(T,et)}}function rt(u){const g=u.length;if(0<g){const y=Array(g);for(let T=0;T<g;T++)y[T]=u[T];return y}return[]}function W(u,g){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const P=u.length||0,q=T.length||0;u.length=P+q;for(let et=0;et<q;et++)u[P+et]=T[et]}else u.push(T)}}class At{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function dt(u){return/^[\s\xa0]*$/.test(u)}function ht(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function Ot(u){return Ot[" "](u),u}Ot[" "]=function(){};var Et=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function It(u,g,y){for(const T in u)g.call(y,u[T],T,u)}function N(u,g){for(const y in u)g.call(void 0,u[y],y,u)}function b(u){const g={};for(const y in u)g[y]=u[y];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,g){let y,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(y in T)u[y]=T[y];for(let q=0;q<w.length;q++)y=w[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function V(u){var g=1;u=u.split(":");const y=[];for(;0<g&&u.length;)y.push(u.shift()),g--;return u.length&&y.push(u.join(":")),y}function M(u){m.setTimeout(()=>{throw u},0)}function R(){var u=Ut;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class me{constructor(){this.h=this.g=null}add(g,y){const T=re.get();T.set(g,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new At(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,lt=!1,Ut=new me,C=()=>{const u=m.Promise.resolve(void 0);nt=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){M(y)}var g=re;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}lt=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};m.addEventListener("test",y,g),m.removeEventListener("test",y,g)}catch{}return u}();function Tt(u,g){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(Et){t:{try{Ot(g.nodeName);var P=!0;break t}catch{}P=!1}P||(g=null)}}else y=="mouseover"?g=u.fromElement:y=="mouseout"&&(g=u.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Tt.aa.h.call(this)}}Z(Tt,J);var mt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function In(u,g,y,T,P){this.listener=u,this.proxy=null,this.src=g,this.type=y,this.capture=!!T,this.ha=P,this.key=++Gt,this.da=this.fa=!1}function $e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function sn(u){this.src=u,this.g={},this.h=0}sn.prototype.add=function(u,g,y,T,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=bi(u,g,T,P);return-1<et?(g=u[et],y||(g.fa=!1)):(g=new In(g,this.src,q,!!T,P),g.fa=y,u.push(g)),g};function Si(u,g){var y=g.type;if(y in u.g){var T=u.g[y],P=Array.prototype.indexOf.call(T,g,void 0),q;(q=0<=P)&&Array.prototype.splice.call(T,P,1),q&&($e(g),u.g[y].length==0&&(delete u.g[y],u.h--))}}function bi(u,g,y,T){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==g&&q.capture==!!y&&q.ha==T)return P}return-1}var Ai="closure_lm_"+(1e6*Math.random()|0),ir={};function Ks(u,g,y,T,P){if(Array.isArray(g)){for(var q=0;q<g.length;q++)Ks(u,g[q],y,T,P);return null}return y=yn(y),u&&u[Ee]?u.K(g,y,_(T)?!!T.capture:!1,P):hn(u,g,y,!1,T,P)}function hn(u,g,y,T,P,q){if(!g)throw Error("Invalid event type");var et=_(P)?!!P.capture:!!P,zt=Kt(u);if(zt||(u[Ai]=zt=new sn(u)),y=zt.add(g,y,T,et,q),y.proxy)return y;if(T=uo(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ft||(P=et),P===void 0&&(P=!1),u.addEventListener(g.toString(),T,P);else if(u.attachEvent)u.attachEvent(ut(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function uo(){function u(y){return g.call(u.src,u.listener,y)}const g=xt;return u}function es(u,g,y,T,P){if(Array.isArray(g))for(var q=0;q<g.length;q++)es(u,g[q],y,T,P);else T=_(T)?!!T.capture:!!T,y=yn(y),u&&u[Ee]?(u=u.i,g=String(g).toString(),g in u.g&&(q=u.g[g],y=bi(q,y,T,P),-1<y&&($e(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[g],u.h--)))):u&&(u=Kt(u))&&(g=u.g[g.toString()],u=-1,g&&(u=bi(g,y,T,P)),(y=-1<u?g[u]:null)&&tt(y))}function tt(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ee])Si(g.i,u);else{var y=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(y,T,u.capture):g.detachEvent?g.detachEvent(ut(y),T):g.addListener&&g.removeListener&&g.removeListener(T),(y=Kt(g))?(Si(y,u),y.h==0&&(y.src=null,g[Ai]=null)):$e(u)}}}function ut(u){return u in ir?ir[u]:ir[u]="on"+u}function xt(u,g){if(u.da)u=!0;else{g=new Tt(g,this);var y=u.listener,T=u.ha||u.src;u.fa&&tt(u),u=y.call(T,g)}return u}function Kt(u){return u=u[Ai],u instanceof sn?u:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(u){return typeof u=="function"?u:(u[fe]||(u[fe]=function(g){return u.handleEvent(g)}),u[fe])}function Wt(){it.call(this),this.i=new sn(this),this.M=this,this.F=null}Z(Wt,it),Wt.prototype[Ee]=!0,Wt.prototype.removeEventListener=function(u,g,y,T){es(this,u,g,y,T)};function Nt(u,g){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new J(g,u);else if(g instanceof J)g.target=g.target||u;else{var P=g;g=new J(T,u),x(g,P)}if(P=!0,y)for(var q=y.length-1;0<=q;q--){var et=g.g=y[q];P=an(et,T,!0,g)&&P}if(et=g.g=u,P=an(et,T,!0,g)&&P,P=an(et,T,!1,g)&&P,y)for(q=0;q<y.length;q++)et=g.g=y[q],P=an(et,T,!1,g)&&P}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var y=u.g[g],T=0;T<y.length;T++)$e(y[T]);delete u.g[g],u.h--}}this.F=null},Wt.prototype.K=function(u,g,y,T){return this.i.add(String(u),g,!1,y,T)},Wt.prototype.L=function(u,g,y,T){return this.i.add(String(u),g,!0,y,T)};function an(u,g,y,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,q=0;q<g.length;++q){var et=g[q];if(et&&!et.da&&et.capture==y){var zt=et.listener,Ce=et.ha||et.src;et.fa&&Si(u.i,et),P=zt.call(Ce,T)!==!1&&P}}return P&&!T.defaultPrevented}function Ze(u,g,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Xl(u){u.g=Ze(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class bh extends it{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){it.call(this),this.h=u,this.g={}}Z(ns,it);var is=[];function rs(u){It(u.g,function(g,y){this.g.hasOwnProperty(y)&&tt(g)},u),u.g={}}ns.prototype.N=function(){ns.aa.N.call(this),rs(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=m.JSON.stringify,Qs=m.JSON.parse,ss=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function co(){}co.prototype.h=null;function ho(u){return u.h||(u.h=u.i())}function fo(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){J.call(this,"d")}Z(Ri,J);function go(){J.call(this,"c")}Z(go,J);var Zn={},mo=null;function rr(){return mo=mo||new Wt}Zn.La="serverreachability";function Ys(u){J.call(this,Zn.La,u)}Z(Ys,J);function sr(u){const g=rr();Nt(g,new Ys(g))}Zn.STAT_EVENT="statevent";function $l(u,g){J.call(this,Zn.STAT_EVENT,u),this.stat=g}Z($l,J);function le(u){const g=rr();Nt(g,new $l(g,u))}Zn.Ma="timingevent";function Ie(u,g){J.call(this,Zn.Ma,u),this.size=g}Z(Ie,J);function Te(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function po(u,g,y,T,P,q){u.info(function(){if(u.g)if(q)for(var et="",zt=q.split("&"),Ce=0;Ce<zt.length;Ce++){var jt=zt[Ce].split("=");if(1<jt.length){var ke=jt[0];jt=jt[1];var De=ke.split("_");et=2<=De.length&&De[1]=="type"?et+(ke+"="+jt+"&"):et+(ke+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+g+`
`+y+`
`+et})}function Ah(u,g,y,T,P,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+g+`
`+y+`
`+q+" "+et})}function ar(u,g,y,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+as(u,y)+(T?" "+T:"")})}function Zl(u,g){u.info(function(){return"TIMEOUT: "+g})}Cn.prototype.info=function(){};function as(u,g){if(!u.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<P.length;et++)P[et]=""}}}}return Bn(y)}catch{return g}}var or={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Jn(){}Z(Jn,co),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Wn=new Jn;function on(u,g,y,T){this.j=u,this.i=g,this.l=y,this.R=T||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var yo={},Xs={};function qn(u,g,y){u.L=1,u.v=hs(_n(g)),u.m=y,u.P=!0,Ci(u,null)}function Ci(u,g){u.F=Date.now(),os(u),u.A=_n(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),bo(y.i,"t",T),u.C=0,y=u.j.J,u.h=new pe,u.g=du(u.j,y?g:null,!u.m),0<u.O&&(u.M=new bh(D(u.Y,u,u.g),u.O)),g=u.U,y=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(is[0]=P.toString()),P=is);for(var q=0;q<P.length;q++){var et=Ks(y,P[q],T||g.handleEvent,!1,g.h||g);if(!et)break;g.g[et.key]=et}g=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),sr(),po(u.i,u.u,u.A,u.l,u.R,u.m)}on.prototype.ca=function(u){u=u.target;const g=this.M;g&&Nn(u)==3?g.j():this.Y(u)},on.prototype.Y=function(u){try{if(u==this.g)t:{const De=Nn(this.g);var g=this.g.Ba();const Pi=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||su(this.g)))){this.J||De!=4||g==7||(g==8||0>=Pi?sr(3):sr(2)),lr(this);var y=this.g.Z();this.X=y;e:if(Wl(this)){var T=su(this.g);u="";var P=T.length,q=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Be(this),ti(this);var et="";break e}this.h.i=new m.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,u+=this.h.i.decode(T[g],{stream:!(q&&g==P-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=y==200,Ah(this.i,this.u,this.A,this.l,this.R,De,y),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Ce=this.g;if((zt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(zt)){var jt=zt;break e}}jt=null}if(y=jt)ar(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ls(this,y);else{this.o=!1,this.s=3,le(12),Be(this),ti(this);break t}}if(this.P){y=!0;let qe;for(;!this.J&&this.C<et.length;)if(qe=Jl(this,et),qe==Xs){De==4&&(this.s=4,le(14),y=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==yo){this.s=4,le(15),ar(this.i,this.l,et,"[Invalid Chunk]"),y=!1;break}else ar(this.i,this.l,qe,null),ls(this,qe);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||et.length!=0||this.h.h||(this.s=1,le(16),y=!1),this.o=this.o&&y,!y)ar(this.i,this.l,et,"[Invalid Chunked Response]"),Be(this),ti(this);else if(0<et.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),vs(ke),ke.M=!0,le(11))}}else ar(this.i,this.l,et,null),ls(this,et);De==4&&Be(this),this.o&&!this.J&&(De==4?cu(this.j,this):(this.o=!1,os(this)))}else Dh(this.g),y==400&&0<et.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Be(this),ti(this)}}}catch{}finally{}};function Wl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Jl(u,g){var y=u.C,T=g.indexOf(`
`,y);return T==-1?Xs:(y=Number(g.substring(y,T)),isNaN(y)?yo:(T+=1,T+y>g.length?Xs:(g=g.slice(T,T+y),u.C=T+y,g)))}on.prototype.cancel=function(){this.J=!0,Be(this)};function os(u){u.S=Date.now()+u.I,tu(u,u.I)}function tu(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Te(D(u.ba,u),g)}function lr(u){u.B&&(m.clearTimeout(u.B),u.B=null)}on.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Zl(this.i,this.A),this.L!=2&&(sr(),le(17)),Be(this),this.s=2,ti(this)):tu(this,this.S-u)};function ti(u){u.j.G==0||u.J||cu(u.j,u)}function Be(u){lr(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,rs(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ls(u,g){try{var y=u.j;if(y.G!=0&&(y.g==u||_o(y.h,u))){if(!u.K&&_o(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)oa(y),sa(y);else break t;Co(y),le(18)}}else y.za=P[1],0<y.za-y.T&&37500>P[2]&&y.F&&y.v==0&&!y.C&&(y.C=Te(D(y.Za,y),6e3));if(1>=Zs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ki(y,11)}else if((u.K||y.g==u)&&oa(y),!dt(g))for(P=y.Da.g.parse(g),g=0;g<P.length;g++){let jt=P[g];if(y.T=jt[0],jt=jt[1],y.G==2)if(jt[0]=="c"){y.K=jt[1],y.ia=jt[2];const ke=jt[3];ke!=null&&(y.la=ke,y.j.info("VER="+y.la));const De=jt[4];De!=null&&(y.Aa=De,y.j.info("SVER="+y.Aa));const Pi=jt[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(T=1.5*Pi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const qe=u.g;if(qe){const oi=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var q=T.h;q.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ws(q,q.h),q.h=null))}if(T.D){const Oo=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(T.ya=Oo,Jt(T.I,T.D,Oo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var et=u;if(T.qa=fu(T,T.J?T.ia:null,T.W),et.K){ln(T.h,et);var zt=et,Ce=T.L;Ce&&(zt.I=Ce),zt.B&&(lr(zt),os(zt)),T.g=et}else lu(T);0<y.i.length&&aa(y)}else jt[0]!="stop"&&jt[0]!="close"||ki(y,7);else y.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?ki(y,7):Ro(y):jt[0]!="noop"&&y.l&&y.l.ta(jt),y.v=0)}}sr(4)}catch{}}var eu=class{constructor(u,g){this.g=u,this.map=g}};function Di(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $s(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Zs(u){return u.h?1:u.g?u.g.size:0}function _o(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Ws(u,g){u.g?u.g.add(g):u.h=g}function ln(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Di.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const y of u.g.values())g=g.concat(y.D);return g}return rt(u.i)}function wh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],y=u.length,T=0;T<y;T++)g.push(u[T]);return g}g=[],y=0;for(T in u)g[y++]=u[T];return g}function Js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var y=0;y<u;y++)g.push(y);return g}g=[],y=0;for(const T in u)g[y++]=T;return g}}}function Eo(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var y=Js(u),T=wh(u),P=T.length,q=0;q<P;q++)g.call(void 0,T[q],y&&y[q],u)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rh(u,g){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),P=null;if(0<=T){var q=u[y].substring(0,T);P=u[y].substring(T+1)}else q=u[y];g(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Se(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Se){this.h=u.h,cs(this,u.j),this.o=u.o,this.g=u.g,ur(this,u.s),this.l=u.l;var g=u.i,y=new xi;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),Oi(this,y),this.m=u.m}else u&&(g=String(u).match(us))?(this.h=!1,cs(this,g[1]||"",!0),this.o=Dn(g[2]||""),this.g=Dn(g[3]||"",!0),ur(this,g[4]),this.l=Dn(g[5]||"",!0),Oi(this,g[6]||"",!0),this.m=Dn(g[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}Se.prototype.toString=function(){var u=[],g=this.j;g&&u.push(fs(g,To,!0),":");var y=this.g;return(y||g=="file")&&(u.push("//"),(g=this.o)&&u.push(fs(g,To,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(fs(y,y.charAt(0)=="/"?Ih:So,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",fs(y,ta)),u.join("")};function _n(u){return new Se(u)}function cs(u,g,y){u.j=y?Dn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ur(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Oi(u,g,y){g instanceof xi?(u.i=g,iu(u.i,u.h)):(y||(g=fs(g,Ch)),u.i=new xi(g,u.h))}function Jt(u,g,y){u.i.set(g,y)}function hs(u){return Jt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Dn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fs(u,g,y){return typeof u=="string"?(u=encodeURI(u).replace(g,nu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var To=/[#\/\?@]/g,So=/[#\?:]/g,Ih=/[#\?]/g,Ch=/[#\?@]/g,ta=/#/g;function xi(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function On(u){u.g||(u.g=new Map,u.h=0,u.i&&Rh(u.i,function(g,y){u.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}r=xi.prototype,r.add=function(u,g){On(this),this.i=null,u=ei(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(g),this.h+=1,this};function Ni(u,g){On(u),g=ei(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Vi(u,g){return On(u),g=ei(u,g),u.g.has(g)}r.forEach=function(u,g){On(this),this.g.forEach(function(y,T){y.forEach(function(P){u.call(g,P,T,this)},this)},this)},r.na=function(){On(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let T=0;T<g.length;T++){const P=u[T];for(let q=0;q<P.length;q++)y.push(g[T])}return y},r.V=function(u){On(this);let g=[];if(typeof u=="string")Vi(this,u)&&(g=g.concat(this.g.get(ei(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)g=g.concat(u[y])}return g},r.set=function(u,g){return On(this),this.i=null,u=ei(this,u),Vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function bo(u,g,y){Ni(u,g),0<y.length&&(u.i=null,u.g.set(ei(u,g),rt(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var T=g[y];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var P=q;et[T]!==""&&(P+="="+encodeURIComponent(String(et[T]))),u.push(P)}}return this.i=u.join("&")};function ei(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function iu(u,g){g&&!u.j&&(On(u),u.i=null,u.g.forEach(function(y,T){var P=T.toLowerCase();T!=P&&(Ni(this,T),bo(this,P,y))},u)),u.j=g}function ds(u,g){const y=new Cn;if(m.Image){const T=new Image;T.onload=F(xn,y,"TestLoadImage: loaded",!0,g,T),T.onerror=F(xn,y,"TestLoadImage: error",!1,g,T),T.onabort=F(xn,y,"TestLoadImage: abort",!1,g,T),T.ontimeout=F(xn,y,"TestLoadImage: timeout",!1,g,T),m.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function Hn(u,g){const y=new Cn,T=new AbortController,P=setTimeout(()=>{T.abort(),xn(y,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?xn(y,"TestPingServer: ok",!0,g):xn(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),xn(y,"TestPingServer: error",!1,g)})}function xn(u,g,y,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(y)}catch{}}function gs(){this.g=new ss}function ni(u,g,y){const T=y||"";try{Eo(u,function(P,q){let et=P;_(P)&&(et=Bn(P)),g.push(T+q+"="+encodeURIComponent(et))})}catch(P){throw g.push(T+"type="+encodeURIComponent("_badmap")),P}}function cr(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(cr,co),cr.prototype.g=function(){return new Mi(this.l,this.j)},cr.prototype.i=function(u){return function(){return u}}({});function Mi(u,g){Wt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Mi,Wt),r=Mi.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,ri(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ao(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ao(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ii(this):ri(this),this.readyState==3&&Ao(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,ii(this))},r.Qa=function(u){this.g&&(this.response=u,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ri(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=g.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wo(u){let g="";return It(u,function(y,T){g+=T,g+=":",g+=y,g+=`\r
`}),g}function Me(u,g,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=wo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Jt(u,g,y))}function Qt(u){Wt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Qt,Wt);var ea=/^https?$/i,ms=["POST","PUT"];r=Qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?ho(this.o):ho(Wn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(q){ru(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)y.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),P=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ms,g,void 0))||T||P||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of y)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){ru(this,q)}};function ru(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,na(u),si(u)}function na(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Nt(this,"complete"),Nt(this,"abort"),si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},r.bb=function(){ia(this)};function ia(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Nn(u)!=4||u.Z()!=2)){if(u.u&&Nn(u)==4)Ze(u.Ea,0,u);else if(Nt(u,"readystatechange"),Nn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var y;if(!(y=g)){var T;if(T=et===0){var P=String(u.D).match(us)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),T=!ea.test(P?P.toLowerCase():"")}y=T}if(y)Nt(u,"complete"),Nt(u,"success");else{u.m=6;try{var q=2<Nn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",na(u)}}finally{si(u)}}}}function si(u,g){if(u.g){ps(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Nt(u,"ready");try{y.onreadystatechange=T}catch{}}}function ps(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Nn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Qs(g)}};function su(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Dh(u){const g={};u=(u.g&&2<=Nn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var y=V(u[T]);const P=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=g[P]||[];g[P]=q,q.push(y)}N(g,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(u,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||g}function ra(u){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ys("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ys("baseRetryDelayMs",5e3,u),this.cb=ys("retryDelaySeedMs",1e4,u),this.Wa=ys("forwardChannelMaxRetries",2,u),this.wa=ys("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(u&&u.concurrentRequestLimit),this.Da=new gs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ra.prototype,r.la=8,r.G=1,r.connect=function(u,g,y,T){le(0),this.W=u,this.H=g||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=fu(this,null,this.W),aa(this)};function Ro(u){if(au(u),u.G==3){var g=u.U++,y=_n(u.I);if(Jt(y,"SID",u.K),Jt(y,"RID",g),Jt(y,"TYPE","terminate"),_s(u,y),g=new on(u,u.j,g),g.L=2,g.v=hs(_n(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=g.v,y=!0),y||(g.g=du(g.j,null),g.g.ea(g.v)),g.F=Date.now(),os(g)}hu(u)}function sa(u){u.g&&(vs(u),u.g.cancel(),u.g=null)}function au(u){sa(u),u.u&&(m.clearTimeout(u.u),u.u=null),oa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function aa(u){if(!$s(u.h)&&!u.s){u.s=!0;var g=u.Ga;nt||C(),lt||(nt(),lt=!0),Ut.add(g,u),u.B=0}}function Oh(u,g){return Zs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Te(D(u.Ga,u,g),Do(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new on(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),x(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var g=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=y;break t}if(g===4096||y===this.i.length-1){g=y+1;break t}}g=1e3}else g=1e3;g=ou(this,P,g),y=_n(this.I),Jt(y,"RID",u),Jt(y,"CVER",22),this.D&&Jt(y,"X-HTTP-Session-Id",this.D),_s(this,y),q&&(this.O?g="headers="+encodeURIComponent(String(wo(q)))+"&"+g:this.m&&Me(y,this.m,q)),Ws(this.h,P),this.Ua&&Jt(y,"TYPE","init"),this.P?(Jt(y,"$req",g),Jt(y,"SID","null"),P.T=!0,qn(P,y,null)):qn(P,y,g),this.G=2}}else this.G==3&&(u?Io(this,u):this.i.length==0||$s(this.h)||Io(this))};function Io(u,g){var y;g?y=g.l:y=u.U++;const T=_n(u.I);Jt(T,"SID",u.K),Jt(T,"RID",y),Jt(T,"AID",u.T),_s(u,T),u.m&&u.o&&Me(T,u.m,u.o),y=new on(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ou(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ws(u.h,y),qn(y,T,g)}function _s(u,g){u.H&&It(u.H,function(y,T){Jt(g,T,y)}),u.l&&Eo({},function(y,T){Jt(g,T,y)})}function ou(u,g,y){y=Math.min(u.i.length,y);var T=u.l?D(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const et=["count="+y];q==-1?0<y?(q=P[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let zt=!0;for(let Ce=0;Ce<y;Ce++){let jt=P[Ce].g;const ke=P[Ce].map;if(jt-=q,0>jt)q=Math.max(0,P[Ce].g-100),zt=!1;else try{ni(ke,et,"req"+jt+"_")}catch{T&&T(ke)}}if(zt){T=et.join("&");break t}}}return u=u.i.splice(0,y),g.D=u,T}function lu(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;nt||C(),lt||(nt(),lt=!0),Ut.add(g,u),u.v=0}}function Co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Te(D(u.Fa,u),Do(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Te(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),sa(this),uu(this))};function vs(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function uu(u){u.g=new on(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=_n(u.qa);Jt(g,"RID","rpc"),Jt(g,"SID",u.K),Jt(g,"AID",u.T),Jt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Jt(g,"TO",u.ja),Jt(g,"TYPE","xmlhttp"),_s(u,g),u.m&&u.o&&Me(g,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=hs(_n(g)),y.m=null,y.P=!0,Ci(y,u)}r.Za=function(){this.C!=null&&(this.C=null,sa(this),Co(this),le(19))};function oa(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function cu(u,g){var y=null;if(u.g==g){oa(u),vs(u),u.g=null;var T=2}else if(_o(u.h,g))y=g.D,ln(u.h,g),T=1;else return;if(u.G!=0){if(g.o)if(T==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var P=u.B;T=rr(),Nt(T,new Ie(T,y)),aa(u)}else lu(u);else if(P=g.s,P==3||P==0&&0<g.X||!(T==1&&Oh(u,g)||T==2&&Co(u)))switch(y&&0<y.length&&(g=u.h,g.i=g.i.concat(y)),P){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Do(u,g){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*g}function ki(u,g){if(u.j.info("Error code "+g),g==2){var y=D(u.fb,u),T=u.Xa;const P=!T;T=new Se(T||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||cs(T,"https"),hs(T),P?ds(T.toString(),y):Hn(T.toString(),y)}else le(2);u.G=0,u.l&&u.l.sa(g),hu(u),au(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function hu(u){if(u.G=0,u.ka=[],u.l){const g=vo(u.h);(g.length!=0||u.i.length!=0)&&(W(u.ka,g),W(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function fu(u,g,y){var T=y instanceof Se?_n(y):new Se(y);if(T.g!="")g&&(T.g=g+"."+T.g),ur(T,T.s);else{var P=m.location;T=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var q=new Se(null);T&&cs(q,T),g&&(q.g=g),P&&ur(q,P),y&&(q.l=y),T=q}return y=u.D,g=u.ya,y&&g&&Jt(T,y,g),Jt(T,"VER",u.la),_s(u,T),T}function du(u,g,y){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Qt(new cr({eb:y})):new Qt(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function la(){}la.prototype.g=function(u,g){return new un(u,g)};function un(u,g){Wt.call(this),this.g=new ra(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!dt(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!dt(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ai(this)}Z(un,Wt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Ro(this.g)},un.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Bn(u),u=y);g.i.push(new eu(g.Ya++,u)),g.G==3&&aa(g)},un.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,un.aa.N.call(this)};function mu(u){Ri.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const y in g){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}Z(mu,Ri);function pu(){go.call(this),this.status=1}Z(pu,go);function ai(u){this.g=u}Z(ai,gu),ai.prototype.ua=function(){Nt(this.g,"a")},ai.prototype.ta=function(u){Nt(this.g,new mu(u))},ai.prototype.sa=function(u){Nt(this.g,new pu)},ai.prototype.ra=function(){Nt(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,X0=function(){return new la},Y0=function(){return rr()},Q0=Zn,Yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Dc=or,Ii.COMPLETE="complete",K0=Ii,fo.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,El=fo,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,G0=Qt}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore",nv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new gg("@firebase/firestore");function La(){return js.logLevel}function st(r,...t){if(js.logLevel<=Pt.DEBUG){const n=t.map(Rg);js.debug(`Firestore (${so}): ${r}`,...n)}}function tr(r,...t){if(js.logLevel<=Pt.ERROR){const n=t.map(Rg);js.error(`Firestore (${so}): ${r}`,...n)}}function Gr(r,...t){if(js.logLevel<=Pt.WARN){const n=t.map(Rg);js.warn(`Firestore (${so}): ${r}`,...n)}}function Rg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,$0(r,s,n)}function $0(r,t,n){let s=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tr(s),new Error(s)}function Yt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||$0(t,l,s)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends nr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ww{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class Jw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tR{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new Z0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class eR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new eR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=rR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function Xd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Dt(s,l);{const c=W0(),d=sR(c.encode(rv(r,n)),c.encode(rv(t,n)));return d!==0?d:Dt(s,l)}}n+=s>65535?2:1}return Dt(r.length,t.length)}function rv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function sR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Dt(r[n],t[n]);return Dt(r.length,t.length)}function $a(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="__name__";class di{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=di.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Dt(t.length,n.length)}static compareSegments(t,n){const s=di.isNumericId(t),l=di.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?di.extractNumericId(t).compare(di.extractNumericId(n)):Xd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qr.fromString(t.substring(4,t.length-2))}}class ae extends di{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const aR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends di{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return aR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sv}static keyField(){return new Qe([sv])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else m==="`"?(d=!d,l++):m!=="."||d?(s+=m,l++):(c(),l++)}if(c(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ae.fromString(t))}static fromName(t){return new gt(ae.fromString(t).popFirst(5))}static empty(){return new gt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(r,t,n){if(!n)throw new ot($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function oR(r,t,n,s){if(t===!0&&s===!0)throw new ot($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function av(r){if(!gt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ov(r){if(gt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function tE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Cg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Bs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cg(r);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,t){const n={typeString:r};return t&&(n.value=t),n}function Hl(r,t){if(!tE(r))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ot($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=-62135596800,uv=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*uv);return new oe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<lv)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-lv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Re("string",oe._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new oe(0,0))}static max(){return new bt(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function lR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(s===1e9?new oe(n+1,0):new oe(n,s));return new Kr(l,gt.empty(),t)}function uR(r){return new Kr(r.readTime,r.key,Nl)}class Kr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(bt.min(),gt.empty(),Nl)}static max(){return new Kr(bt.max(),gt.empty(),Nl)}}function cR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(r.documentKey,t.documentKey),n!==0?n:Dt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==hR)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Y((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.reject(n)}static resolve(t){return new Y((n,s)=>{n(t)})}static reject(t){return new Y((n,s)=>{s(t)})}static waitFor(t){return new Y((n,s)=>{let l=0,c=0,d=!1;t.forEach(m=>{++l,m.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(t){let n=Y.resolve(!1);for(const s of t)n=n.next(l=>l?Y.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new Y((s,l)=>{const c=t.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(S=>{d[_]=S,++m,m===c&&s(d)},S=>l(S))}})}static doWhile(t,n){return new Y((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function dR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}ah.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=-1;function oh(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function gR(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="";function mR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=cv(t)),t=pR(r.get(n),t);return cv(t)}function pR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case eE:n+="";break;default:n+=c}}return n}function cv(r){return r+eE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Jr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function nE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vc(this.root,t,this.comparator,!0)}}class vc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Ke.RED,this.left=l??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Ke(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(t){return new fv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class fv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Rn([])}unionWith(t){let n=new Ve(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Rn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new iE("Invalid base64 string: "+c):c}}(t);return new Xe(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const yR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const n=yR.exec(r);if(Yt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yr(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="server_timestamp",sE="__type__",aE="__previous_value__",oE="__local_write_time__";function Og(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[sE])===null||n===void 0?void 0:n.stringValue)===rE}function lh(r){const t=r.mapValue.fields[aE];return Og(t)?lh(t):t}function Vl(r){const t=Qr(r.mapValue.fields[oE].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,n,s,l,c,d,m,p,_,S){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=S}}const Fc="(default)";class Ml{constructor(t,n){this.projectId=t,this.database=n||Fc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__type__",vR="__max__",Ec={mapValue:{}},uE="__vector__",Gc="value";function Xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Og(r)?4:TR(r)?9007199254740991:ER(r)?10:11:vt(28295,{value:r})}function Ei(r,t){if(r===t)return!0;const n=Xr(r);if(n!==Xr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Qr(l.timestampValue),m=Qr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Yr(l.bytesValue).isEqual(Yr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return ve(l.geoPointValue.latitude)===ve(c.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ve(l.integerValue)===ve(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ve(l.doubleValue),m=ve(c.doubleValue);return d===m?Hc(d)===Hc(m):isNaN(d)&&isNaN(m)}return!1}(r,t);case 9:return $a(r.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},m=c.mapValue.fields||{};if(hv(d)!==hv(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!Ei(d[p],m[p])))return!1;return!0}(r,t);default:return vt(52216,{left:r})}}function kl(r,t){return(r.values||[]).find(n=>Ei(n,t))!==void 0}function Za(r,t){if(r===t)return 0;const n=Xr(r),s=Xr(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const m=ve(c.integerValue||c.doubleValue),p=ve(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return dv(r.timestampValue,t.timestampValue);case 4:return dv(Vl(r),Vl(t));case 5:return Xd(r.stringValue,t.stringValue);case 6:return function(c,d){const m=Yr(c),p=Yr(d);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let _=0;_<m.length&&_<p.length;_++){const S=Dt(m[_],p[_]);if(S!==0)return S}return Dt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const m=Dt(ve(c.latitude),ve(d.latitude));return m!==0?m:Dt(ve(c.longitude),ve(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return gv(r.arrayValue,t.arrayValue);case 10:return function(c,d){var m,p,_,S;const I=c.fields||{},D=d.fields||{},F=(m=I[Gc])===null||m===void 0?void 0:m.arrayValue,Z=(p=D[Gc])===null||p===void 0?void 0:p.arrayValue,rt=Dt(((_=F==null?void 0:F.values)===null||_===void 0?void 0:_.length)||0,((S=Z==null?void 0:Z.values)===null||S===void 0?void 0:S.length)||0);return rt!==0?rt:gv(F,Z)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===Ec.mapValue&&d===Ec.mapValue)return 0;if(c===Ec.mapValue)return 1;if(d===Ec.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),_=d.fields||{},S=Object.keys(_);p.sort(),S.sort();for(let I=0;I<p.length&&I<S.length;++I){const D=Xd(p[I],S[I]);if(D!==0)return D;const F=Za(m[p[I]],_[S[I]]);if(F!==0)return F}return Dt(p.length,S.length)}(r.mapValue,t.mapValue);default:throw vt(23264,{le:n})}}function dv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const n=Qr(r),s=Qr(t),l=Dt(n.seconds,s.seconds);return l!==0?l:Dt(n.nanos,s.nanos)}function gv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Za(n[l],s[l]);if(c)return c}return Dt(n.length,s.length)}function Wa(r){return $d(r)}function $d(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Yr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return gt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=$d(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${$d(n.fields[d])}`;return l+"}"}(r.mapValue):vt(61005,{value:r})}function Oc(r){switch(Xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(r);return t?16+Oc(t):16;case 5:return 2*r.stringValue.length;case 6:return Yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Oc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Jr(s.fields,(c,d)=>{l+=c.length+Oc(d)}),l}(r.mapValue);default:throw vt(13486,{value:r})}}function Zd(r){return!!r&&"integerValue"in r}function xg(r){return!!r&&"arrayValue"in r}function mv(r){return!!r&&"nullValue"in r}function pv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xc(r){return!!r&&"mapValue"in r}function ER(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[lE])===null||n===void 0?void 0:n.stringValue)===uE}function wl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Jr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=wl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function TR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!xc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(n)}setAll(t){let n=Qe.emptyPath(),s={},l=[];t.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=m.popLast()}d?s[m.lastSegment()]=wl(d):l.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Jr(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new pn(wl(this.value))}}function cE(r){const t=[];return Jr(r.fields,(n,s)=>{const l=new Qe([n]);if(xc(s)){const c=cE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Rn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,n,s,l,c,d,m){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(t){return new nn(t,0,bt.min(),bt.min(),bt.min(),pn.empty(),0)}static newFoundDocument(t,n,s,l){return new nn(t,1,n,bt.min(),s,l,0)}static newNoDocument(t,n){return new nn(t,2,n,bt.min(),bt.min(),pn.empty(),0)}static newUnknownDocument(t,n){return new nn(t,3,n,bt.min(),bt.min(),pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n){this.position=t,this.inclusive=n}}function yv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),n.key):s=Za(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function _v(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ei(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n="asc"){this.field=t,this.dir=n}}function SR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{}class Ne extends hE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new AR(t,n,s):n==="array-contains"?new IR(t,s):n==="in"?new CR(t,s):n==="not-in"?new DR(t,s):n==="array-contains-any"?new OR(t,s):new Ne(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new wR(t,s):new RR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Za(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends hE{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Ti(t,n)}matches(t){return fE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function fE(r){return r.op==="and"}function dE(r){return bR(r)&&fE(r)}function bR(r){for(const t of r.filters)if(t instanceof Ti)return!1;return!0}function Wd(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(dE(r))return r.filters.map(t=>Wd(t)).join(",");{const t=r.filters.map(n=>Wd(n)).join(",");return`${r.op}(${t})`}}function gE(r,t){return r instanceof Ne?function(s,l){return l instanceof Ne&&s.op===l.op&&s.field.isEqual(l.field)&&Ei(s.value,l.value)}(r,t):r instanceof Ti?function(s,l){return l instanceof Ti&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,m)=>c&&gE(d,l.filters[m]),!0):!1}(r,t):void vt(19439)}function mE(r){return r instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(r):r instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(mE).join(" ,")+"}"}(r):"Filter"}class AR extends Ne{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class wR extends Ne{constructor(t,n){super(t,"in",n),this.keys=pE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class RR extends Ne{constructor(t,n){super(t,"not-in",n),this.keys=pE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function pE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>gt.fromName(s.referenceValue))}class IR extends Ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xg(n)&&kl(n.arrayValue,this.value)}}class CR extends Ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class DR extends Ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kl(this.value.arrayValue,n)}}class OR extends Ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>kl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,n=null,s=[],l=[],c=null,d=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=m,this.Pe=null}}function vv(r,t=null,n=[],s=[],l=null,c=null,d=null){return new xR(r,t,n,s,l,c,d)}function Ng(r){const t=wt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Wd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),oh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Wa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Wa(s)).join(",")),t.Pe=n}return t.Pe}function Vg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!SR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!gE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!_v(r.startAt,t.startAt)&&_v(r.endAt,t.endAt)}function Jd(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n=null,s=[],l=[],c=null,d="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function NR(r,t,n,s,l,c,d,m){return new uh(r,t,n,s,l,c,d,m)}function yE(r){return new uh(r)}function Ev(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function VR(r){return r.collectionGroup!==null}function Rl(r){const t=wt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Ve(Qe.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Te.push(new Qc(c,s))}),n.has(Qe.keyField().canonicalString())||t.Te.push(new Qc(Qe.keyField(),s))}return t.Te}function pi(r){const t=wt(r);return t.Ie||(t.Ie=MR(t,Rl(r))),t.Ie}function MR(r,t){if(r.limitType==="F")return vv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Qc(l.field,c)});const n=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return vv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function tg(r,t,n){return new uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function ch(r,t){return Vg(pi(r),pi(t))&&r.limitType===t.limitType}function _E(r){return`${Ng(pi(r))}|lt:${r.limitType}`}function Ua(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>mE(l)).join(", ")}]`),oh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Wa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Wa(l)).join(",")),`Target(${s})`}(pi(r))}; limitType=${r.limitType})`}function hh(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of Rl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,m,p){const _=yv(d,m,p);return d.inclusive?_<=0:_<0}(s.startAt,Rl(s),l)||s.endAt&&!function(d,m,p){const _=yv(d,m,p);return d.inclusive?_>=0:_>0}(s.endAt,Rl(s),l))}(r,t)}function kR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vE(r){return(t,n)=>{let s=!1;for(const l of Rl(r)){const c=PR(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function PR(r,t,n){const s=r.field.isKeyField()?gt.comparator(t.key,n.key):function(c,d,m){const p=d.data.field(c),_=m.data.field(c);return p!==null&&_!==null?Za(p,_):vt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Jr(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return nE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new he(gt.comparator);function er(){return LR}const EE=new he(gt.comparator);function Tl(...r){let t=EE;for(const n of r)t=t.insert(n.key,n);return t}function TE(r){let t=EE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ps(){return Il()}function SE(){return Il()}function Il(){return new Fs(r=>r.toString(),(r,t)=>r.isEqual(t))}const UR=new he(gt.comparator),zR=new Ve(gt.comparator);function Lt(...r){let t=zR;for(const n of r)t=t.add(n);return t}const jR=new Ve(Dt);function BR(){return jR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function bE(r){return{integerValue:""+r}}function qR(r,t){return gR(t)?bE(t):Mg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function HR(r,t,n){return r instanceof Yc?function(l,c){const d={fields:{[sE]:{stringValue:rE},[oE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Og(c)&&(c=lh(c)),c&&(d.fields[aE]=c),{mapValue:d}}(n,t):r instanceof Pl?wE(r,t):r instanceof Ll?RE(r,t):function(l,c){const d=AE(l,c),m=Tv(d)+Tv(l.Ee);return Zd(d)&&Zd(l.Ee)?bE(m):Mg(l.serializer,m)}(r,t)}function FR(r,t,n){return r instanceof Pl?wE(r,t):r instanceof Ll?RE(r,t):n}function AE(r,t){return r instanceof Xc?function(s){return Zd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Yc extends fh{}class Pl extends fh{constructor(t){super(),this.elements=t}}function wE(r,t){const n=IE(t);for(const s of r.elements)n.some(l=>Ei(l,s))||n.push(s);return{arrayValue:{values:n}}}class Ll extends fh{constructor(t){super(),this.elements=t}}function RE(r,t){let n=IE(t);for(const s of r.elements)n=n.filter(l=>!Ei(l,s));return{arrayValue:{values:n}}}class Xc extends fh{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function Tv(r){return ve(r.integerValue||r.doubleValue)}function IE(r){return xg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function GR(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Pl&&l instanceof Pl||s instanceof Ll&&l instanceof Ll?$a(s.elements,l.elements,Ei):s instanceof Xc&&l instanceof Xc?Ei(s.Ee,l.Ee):s instanceof Yc&&l instanceof Yc}(r.transform,t.transform)}class KR{constructor(t,n){this.version=t,this.transformResults=n}}class Xn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class dh{}function CE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new kg(r.key,Xn.none()):new Fl(r.key,r.data,Xn.none());{const n=r.data,s=pn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new ts(r.key,s,new Rn(l.toArray()),Xn.none())}}function QR(r,t,n){r instanceof Fl?function(l,c,d){const m=l.value.clone(),p=bv(l.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,t,n):r instanceof ts?function(l,c,d){if(!Nc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const m=bv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(DE(l)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function Cl(r,t,n,s){return r instanceof Fl?function(c,d,m,p){if(!Nc(c.precondition,d))return m;const _=c.value.clone(),S=Av(c.fieldTransforms,p,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof ts?function(c,d,m,p){if(!Nc(c.precondition,d))return m;const _=Av(c.fieldTransforms,p,d),S=d.data;return S.setAll(DE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,d,m){return Nc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,t,n)}function YR(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=AE(s.transform,l||null);c!=null&&(n===null&&(n=pn.empty()),n.set(s.field,c))}return n||null}function Sv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&$a(s,l,(c,d)=>GR(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends dh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ts extends dh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function bv(r,t,n){const s=new Map;Yt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,m=t.data.field(c.field);s.set(c.field,FR(d,m,n[l]))}return s}function Av(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,HR(c,d,t))}return s}class kg extends dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XR extends dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&QR(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Cl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=SE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(l.key)?null:m;const p=CE(d,m);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Lt())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,(n,s)=>Sv(n,s))&&$a(this.baseMutations,t.baseMutations,(n,s)=>Sv(n,s))}}class Pg{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Yt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let l=function(){return UR}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Pg(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,qt;function JR(r){switch(r){case $.OK:return vt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function OE(r){if(r===void 0)return tr("GRPC error has no .code"),$.UNKNOWN;switch(r){case we.OK:return $.OK;case we.CANCELLED:return $.CANCELLED;case we.UNKNOWN:return $.UNKNOWN;case we.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case we.INTERNAL:return $.INTERNAL;case we.UNAVAILABLE:return $.UNAVAILABLE;case we.UNAUTHENTICATED:return $.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case we.NOT_FOUND:return $.NOT_FOUND;case we.ALREADY_EXISTS:return $.ALREADY_EXISTS;case we.PERMISSION_DENIED:return $.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case we.ABORTED:return $.ABORTED;case we.OUT_OF_RANGE:return $.OUT_OF_RANGE;case we.UNIMPLEMENTED:return $.UNIMPLEMENTED;case we.DATA_LOSS:return $.DATA_LOSS;default:return vt(39323,{code:r})}}(qt=we||(we={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new qr([4294967295,4294967295],0);function wv(r){const t=W0().encode(r),n=new F0;return n.update(t),new Uint8Array(n.digest())}function Rv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new qr([n,s],0),new qr([l,c],0)]}class Lg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(s<0)throw new Sl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=qr.fromNumber(this.fe)}pe(t,n,s){let l=t.add(n.multiply(qr.fromNumber(s)));return l.compare(t2)===1&&(l=new qr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=wv(t),[s,l]=Rv(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,l,c);if(!this.ye(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Lg(c,l,n);return s.forEach(m=>d.insert(m)),d}insert(t){if(this.fe===0)return;const n=wv(t),[s,l]=Rv(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,l,c);this.we(d)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new gh(bt.min(),l,new he(Dt),er(),Lt())}}class Gl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Gl(s,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n,s,l){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=l}}class xE{constructor(t,n){this.targetId=t,this.De=n}}class NE{constructor(t,n,s=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Iv{constructor(){this.ve=0,this.Ce=Cv(),this.Fe=Xe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Lt(),n=Lt(),s=Lt();return this.Ce.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:vt(38017,{changeType:c})}}),new Gl(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=Cv()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class e2{constructor(t){this.We=t,this.Ge=new Map,this.ze=er(),this.je=Tc(),this.Je=Tc(),this.He=new he(Dt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:vt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((s,l)=>{this.nt(l)&&n(l)})}it(t){const n=t.targetId,s=t.De.count,l=this.st(n);if(l){const c=l.target;if(Jd(c))if(s===0){const d=new gt(c.path);this.Xe(n,d,nn.newNoDocument(d,bt.min()))}else Yt(s===1,20013,{expectedCount:s});else{const d=this.ot(n);if(d!==s){const m=this._t(t),p=m?this.ut(m,t,d):1;if(p!==0){this.rt(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,_)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,m;try{d=Yr(s).toUint8Array()}catch(p){if(p instanceof iE)return Gr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Lg(d,l,c)}catch(p){return Gr(p instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.We.lt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,c,null),l++)}),l}Pt(t){const n=new Map;this.Ge.forEach((c,d)=>{const m=this.st(d);if(m){if(c.current&&Jd(m.target)){const p=new gt(m.target.path);this.Tt(p).has(d)||this.It(d,p)||this.Xe(d,p,nn.newNoDocument(p,t))}c.Ne&&(n.set(d,c.Le()),c.ke())}});let s=Lt();this.Je.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const _=this.st(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(t));const l=new gh(t,n,this.He,this.ze,s);return this.ze=er(),this.je=Tc(),this.Je=Tc(),this.He=new he(Dt),l}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const l=this.tt(t);this.It(t,n)?l.qe(n,1):l.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new Iv,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Ve(Dt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Ve(Dt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Iv),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function Tc(){return new he(gt.comparator)}function Cv(){return new he(gt.comparator)}const n2={asc:"ASCENDING",desc:"DESCENDING"},i2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r2={and:"AND",or:"OR"};class s2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function eg(r,t){return r.useProto3Json||oh(t)?t:{value:t}}function $c(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function a2(r,t){return $c(r,t.toTimestamp())}function yi(r){return Yt(!!r,49232),bt.fromTimestamp(function(n){const s=Qr(n);return new oe(s.seconds,s.nanos)}(r))}function Ug(r,t){return ng(r,t).canonicalString()}function ng(r,t){const n=function(l){return new ae(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function ME(r){const t=ae.fromString(r);return Yt(zE(t),10190,{key:t.toString()}),t}function ig(r,t){return Ug(r.databaseId,t.path)}function kd(r,t){const n=ME(t);if(n.get(1)!==r.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new gt(PE(n))}function kE(r,t){return Ug(r.databaseId,t)}function o2(r){const t=ME(r);return t.length===4?ae.emptyPath():PE(t)}function rg(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function PE(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Dv(r,t,n){return{name:ig(r,t),fields:n.value.mapValue.fields}}function l2(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,S){return _.useProto3Json?(Yt(S===void 0||typeof S=="string",58123),Xe.fromBase64String(S||"")):(Yt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Xe.fromUint8Array(S||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&function(_){const S=_.code===void 0?$.UNKNOWN:OE(_.code);return new ot(S,_.message||"")}(d);n=new NE(s,l,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=kd(r,s.document.name),c=yi(s.document.updateTime),d=s.document.createTime?yi(s.document.createTime):bt.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(l,c,d,m),_=s.targetIds||[],S=s.removedTargetIds||[];n=new Vc(_,S,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=kd(r,s.document),c=s.readTime?yi(s.readTime):bt.min(),d=nn.newNoDocument(l,c),m=s.removedTargetIds||[];n=new Vc([],m,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=kd(r,s.document),c=s.removedTargetIds||[];n=new Vc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new WR(l,c),m=s.targetId;n=new xE(m,d)}}return n}function u2(r,t){let n;if(t instanceof Fl)n={update:Dv(r,t.key,t.value)};else if(t instanceof kg)n={delete:ig(r,t.key)};else if(t instanceof ts)n={update:Dv(r,t.key,t.data),updateMask:_2(t.fieldMask)};else{if(!(t instanceof XR))return vt(16599,{Rt:t.type});n={verify:ig(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xc)return{fieldPath:d.field.canonicalString(),increment:m.Ee};throw vt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:a2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)}(r,t.precondition)),n}function c2(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?yi(l.updateTime):yi(c);return d.isEqual(bt.min())&&(d=yi(c)),new KR(d,l.transformResults||[])}(n,t))):[]}function h2(r,t){return{documents:[kE(r,t.path)]}}function f2(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kE(r,l);const c=function(_){if(_.length!==0)return UE(Ti.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(S=>function(D){return{field:za(D.field),direction:m2(D.dir)}}(S))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const m=eg(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{Vt:n,parent:l}}function d2(r){let t=o2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Yt(s===1,65062);const S=n.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];n.where&&(c=function(I){const D=LE(I);return D instanceof Ti&&dE(D)?D.getFilters():[D]}(n.where));let d=[];n.orderBy&&(d=function(I){return I.map(D=>function(Z){return new Qc(ja(Z.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(D))}(n.orderBy));let m=null;n.limit&&(m=function(I){let D;return D=typeof I=="object"?I.value:I,oh(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(I){const D=!!I.before,F=I.values||[];return new Kc(F,D)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const D=!I.before,F=I.values||[];return new Kc(F,D)}(n.endAt)),NR(t,l,d,c,m,"F",p,_)}function g2(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function LE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ja(n.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(n.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(n.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(n.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ne.create(ja(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(s=>LE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(n.compositeFilter.op))}(r):vt(30097,{filter:r})}function m2(r){return n2[r]}function p2(r){return i2[r]}function y2(r){return r2[r]}function za(r){return{fieldPath:r.canonicalString()}}function ja(r){return Qe.fromServerFormat(r.fieldPath)}function UE(r){return r instanceof Ne?function(n){if(n.op==="=="){if(pv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(mv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(mv(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:p2(n.op),value:n.value}}}(r):r instanceof Ti?function(n){const s=n.getFilters().map(l=>UE(l));return s.length===1?s[0]:{compositeFilter:{op:y2(n.op),filters:s}}}(r):vt(54877,{filter:r})}function _2(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function zE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,n,s,l,c=bt.min(),d=bt.min(),m=Xe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Lr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t){this.gt=t}}function E2(r){const t=d2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.Dn=new S2}addToCollectionParentIndex(t,n){return this.Dn.add(n),Y.resolve()}getCollectionParents(t,n){return Y.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return Y.resolve()}deleteFieldIndex(t,n){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,n){return Y.resolve()}getDocumentsMatchingTarget(t,n){return Y.resolve(null)}getIndexType(t,n){return Y.resolve(0)}getFieldIndexes(t,n){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,n){return Y.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,n){return Y.resolve(Kr.min())}updateCollectionGroup(t,n,s){return Y.resolve()}updateIndexEntries(t,n){return Y.resolve()}}class S2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ve(ae.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jE=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(jE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ja(0)}static ur(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LruGarbageCollector",b2=1048576;function Nv([r,t],[n,s]){const l=Dt(r,n);return l===0?Dt(t,s):l}class A2{constructor(t){this.Tr=t,this.buffer=new Ve(Nv),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Nv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){st(xv,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oo(n)?st(xv,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.Rr(3e5)})}}class R2{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Y.resolve(ah.ue);const s=new A2(n);return this.Vr.forEachTarget(t,l=>s.Er(l.sequenceNumber)).next(()=>this.Vr.gr(t,l=>s.Er(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Ov)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,l,c,d,m,p,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,m=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(_=Date.now(),La()<=Pt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${I} documents in `+(_-p)+`ms
Total Duration: ${_-S}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function I2(r,t){return new R2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.changes=new Fs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Cl(s.mutation,l,Rn.empty(),oe.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Lt()){const l=Ps();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=Tl();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=Ps();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Lt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,m)=>{n.set(d,m)})})}computeViews(t,n,s,l){let c=er();const d=Il(),m=function(){return Il()}();return n.forEach((p,_)=>{const S=s.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof ts)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Cl(S.mutation,_,S.mutation.getFieldMask(),oe.now())):d.set(_.key,Rn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,S)=>d.set(_,S)),n.forEach((_,S)=>{var I;return m.set(_,new D2(S,(I=d.get(_))!==null&&I!==void 0?I:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Il();let l=new he((d,m)=>d-m),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const m of d)m.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let S=s.get(p)||Rn.empty();S=m.applyToLocalView(_,S),s.set(p,S);const I=(l.get(m.batchId)||Lt()).add(p);l=l.insert(m.batchId,I)})}).next(()=>{const d=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,S=p.value,I=SE();S.forEach(D=>{if(!c.has(D)){const F=CE(n.get(D),s.get(D));F!==null&&I.set(D,F),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):VR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Y.resolve(Ps());let m=Nl,p=c;return d.next(_=>Y.forEach(_,(S,I)=>(m<I.largestBatchId&&(m=I.largestBatchId),c.get(S)?Y.resolve():this.remoteDocumentCache.getEntry(t,S).next(D=>{p=p.insert(S,D)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Lt())).next(S=>({batchId:m,changes:TE(S)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(s=>{let l=Tl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next(m=>Y.forEach(m,p=>{const _=function(I,D){return new uh(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(S=>{S.forEach((I,D)=>{d=d.insert(I,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((p,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,nn.newInvalidDocument(S)))});let m=Tl();return d.forEach((p,_)=>{const S=c.get(p);S!==void 0&&Cl(S.mutation,_,Rn.empty(),oe.now()),hh(n,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return Y.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(l){return{id:l.id,version:l.version,createTime:yi(l.createTime)}}(n)),Y.resolve()}getNamedQuery(t,n){return Y.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(l){return{name:l.name,query:E2(l.bundledQuery),readTime:yi(l.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.overlays=new he(gt.comparator),this.kr=new Map}getOverlay(t,n){return Y.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ps();return Y.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.wt(t,n,c)}),Y.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.kr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),Y.resolve()}getOverlaysForCollection(t,n,s){const l=Ps(),c=n.length+1,d=new gt(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new he((_,S)=>_-S);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let S=c.get(_.largestBatchId);S===null&&(S=Ps(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const m=Ps(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,S)=>m.set(_,S)),!(m.size()>=l)););return Y.resolve(m)}wt(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.kr.get(l.largestBatchId).delete(s.key);this.kr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new ZR(n,s));let c=this.kr.get(n);c===void 0&&(c=Lt(),this.kr.set(n,c)),this.kr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this.qr=new Ve(ze.Qr),this.$r=new Ve(ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new ze(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Wr(new ze(t,n))}Gr(t,n){t.forEach(s=>this.removeReference(s,n))}zr(t){const n=new gt(new ae([])),s=new ze(n,t),l=new ze(n,t+1),c=[];return this.$r.forEachInRange([s,l],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new gt(new ae([])),s=new ze(n,t),l=new ze(n,t+1);let c=Lt();return this.$r.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new ze(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return gt.comparator(t.key,n.key)||Dt(t.Hr,n.Hr)}static Ur(t,n){return Dt(t.Hr,n.Hr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ve(ze.Qr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $R(c,n,s,l);this.mutationQueue.push(d);for(const m of l)this.Yr=this.Yr.add(new ze(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Xr(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Dg:this.er-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ze(n,0),l=new ze(n,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,l],d=>{const m=this.Zr(d.Hr);c.push(m)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ve(Dt);return n.forEach(l=>{const c=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],m=>{s=s.add(m.Hr)})}),Y.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new ze(new gt(c),0);let m=new Ve(Dt);return this.Yr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(m=m.add(p.Hr)),!0)},d),Y.resolve(this.ei(m))}ei(t){const n=[];return t.forEach(s=>{const l=this.Zr(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Yt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Y.forEach(n.mutations,l=>{const c=new ze(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,n){const s=new ze(n,0),l=this.Yr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.ni=t,this.docs=function(){return new he(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(t,n){let s=er();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))}),Y.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=er();const d=n.path,m=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:S}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||cR(uR(S),s)<=0||(l.has(S.key)||hh(n,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,n,s,l){vt(9500)}ri(t,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new P2(this)}getSize(t){return Y.resolve(this.size)}}class P2 extends C2{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Or.addEntry(t,l)):this.Or.removeEntry(s)}),Y.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.persistence=t,this.ii=new Fs(n=>Ng(n),Vg),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.si=0,this.oi=new zg,this.targetCount=0,this._i=Ja.ar()}forEachTarget(t,n){return this.ii.forEach((s,l)=>n(l)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),Y.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Ja(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,Y.resolve()}updateTargetData(t,n){return this.hr(n),Y.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.ii.forEach((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),Y.waitFor(c).next(()=>l)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return Y.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),Y.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),Y.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),Y.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return Y.resolve(s)}containsKey(t,n){return Y.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,n){this.ai={},this.overlays={},this.ui=new ah(0),this.ci=!1,this.ci=!0,this.li=new V2,this.referenceDelegate=t(this),this.hi=new L2(this),this.indexManager=new T2,this.remoteDocumentCache=function(l){return new k2(l)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new v2(n),this.Ti=new x2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new N2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new M2(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){st("MemoryPersistence","Starting transaction:",t);const l=new U2(this.ui.next());return this.referenceDelegate.Ii(),s(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ei(t,n){return Y.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,n)))}}class U2 extends fR{constructor(t){super(),this.currentSequenceNumber=t}}class jg{constructor(t){this.persistence=t,this.Ai=new zg,this.Ri=null}static Vi(t){return new jg(t)}get mi(){if(this.Ri)return this.Ri;throw vt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),Y.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),Y.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(l=>this.mi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,s=>{const l=gt.fromPath(s);return this.fi(t,l).next(c=>{c||n.removeEntry(l,bt.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return Y.or([()=>Y.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Zc{constructor(t,n){this.persistence=t,this.gi=new Fs(s=>mR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=I2(this,n)}static Vi(t,n){return new Zc(t,n)}Ii(){}di(t){return Y.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}yr(t){let n=0;return this.gr(t,s=>{n++}).next(()=>n)}gr(t,n){return Y.forEach(this.gi,(s,l)=>this.Sr(t,s,l).next(c=>c?Y.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ri(t,d=>this.Sr(t,d,n).next(m=>{m||(s++,c.removeEntry(d,bt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),Y.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),Y.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Oc(t.data.value)),n}Sr(t,n,s){return Y.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.gi.get(n);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=l}static Es(t,n){let s=Lt(),l=Lt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bg(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return _S()?8:dR(rn())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ps(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new z2;return this.ws(t,n,d).next(m=>{if(c.result=m,this.Rs)return this.Ss(t,n,d,m.size)})}).next(()=>c.result)}Ss(t,n,s,l){return s.documentReadCount<this.Vs?(La()<=Pt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(La()<=Pt.DEBUG&&st("QueryEngine","Query:",Ua(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.fs*l?(La()<=Pt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pi(n))):Y.resolve())}ps(t,n){if(Ev(n))return Y.resolve(null);let s=pi(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=tg(n,null,"F"),s=pi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Lt(...c);return this.gs.getDocuments(t,d).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.bs(n,m);return this.Ds(n,_,d,p.readTime)?this.ps(t,tg(n,null,"F")):this.vs(t,_,n,p)}))})))}ys(t,n,s,l){return Ev(n)||l.isEqual(bt.min())?Y.resolve(null):this.gs.getDocuments(t,s).next(c=>{const d=this.bs(n,c);return this.Ds(n,d,s,l)?Y.resolve(null):(La()<=Pt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ua(n)),this.vs(t,d,n,lR(l,Nl)).next(m=>m))})}bs(t,n){let s=new Ve(vE(t));return n.forEach((l,c)=>{hh(t,c)&&(s=s.add(c))}),s}Ds(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ws(t,n,s){return La()<=Pt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.gs.getDocumentsMatchingQuery(t,n,Kr.min(),s)}vs(t,n,s,l){return this.gs.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="LocalStore",B2=3e8;class q2{constructor(t,n,s,l){this.persistence=t,this.Cs=n,this.serializer=l,this.Fs=new he(Dt),this.Ms=new Fs(c=>Ng(c),Vg),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new O2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function H2(r,t,n,s){return new q2(r,t,n,s)}async function qE(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ns(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let p=Lt();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)p=p.add(S.key)}for(const _ of c){m.push(_.batchId);for(const S of _.mutations)p=p.add(S.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Bs:_,removedBatchIds:d,addedBatchIds:m}))})})}function F2(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,_,S){const I=_.batch,D=I.keys();let F=Y.resolve();return D.forEach(Z=>{F=F.next(()=>S.getEntry(p,Z)).next(rt=>{const W=_.docVersions.get(Z);Yt(W!==null,48541),rt.version.compareTo(W)<0&&(I.applyToRemoteDocument(rt,_),rt.isValidDocument()&&(rt.setReadTime(_.commitVersion),S.addEntry(rt)))})}),F.next(()=>m.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Lt();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function HE(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function G2(r,t){const n=wt(r),s=t.snapshotVersion;let l=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Os.newChangeBuffer({trackRemovals:!0});l=n.Fs;const m=[];t.targetChanges.forEach((S,I)=>{const D=l.get(I);if(!D)return;m.push(n.hi.removeMatchingKeys(c,S.removedDocuments,I).next(()=>n.hi.addMatchingKeys(c,S.addedDocuments,I)));let F=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?F=F.withResumeToken(Xe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,s)),l=l.insert(I,F),function(rt,W,At){return rt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=B2?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0}(D,F,S)&&m.push(n.hi.updateTargetData(c,F))});let p=er(),_=Lt();if(t.documentUpdates.forEach(S=>{t.resolvedLimboDocuments.has(S)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,S))}),m.push(K2(c,d,t.documentUpdates).next(S=>{p=S.Ls,_=S.ks})),!s.isEqual(bt.min())){const S=n.hi.getLastRemoteSnapshotVersion(c).next(I=>n.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(S)}return Y.waitFor(m).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Fs=l,c))}function K2(r,t,n){let s=Lt(),l=Lt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=er();return n.forEach((m,p)=>{const _=c.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(m,p.readTime),d=d.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(m,p)):st(qg,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Ls:d,ks:l}})}function Q2(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Dg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Y2(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.hi.getTargetData(s,t).next(c=>c?(l=c,Y.resolve(l)):n.hi.allocateTargetId(s).next(d=>(l=new Lr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Fs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s})}async function sg(r,t,n){const s=wt(r),l=s.Fs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!oo(d))throw d;st(qg,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(l.target)}function Vv(r,t,n){const s=wt(r);let l=bt.min(),c=Lt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,S){const I=wt(p),D=I.Ms.get(S);return D!==void 0?Y.resolve(I.Fs.get(D)):I.hi.getTargetData(_,S)}(s,d,pi(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,t,n?l:bt.min(),n?c:Lt())).next(m=>(X2(s,kR(t),m),{documents:m,qs:c})))}function X2(r,t,n){let s=r.xs.get(t)||bt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.xs.set(t,s)}class Mv{constructor(){this.activeTargetIds=BR()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $2{constructor(){this.Fo=new Mv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new Mv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="ConnectivityMonitor";class Pv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){st(kv,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){st(kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function ag(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="RestConnection",W2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J2{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.Ko=this.databaseId.database===Fc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,n,s,l,c){const d=ag(),m=this.Go(t,n.toUriEncodedString());st(Pd,`Sending RPC '${t}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,l,c);const{host:_}=new URL(m),S=eo(_);return this.jo(t,m,p,s,S).then(I=>(st(Pd,`Received RPC '${t}' ${d}: `,I),I),I=>{throw Gr(Pd,`RPC '${t}' ${d} failed with error: `,I,"url: ",m,"request:",s),I})}Jo(t,n,s,l,c,d){return this.Wo(t,n,s,l,c)}zo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}Go(t,n){const s=W2[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class eI extends J2{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,l,c){const d=ag();return new Promise((m,p)=>{const _=new G0;_.setWithCredentials(!0),_.listenOnce(K0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Dc.NO_ERROR:const I=_.getResponseJson();st(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),m(I);break;case Dc.TIMEOUT:st(tn,`RPC '${t}' ${d} timed out`),p(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const D=_.getStatus();if(st(tn,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F==null?void 0:F.error;if(Z&&Z.status&&Z.message){const rt=function(At){const dt=At.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(dt)>=0?dt:$.UNKNOWN}(Z.status);p(new ot(rt,Z.message))}else p(new ot($.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ot($.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{c_:t,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{st(tn,`RPC '${t}' ${d} completed.`)}});const S=JSON.stringify(l);st(tn,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",S,s,15)})}P_(t,n,s){const l=ag(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=X0(),m=Y0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const S=c.join("");st(tn,`Creating RPC '${t}' stream ${l}: ${S}`,p);const I=d.createWebChannel(S,p);this.T_(I);let D=!1,F=!1;const Z=new tI({Ho:W=>{F?st(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(D||(st(tn,`Opening RPC '${t}' stream ${l} transport.`),I.open(),D=!0),st(tn,`RPC '${t}' stream ${l} sending:`,W),I.send(W))},Yo:()=>I.close()}),rt=(W,At,dt)=>{W.listen(At,ht=>{try{dt(ht)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return rt(I,El.EventType.OPEN,()=>{F||(st(tn,`RPC '${t}' stream ${l} transport opened.`),Z.s_())}),rt(I,El.EventType.CLOSE,()=>{F||(F=!0,st(tn,`RPC '${t}' stream ${l} transport closed`),Z.__(),this.I_(I))}),rt(I,El.EventType.ERROR,W=>{F||(F=!0,Gr(tn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.__(new ot($.UNAVAILABLE,"The operation could not be completed")))}),rt(I,El.EventType.MESSAGE,W=>{var At;if(!F){const dt=W.data[0];Yt(!!dt,16349);const ht=dt,Ot=(ht==null?void 0:ht.error)||((At=ht[0])===null||At===void 0?void 0:At.error);if(Ot){st(tn,`RPC '${t}' stream ${l} received error:`,Ot);const Et=Ot.status;let It=function(w){const x=we[w];if(x!==void 0)return OE(x)}(Et),N=Ot.message;It===void 0&&(It=$.INTERNAL,N="Unknown error status: "+Et+" with message "+Ot.message),F=!0,Z.__(new ot(It,N)),I.close()}else st(tn,`RPC '${t}' stream ${l} received:`,dt),Z.a_(dt)}}),rt(m,Q0.STAT_EVENT,W=>{W.stat===Yd.PROXY?st(tn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Yd.NOPROXY&&st(tn,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Z.o_()},0),Z}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function Ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r){return new s2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=l,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),l=Math.max(0,n-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="PersistentStream";class GE{constructor(t,n,s,l,c,d,m,p){this.Fi=t,this.w_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new FE(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.b_===n&&this.W_(s,l)},s=>{t(()=>{const l=new ot($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(l)})})}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{s(()=>this.G_(l))}),this.stream.onMessage(l=>{s(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return st(Lv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(st(Lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nI extends GE{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=l2(this.serializer,t),s=function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?yi(d.readTime):bt.min()}(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=rg(this.serializer),n.addTarget=function(c,d){let m;const p=d.target;if(m=Jd(p)?{documents:h2(c,p)}:{query:f2(c,p).Vt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=VE(c,d.resumeToken);const _=eg(c,d.expectedCount);_!==null&&(m.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){m.readTime=$c(c,d.snapshotVersion.toTimestamp());const _=eg(c,d.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,t);const s=g2(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=rg(this.serializer),n.removeTarget=t,this.k_(n)}}class iI extends GE{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=c2(t.writeResults,t.commitTime),s=yi(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=rg(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>u2(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{}class sI extends rI{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(t,ng(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($.UNKNOWN,c.toString())})}Jo(t,n,s,l,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Jo(t,ng(n,s),l,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class aI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(tr(n),this._a=!1):st("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class oI{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{Gs(this)&&(st(qs,"Restarting streams for network reachability change."),await async function(p){const _=wt(p);_.Ia.add(4),await Kl(_),_.Aa.set("Unknown"),_.Ia.delete(4),await ph(_)}(this))})}),this.Aa=new aI(s,l)}}async function ph(r){if(Gs(r))for(const t of r.da)await t(!0)}async function Kl(r){for(const t of r.da)await t(!1)}function KE(r,t){const n=wt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Kg(n)?Gg(n):lo(n).x_()&&Fg(n,t))}function Hg(r,t){const n=wt(r),s=lo(n);n.Ta.delete(t),s.x_()&&QE(n,t),n.Ta.size===0&&(s.x_()?s.B_():Gs(n)&&n.Aa.set("Unknown"))}function Fg(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lo(r).H_(t)}function QE(r,t){r.Ra.$e(t),lo(r).Y_(t)}function Gg(r){r.Ra=new e2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Aa.aa()}function Kg(r){return Gs(r)&&!lo(r).M_()&&r.Ta.size>0}function Gs(r){return wt(r).Ia.size===0}function YE(r){r.Ra=void 0}async function lI(r){r.Aa.set("Online")}async function uI(r){r.Ta.forEach((t,n)=>{Fg(r,t)})}async function cI(r,t){YE(r),Kg(r)?(r.Aa.la(t),Gg(r)):r.Aa.set("Unknown")}async function hI(r,t,n){if(r.Aa.set("Online"),t instanceof NE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const m of c.targetIds)l.Ta.has(m)&&(await l.remoteSyncer.rejectListen(m,d),l.Ta.delete(m),l.Ra.removeTarget(m))}(r,t)}catch(s){st(qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Wc(r,s)}else if(t instanceof Vc?r.Ra.Ye(t):t instanceof xE?r.Ra.it(t):r.Ra.et(t),!n.isEqual(bt.min()))try{const s=await HE(r.localStore);n.compareTo(s)>=0&&await function(c,d){const m=c.Ra.Pt(d);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const S=c.Ta.get(_);S&&c.Ta.set(_,S.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,_)=>{const S=c.Ta.get(p);if(!S)return;c.Ta.set(p,S.withResumeToken(Xe.EMPTY_BYTE_STRING,S.snapshotVersion)),QE(c,p);const I=new Lr(S.target,p,_,S.sequenceNumber);Fg(c,I)}),c.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){st(qs,"Failed to raise snapshot:",s),await Wc(r,s)}}async function Wc(r,t,n){if(!oo(t))throw t;r.Ia.add(1),await Kl(r),r.Aa.set("Offline"),n||(n=()=>HE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(qs,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await ph(r)})}function XE(r,t){return t().catch(n=>Wc(r,n,t))}async function yh(r){const t=wt(r),n=$r(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Dg;for(;fI(t);)try{const l=await Q2(t.localStore,s);if(l===null){t.Pa.length===0&&n.B_();break}s=l.batchId,dI(t,l)}catch(l){await Wc(t,l)}$E(t)&&ZE(t)}function fI(r){return Gs(r)&&r.Pa.length<10}function dI(r,t){r.Pa.push(t);const n=$r(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function $E(r){return Gs(r)&&!$r(r).M_()&&r.Pa.length>0}function ZE(r){$r(r).start()}async function gI(r){$r(r).na()}async function mI(r){const t=$r(r);for(const n of r.Pa)t.X_(n.mutations)}async function pI(r,t,n){const s=r.Pa.shift(),l=Pg.from(s,t,n);await XE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await yh(r)}async function yI(r,t){t&&$r(r).Z_&&await async function(s,l){if(function(d){return JR(d)&&d!==$.ABORTED}(l.code)){const c=s.Pa.shift();$r(s).N_(),await XE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await yh(s)}}(r,t),$E(r)&&ZE(r)}async function Uv(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),st(qs,"RemoteStore received new credentials");const s=Gs(n);n.Ia.add(3),await Kl(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await ph(n)}async function _I(r,t){const n=wt(r);t?(n.Ia.delete(2),await ph(n)):t||(n.Ia.add(2),await Kl(n),n.Aa.set("Unknown"))}function lo(r){return r.Va||(r.Va=function(n,s,l){const c=wt(n);return c.ia(),new nI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:lI.bind(null,r),e_:uI.bind(null,r),n_:cI.bind(null,r),J_:hI.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Kg(r)?Gg(r):r.Aa.set("Unknown")):(await r.Va.stop(),YE(r))})),r.Va}function $r(r){return r.ma||(r.ma=function(n,s,l){const c=wt(n);return c.ia(),new iI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:gI.bind(null,r),n_:yI.bind(null,r),ea:mI.bind(null,r),ta:pI.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await yh(r)):(await r.ma.stop(),r.Pa.length>0&&(st(qs,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,m=new Qg(t,n,d,l,c);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(r,t){if(tr("AsyncQueue",`${t}: ${r}`),oo(r))return new ot($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=Tl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ga;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.fa=new he(gt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):vt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,s)=>{t.push(s)}),t}}class to{constructor(t,n,s,l,c,d,m,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new to(t,n,Ga.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class EI{constructor(){this.queries=jv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const l=wt(n),c=l.queries;l.queries=jv(),c.forEach((d,m)=>{for(const p of m.wa)p.onError(s)})})(this,new ot($.ABORTED,"Firestore shutting down"))}}function jv(){return new Fs(r=>_E(r),ch)}async function TI(r,t){const n=wt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Sa()&&t.ba()&&(s=2):(c=new vI,s=t.ba()?0:1);try{switch(s){case 0:c.ya=await n.onListen(l,!0);break;case 1:c.ya=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const m=Yg(d,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,c),c.wa.push(t),t.va(n.onlineState),c.ya&&t.Ca(c.ya)&&Xg(n)}async function SI(r,t){const n=wt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.wa.indexOf(t);d>=0&&(c.wa.splice(d,1),c.wa.length===0?l=t.ba()?0:1:!c.Sa()&&t.ba()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function bI(r,t){const n=wt(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const m of d.wa)m.Ca(l)&&(s=!0);d.ya=l}}s&&Xg(n)}function AI(r,t,n){const s=wt(r),l=s.queries.get(t);if(l)for(const c of l.wa)c.onError(n);s.queries.delete(t)}function Xg(r){r.Da.forEach(t=>{t.next()})}var og,Bv;(Bv=og||(og={})).Fa="default",Bv.Cache="cache";class wI{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new to(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t){this.key=t}}class JE{constructor(t){this.key=t}}class RI{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Lt(),this.mutatedKeys=Lt(),this.Xa=vE(t),this.eu=new Ga(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new zv,l=n?n.eu:this.eu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((S,I)=>{const D=l.get(S),F=hh(this.query,I)?I:null,Z=!!D&&this.mutatedKeys.has(D.key),rt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;D&&F?D.data.isEqual(F.data)?Z!==rt&&(s.track({type:3,doc:F}),W=!0):this.iu(D,F)||(s.track({type:2,doc:F}),W=!0,(p&&this.Xa(F,p)>0||_&&this.Xa(F,_)<0)&&(m=!0)):!D&&F?(s.track({type:0,doc:F}),W=!0):D&&!F&&(s.track({type:1,doc:D}),W=!0,(p||_)&&(m=!0)),W&&(F?(d=d.add(F),c=rt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{eu:d,ru:s,Ds:m,mutatedKeys:c}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const d=t.ru.pa();d.sort((S,I)=>function(F,Z){const rt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{At:W})}};return rt(F)-rt(Z)}(S.type,I.type)||this.Xa(S.doc,I.doc)),this.su(s),l=l!=null&&l;const m=n&&!l?this.ou():[],p=this.Za.size===0&&this.current&&!l?1:0,_=p!==this.Ya;return this.Ya=p,d.length!==0||_?{snapshot:new to(this.query,t.eu,c,d,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new zv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Lt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return t.forEach(s=>{this.Za.has(s)||n.push(new JE(s))}),this.Za.forEach(s=>{t.has(s)||n.push(new WE(s))}),n}uu(t){this.Ha=t.qs,this.Za=Lt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return to.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const $g="SyncEngine";class II{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class CI{constructor(t){this.key=t,this.lu=!1}}class DI{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Fs(m=>_E(m),ch),this.Tu=new Map,this.Iu=new Set,this.du=new he(gt.comparator),this.Eu=new Map,this.Au=new zg,this.Ru={},this.Vu=new Map,this.mu=Ja.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function OI(r,t,n=!0){const s=sT(r);let l;const c=s.Pu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.cu()):l=await tT(s,t,n,!0),l}async function xI(r,t){const n=sT(r);await tT(n,t,!0,!1)}async function tT(r,t,n,s){const l=await Y2(r.localStore,pi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await NI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&KE(r.remoteStore,l),m}async function NI(r,t,n,s,l){r.gu=(I,D,F)=>async function(rt,W,At,dt){let ht=W.view.nu(At);ht.Ds&&(ht=await Vv(rt.localStore,W.query,!1).then(({documents:N})=>W.view.nu(N,ht)));const Ot=dt&&dt.targetChanges.get(W.targetId),Et=dt&&dt.targetMismatches.get(W.targetId)!=null,It=W.view.applyChanges(ht,rt.isPrimaryClient,Ot,Et);return Hv(rt,W.targetId,It._u),It.snapshot}(r,I,D,F);const c=await Vv(r.localStore,t,!0),d=new RI(t,c.qs),m=d.nu(c.documents),p=Gl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(m,r.isPrimaryClient,p);Hv(r,n,_._u);const S=new II(t,n,d);return r.Pu.set(t,S),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),_.snapshot}async function VI(r,t,n){const s=wt(r),l=s.Pu.get(t),c=s.Tu.get(l.targetId);if(c.length>1)return s.Tu.set(l.targetId,c.filter(d=>!ch(d,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await sg(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Hg(s.remoteStore,l.targetId),lg(s,l.targetId)}).catch(ao)):(lg(s,l.targetId),await sg(s.localStore,l.targetId,!0))}async function MI(r,t){const n=wt(r),s=n.Pu.get(t),l=n.Tu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hg(n.remoteStore,s.targetId))}async function kI(r,t,n){const s=qI(r);try{const l=await function(d,m){const p=wt(d),_=oe.now(),S=m.reduce((F,Z)=>F.add(Z.key),Lt());let I,D;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let Z=er(),rt=Lt();return p.Os.getEntries(F,S).next(W=>{Z=W,Z.forEach((At,dt)=>{dt.isValidDocument()||(rt=rt.add(At))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,Z)).next(W=>{I=W;const At=[];for(const dt of m){const ht=YR(dt,I.get(dt.key).overlayedDocument);ht!=null&&At.push(new ts(dt.key,ht,cE(ht.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(F,_,At,m)}).next(W=>{D=W;const At=W.applyToLocalDocumentSet(I,rt);return p.documentOverlayCache.saveOverlays(F,W.batchId,At)})}).then(()=>({batchId:D.batchId,changes:TE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,m,p){let _=d.Ru[d.currentUser.toKey()];_||(_=new he(Dt)),_=_.insert(m,p),d.Ru[d.currentUser.toKey()]=_}(s,l.batchId,n),await Ql(s,l.changes),await yh(s.remoteStore)}catch(l){const c=Yg(l,"Failed to persist write");n.reject(c)}}async function eT(r,t){const n=wt(r);try{const s=await G2(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Eu.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.lu=!0:l.modifiedDocuments.size>0?Yt(d.lu,14607):l.removedDocuments.size>0&&(Yt(d.lu,42227),d.lu=!1))}),await Ql(n,s,t)}catch(s){await ao(s)}}function qv(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Pu.forEach((c,d)=>{const m=d.view.va(t);m.snapshot&&l.push(m.snapshot)}),function(d,m){const p=wt(d);p.onlineState=m;let _=!1;p.queries.forEach((S,I)=>{for(const D of I.wa)D.va(m)&&(_=!0)}),_&&Xg(p)}(s.eventManager,t),l.length&&s.hu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function PI(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let d=new he(gt.comparator);d=d.insert(c,nn.newNoDocument(c,bt.min()));const m=Lt().add(c),p=new gh(bt.min(),new Map,new he(Dt),d,m);await eT(s,p),s.du=s.du.remove(c),s.Eu.delete(t),Zg(s)}else await sg(s.localStore,t,!1).then(()=>lg(s,t,n)).catch(ao)}async function LI(r,t){const n=wt(r),s=t.batch.batchId;try{const l=await F2(n.localStore,t);iT(n,s,null),nT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ql(n,l)}catch(l){await ao(l)}}async function UI(r,t,n){const s=wt(r);try{const l=await function(d,m){const p=wt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let S;return p.mutationQueue.lookupMutationBatch(_,m).next(I=>(Yt(I!==null,37113),S=I.keys(),p.mutationQueue.removeMutationBatch(_,I))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,S,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S)).next(()=>p.localDocuments.getDocuments(_,S))})}(s.localStore,t);iT(s,t,n),nT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ql(s,l)}catch(l){await ao(l)}}function nT(r,t){(r.Vu.get(t)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(t)}function iT(r,t,n){const s=wt(r);let l=s.Ru[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Ru[s.currentUser.toKey()]=l}}function lg(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||rT(r,s)})}function rT(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Hg(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),Zg(r))}function Hv(r,t,n){for(const s of n)s instanceof WE?(r.Au.addReference(s.key,t),zI(r,s)):s instanceof JE?(st($g,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||rT(r,s.key)):vt(19791,{yu:s})}function zI(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(st($g,"New document in limbo: "+n),r.Iu.add(s),Zg(r))}function Zg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new gt(ae.fromString(t)),s=r.mu.next();r.Eu.set(s,new CI(n)),r.du=r.du.insert(n,s),KE(r.remoteStore,new Lr(pi(yE(n.path)),s,"TargetPurposeLimboResolution",ah.ue))}}async function Ql(r,t,n){const s=wt(r),l=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{d.push(s.gu(p,t,n).then(_=>{var S;if((_||n)&&s.isPrimaryClient){const I=_?!_.fromCache:(S=n==null?void 0:n.targetChanges.get(p.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(_){l.push(_);const I=Bg.Es(p.targetId,_);c.push(I)}}))}),await Promise.all(d),s.hu.J_(l),await async function(p,_){const S=wt(p);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Y.forEach(_,D=>Y.forEach(D.Is,F=>S.persistence.referenceDelegate.addReference(I,D.targetId,F)).next(()=>Y.forEach(D.ds,F=>S.persistence.referenceDelegate.removeReference(I,D.targetId,F)))))}catch(I){if(!oo(I))throw I;st(qg,"Failed to update sequence numbers: "+I)}for(const I of _){const D=I.targetId;if(!I.fromCache){const F=S.Fs.get(D),Z=F.snapshotVersion,rt=F.withLastLimboFreeSnapshotVersion(Z);S.Fs=S.Fs.insert(D,rt)}}}(s.localStore,c))}async function jI(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){st($g,"User change. New user:",t.toKey());const s=await qE(n.localStore,t);n.currentUser=t,function(c,d){c.Vu.forEach(m=>{m.forEach(p=>{p.reject(new ot($.CANCELLED,d))})}),c.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ql(n,s.Bs)}}function BI(r,t){const n=wt(r),s=n.Eu.get(t);if(s&&s.lu)return Lt().add(s.key);{let l=Lt();const c=n.Tu.get(t);if(!c)return l;for(const d of c){const m=n.Pu.get(d);l=l.unionWith(m.view.tu)}return l}}function sT(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=eT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PI.bind(null,t),t.hu.J_=bI.bind(null,t.eventManager),t.hu.pu=AI.bind(null,t.eventManager),t}function qI(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UI.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return H2(this.persistence,new j2,t.initialUser,this.serializer)}Du(t){return new BE(jg.Vi,this.serializer)}bu(t){return new $2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class HI extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Yt(this.persistence.referenceDelegate instanceof Zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new w2(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new BE(s=>Zc.Vi(s,n),this.serializer)}}class ug{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jI.bind(null,this.syncEngine),await _I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new EI}()}createDatastore(t){const n=mh(t.databaseInfo.databaseId),s=function(c){return new eI(c)}(t.databaseInfo);return function(c,d,m,p){return new sI(c,d,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,m){return new oI(s,l,c,d,m)}(this.localStore,this.datastore,t.asyncQueue,n=>qv(this.syncEngine,n,0),function(){return Pv.C()?new Pv:new Z2}())}createSyncEngine(t,n){return function(l,c,d,m,p,_,S){const I=new DI(l,c,d,m,p,_);return S&&(I.fu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=wt(l);st(qs,"RemoteStore shutting down."),c.Ia.add(5),await Kl(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ug.provider={build:()=>new ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class GI{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=Ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{st(Zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(Zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Yg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Ud(r,t){r.asyncQueue.verifyOperationInProgress(),st(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await qE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>{Gr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{st("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{Gr("Terminating Firestore due to IndexedDb database deletion failed",l)})}),r._offlineComponents=t}async function Fv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await KI(r);st(Zr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Uv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Uv(t.remoteStore,l)),r._onlineComponents=t}async function KI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Zr,"Using user provided OfflineComponentProvider");try{await Ud(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Gr("Error using user provided cache. Falling back to memory cache: "+n),await Ud(r,new Jc)}}else st(Zr,"Using default OfflineComponentProvider"),await Ud(r,new HI(void 0));return r._offlineComponents}async function aT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Zr,"Using user provided OnlineComponentProvider"),await Fv(r,r._uninitializedComponentsProvider._online)):(st(Zr,"Using default OnlineComponentProvider"),await Fv(r,new ug))),r._onlineComponents}function QI(r){return aT(r).then(t=>t.syncEngine)}async function YI(r){const t=await aT(r),n=t.eventManager;return n.onListen=OI.bind(null,t.syncEngine),n.onUnlisten=VI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=xI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=MI.bind(null,t.syncEngine),n}function XI(r,t,n={}){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,_){const S=new FI({next:D=>{S.Ou(),d.enqueueAndForget(()=>SI(c,I)),D.fromCache&&p.source==="server"?_.reject(new ot($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),I=new wI(m,S,{includeMetadataChanges:!0,ka:!0});return TI(c,I)}(await YI(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="firestore.googleapis.com",Kv=!0;class Qv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lT,this.ssl=Kv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Kv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<b2)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Ww;switch(s.type){case"firstParty":return new nR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Gv.get(n);s&&(st("ComponentProvider","Removing Datastore"),Gv.delete(n),s.terminate())}(this),Promise.resolve()}}function $I(r,t,n,s={}){var l;r=Bs(r,_h);const c=eo(t),d=r._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(i0(`https://${p}`),r0("Firestore",!0)),d.host!==lT&&d.host!==p&&Gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:s});if(!Ls(_,m)&&(r._setSettings(_),s.mockUserToken)){let S,I;if(typeof s.mockUserToken=="string")S=s.mockUserToken,I=en.MOCK_USER;else{S=uS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new en(D)}r._authCredentials=new Jw(new Z0(S,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new vh(this.firestore,t,this._query)}}class je{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Hl(n,je._jsonSchema))return new je(t,s||null,new gt(ae.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Re("string",je._jsonSchemaVersion),referencePath:Re("string")};class Fr extends vh{constructor(t,n,s){super(t,n,yE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new gt(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function ZI(r,t,...n){if(r=Ye(r),J0("collection","path",t),r instanceof _h){const s=ae.fromString(t,...n);return ov(s),new Fr(r,null,s)}{if(!(r instanceof je||r instanceof Fr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return ov(s),new Fr(r.firestore,null,s)}}function cg(r,t,...n){if(r=Ye(r),arguments.length===1&&(t=Ig.newId()),J0("doc","path",t),r instanceof _h){const s=ae.fromString(t,...n);return av(s),new je(r,null,new gt(s))}{if(!(r instanceof je||r instanceof Fr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return av(s),new je(r.firestore,r instanceof Fr?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="AsyncQueue";class Xv{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new FE(this,"async_queue_retry"),this.oc=()=>{const s=Ld();s&&st(Yv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Ld();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Ld();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Hr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!oo(t))throw t;st(Yv,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,tr("INTERNAL UNHANDLED ERROR: ",$v(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const l=Qg.createAndSchedule(this,t,n,s,c=>this.lc(c));return this.ec.push(l),l}ac(){this.tc&&vt(47125,{hc:$v(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function $v(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Yl extends _h{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Xv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Xv(t),this._firestoreClient=void 0,await t}}}function WI(r,t){const n=typeof r=="object"?r:l0(),s=typeof r=="string"?r:Fc,l=pg(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=oS("firestore");c&&$I(l,...c)}return l}function uT(r){if(r._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JI(r),r._firestoreClient}function JI(r){var t,n,s;const l=r._freezeSettings(),c=function(m,p,_,S){return new _R(m,p,_,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,oT(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new GI(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Xe.fromBase64String(t))}catch(n){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new jn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Re("string",jn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,_i._jsonSchema))return new _i(t.latitude,t.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:Re("string",_i._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new vi(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Re("string",vi._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=/^__.*__$/;class eC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ts(t,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(t,this.data,n,this.fieldTransforms)}}class cT{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ts(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function hT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ec:r})}}class Jg{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Jg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Rc({path:s,mc:!1});return l.fc(t),l}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Rc({path:s,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return th(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(hT(this.Ec)&&tC.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class nC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||mh(t)}Dc(t,n,s,l=!1){return new Jg({Ec:t,methodName:n,bc:s,path:Qe.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fT(r){const t=r._freezeSettings(),n=mh(r._databaseId);return new nC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function iC(r,t,n,s,l,c={}){const d=r.Dc(c.merge||c.mergeFields?2:0,t,n,l);tm("Data must be an object, but it was:",d,s);const m=dT(s,d);let p,_;if(c.merge)p=new Rn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const I of c.mergeFields){const D=hg(t,I,n);if(!d.contains(D))throw new ot($.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);mT(S,D)||S.push(D)}p=new Rn(S),_=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=d.fieldTransforms;return new eC(new pn(m),p,_)}class Th extends Wg{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Th}}function rC(r,t,n,s){const l=r.Dc(1,t,n);tm("Data must be an object, but it was:",l,s);const c=[],d=pn.empty();Jr(s,(p,_)=>{const S=em(t,p,n);_=Ye(_);const I=l.gc(S);if(_ instanceof Th)c.push(S);else{const D=Sh(_,I);D!=null&&(c.push(S),d.set(S,D))}});const m=new Rn(c);return new cT(d,m,l.fieldTransforms)}function sC(r,t,n,s,l,c){const d=r.Dc(1,t,n),m=[hg(t,s,n)],p=[l];if(c.length%2!=0)throw new ot($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)m.push(hg(t,c[D])),p.push(c[D+1]);const _=[],S=pn.empty();for(let D=m.length-1;D>=0;--D)if(!mT(_,m[D])){const F=m[D];let Z=p[D];Z=Ye(Z);const rt=d.gc(F);if(Z instanceof Th)_.push(F);else{const W=Sh(Z,rt);W!=null&&(_.push(F),S.set(F,W))}}const I=new Rn(_);return new cT(S,I,d.fieldTransforms)}function Sh(r,t){if(gT(r=Ye(r)))return tm("Unsupported field value:",t,r),dT(r,t);if(r instanceof Wg)return function(s,l){if(!hT(l.Ec))throw l.wc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const m of s){let p=Sh(m,l.yc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=Ye(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=oe.fromDate(s);return{timestampValue:$c(l.serializer,c)}}if(s instanceof oe){const c=new oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$c(l.serializer,c)}}if(s instanceof _i)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:VE(l.serializer,s._byteString)};if(s instanceof je){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ug(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof vi)return function(d,m){return{mapValue:{fields:{[lE]:{stringValue:uE},[Gc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw m.wc("VectorValues must only contain numeric values.");return Mg(m.serializer,_)})}}}}}}(s,l);throw l.wc(`Unsupported field value: ${Cg(s)}`)}(r,t)}function dT(r,t){const n={};return nE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Jr(r,(s,l)=>{const c=Sh(l,t.Vc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function gT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof oe||r instanceof _i||r instanceof jn||r instanceof je||r instanceof Wg||r instanceof vi)}function tm(r,t,n){if(!gT(n)||!tE(n)){const s=Cg(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function hg(r,t,n){if((t=Ye(t))instanceof Eh)return t._internalPath;if(typeof t=="string")return em(r,t);throw th("Field path arguments must be of type string or ",r,!1,void 0,n)}const aC=new RegExp("[~\\*/\\[\\]]");function em(r,t,n){if(t.search(aC)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Eh(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function th(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new ot($.INVALID_ARGUMENT,m+r+p)}function mT(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(yT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oC extends pT{data(){return super.data()}}function yT(r,t){return typeof t=="string"?em(r,t):t instanceof Eh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uC{convertValue(t,n="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Jr(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Gc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>ve(d.doubleValue));return new vi(c)}convertGeoPoint(t){return new _i(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=lh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const n=Qr(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);Yt(zE(s),9688,{name:t});const l=new Ml(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return l.isEqual(n)||tr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class bc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ka extends pT{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(yT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ka._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ka._jsonSchema={type:Re("string",Ka._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Mc extends Ka{data(t={}){return super.data(t)}}class Qa{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new bc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Mc(this._firestore,this._userDataWriter,s.key,s,new bc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(m=>{const p=new Mc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new bc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new Mc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new bc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return m.type!==0&&(_=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),S=d.indexOf(m.doc.key)),{type:hC(m.type),doc:p,oldIndex:_,newIndex:S}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Re("string",Qa._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class fC extends uC{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}function dC(r){r=Bs(r,vh);const t=Bs(r.firestore,Yl),n=uT(t),s=new fC(t);return lC(r._query),XI(n,r._query).then(l=>new Qa(t,s,r,l))}function gC(r,t,n,...s){r=Bs(r,je);const l=Bs(r.firestore,Yl),c=fT(l);let d;return d=typeof(t=Ye(t))=="string"||t instanceof Eh?sC(c,"updateDoc",r._key,t,n,s):rC(c,"updateDoc",r._key,t),nm(l,[d.toMutation(r._key,Xn.exists(!0))])}function mC(r){return nm(Bs(r.firestore,Yl),[new kg(r._key,Xn.none())])}function pC(r,t){const n=Bs(r.firestore,Yl),s=cg(r),l=cC(r.converter,t);return nm(n,[iC(fT(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then(()=>s)}function nm(r,t){return function(s,l){const c=new Hr;return s.asyncQueue.enqueueAndForget(async()=>kI(await QI(s),l,c)),c.promise}(uT(r),t)}(function(t,n=!0){(function(l){so=l})(no),Ya(new Us("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new Yl(new tR(s.getProvider("auth-internal")),new iR(d,s.getProvider("app-check-internal")),function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(_.options.projectId,S)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),jr(ev,nv,t),jr(ev,nv,"esm2017")})();const yC={apiKey:"AIzaSyBaVIAcE4KYNnzPDg18cQOZGmBRGIHDb7o",authDomain:"shoe-tracker-d56aa.firebaseapp.com",projectId:"shoe-tracker-d56aa",storageBucket:"shoe-tracker-d56aa.firebasestorage.app",messagingSenderId:"231292146152",appId:"1:231292146152:web:e47463426b34282205945d"},_T=o0(yC),zd=WI(_T),fg=Yw(_T);function _C(){const[r,t]=Zt.useState(""),[n,s]=Zt.useState(""),[l,c]=Zt.useState(""),d=async m=>{m.preventDefault();try{await VA(fg,r,n)}catch(p){c(p.message)}};return B.jsx("div",{style:{padding:0,width:"100vw",minHeight:"100vh",background:"#222",color:"#fff",fontFamily:"system-ui, sans-serif",display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsxs("div",{style:{background:"#292929",borderRadius:12,boxShadow:"0 2px 16px #0008",padding:32,minWidth:320,maxWidth:400,width:"90vw"},children:[B.jsx("h1",{style:{fontSize:28,margin:"0 0 24px 0",textAlign:"center",letterSpacing:1,color:"#1abc9c"},children:"Shoe Tracker"}),B.jsx("h2",{style:{fontSize:20,margin:"0 0 24px 0",textAlign:"center",color:"#fff"},children:"Sign In"}),B.jsxs("form",{onSubmit:d,children:[B.jsx("input",{type:"email",value:r,placeholder:"Email",onChange:m=>t(m.target.value),required:!0,style:{width:"100%",display:"block",marginBottom:16,padding:12,fontSize:16,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",boxSizing:"border-box"}}),B.jsx("input",{type:"password",value:n,placeholder:"Password",onChange:m=>s(m.target.value),required:!0,style:{width:"100%",display:"block",marginBottom:20,padding:12,fontSize:16,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",boxSizing:"border-box"}}),B.jsx("button",{type:"submit",style:{width:"100%",padding:"14px 0",fontSize:18,background:"#1abc9c",color:"#fff",border:"none",borderRadius:8,fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px #1abc9c33",transition:"background-color 0.2s"},children:"Sign In"}),l&&B.jsx("p",{style:{color:"#e74c3c",fontSize:14,margin:"16px 0 0 0",textAlign:"center",padding:"8px 12px",background:"rgba(231, 76, 60, 0.1)",borderRadius:6,border:"1px solid rgba(231, 76, 60, 0.3)"},children:l})]})]})})}function Ac(r){if(!r)return"";const t=new Date(r+"T00:00:00");if(isNaN(t))return r;const n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getFullYear()).slice(-2);return`${n}/${s}/${l}`}function vC(){const[r,t]=Zt.useState([]),[n,s]=Zt.useState(null),[l,c]=Zt.useState(null),[d,m]=Zt.useState(""),[p,_]=Zt.useState(""),[S,I]=Zt.useState(""),[D,F]=Zt.useState(()=>new Date().toISOString().split("T")[0]),[Z,rt]=Zt.useState(""),[W,At]=Zt.useState(""),[dt,ht]=Zt.useState(()=>new Date().toISOString().split("T")[0]),[Ot,Et]=Zt.useState(""),[It,N]=Zt.useState(!0),[b,w]=Zt.useState({open:!1,message:""}),[x,V]=Zt.useState(!1),[M,R]=Zt.useState(!1),me=Zt.useRef(null),re=Zt.useRef(null);function H(tt){w({open:!0,message:tt})}function nt(){w({open:!1,message:""})}const lt=ZI(zd,"shoes");Zt.useEffect(()=>{async function tt(){try{const xt=(await dC(lt)).docs.map(Kt=>({...Kt.data(),id:Kt.id}));t(xt),xt.length>0?N(!1):N(!0)}catch(ut){console.error("Error fetching shoes:",ut),H("Failed to fetch shoes from Firestore. See console for details.")}}tt()},[]);async function Ut(){if(!d||!p||!S||!D||!Z){H("Fill in all fields.");return}const tt={brand:d,name:p,color:S,firstRunDate:D,miles:0,expectedLifecycle:parseFloat(Z),logs:[]};try{const ut=await pC(lt,tt);t([...r,{...tt,id:ut.id}]),m(""),_(""),I(""),F(()=>new Date().toISOString().split("T")[0]),rt(""),s(r.length),N(!1)}catch(ut){console.error("Error adding shoe:",ut),H("Failed to add shoe. See console for details.")}}async function C(tt,ut,xt){const Kt=tt.id;if(!Kt)return;const fe=cg(zd,"shoes",Kt);try{await gC(fe,xt),t(yn=>yn.map((Wt,Nt)=>Nt===ut?{...Wt,...xt}:Wt))}catch(yn){console.error("Error updating shoe:",yn),H("Failed to update shoe. See console for details.")}}async function X(){if(n===null){H("Select a shoe first.");return}const tt=parseFloat(W);if(isNaN(tt)||tt<=0){H("You can't run 0 or negative miles.");return}const ut=r[n],xt=ut.logs?[...ut.logs]:[];xt.push({miles:tt,date:dt,location:Ot});const Kt={...ut,miles:ut.miles+tt,logs:xt};try{await C(ut,n,{miles:Kt.miles,logs:xt}),At(""),ht(new Date().toISOString().split("T")[0]),Et("")}catch(fe){console.error("Error adding miles:",fe),H("Failed to add miles. See console for details.")}}const it=n!==null?r[n]:null,[J,ft]=Zt.useState({shoeIndex:null,logIndex:null}),[Tt,mt]=Zt.useState({miles:"",date:"",location:""});function Ee(tt,ut){const xt=r[tt].logs[ut];ft({shoeIndex:tt,logIndex:ut}),mt({miles:xt.miles.toString(),date:xt.date,location:xt.location||""})}function Gt(){ft({shoeIndex:null,logIndex:null}),mt({miles:"",date:"",location:""})}async function In(){const{shoeIndex:tt,logIndex:ut}=J,xt=parseFloat(Tt.miles);if(isNaN(xt)||xt<=0){H("Miles must be a positive number.");return}const Kt=r[tt],fe=Kt.logs[ut].miles,yn=Kt.logs.map((Nt,an)=>an===ut?{...Nt,miles:xt,date:Tt.date,location:Tt.location}:Nt),Wt={...Kt,miles:Kt.miles-fe+xt,logs:yn};try{await C(Kt,tt,{miles:Wt.miles,logs:yn}),Gt()}catch(Nt){console.error("Error editing run:",Nt),H("Failed to edit run. See console for details.")}}const[$e,sn]=Zt.useState({open:!1,type:null,shoeIndex:null,logIndex:null});function Si(tt,ut){sn({open:!0,type:"run",shoeIndex:tt,logIndex:ut})}function bi(tt){sn({open:!0,type:"shoe",shoeIndex:tt,logIndex:null})}async function Ai(){try{if($e.type==="run"){const{shoeIndex:tt,logIndex:ut}=$e,xt=r[tt],Kt=xt.logs[ut].miles,fe=xt.logs.filter((Wt,Nt)=>Nt!==ut),yn={...xt,miles:xt.miles-Kt,logs:fe};await C(xt,tt,{miles:yn.miles,logs:fe}),J.shoeIndex===tt&&J.logIndex===ut&&Gt()}else if($e.type==="shoe"){const{shoeIndex:tt}=$e,ut=r[tt];ut.id&&await mC(cg(zd,"shoes",ut.id));const xt=r.filter((Kt,fe)=>fe!==tt);t(xt),n===tt?(s(null),c(null)):n>tt&&s(n-1)}sn({open:!1,type:null,shoeIndex:null,logIndex:null})}catch(tt){console.error("Error deleting:",tt),H("Failed to delete. See console for details."),sn({open:!1,type:null,shoeIndex:null,logIndex:null})}}function ir(){sn({open:!1,type:null,shoeIndex:null,logIndex:null})}Zt.useEffect(()=>{function tt(ut){x&&me.current&&!me.current.contains(ut.target)&&V(!1),M&&re.current&&!re.current.contains(ut.target)&&R(!1)}return document.addEventListener("mousedown",tt),()=>document.removeEventListener("mousedown",tt)},[x,M]);const[Ks,hn]=Zt.useState(null),[uo,es]=Zt.useState(!0);return Zt.useEffect(()=>PA(fg,ut=>{hn(ut),es(!1)}),[]),uo?null:Ks?B.jsx(B.Fragment,{children:B.jsxs("div",{style:{padding:0,width:"100vw",minHeight:"100vh",background:"#222",color:"#fff",fontFamily:"system-ui, sans-serif",position:"relative",boxSizing:"border-box"},children:[B.jsxs("div",{style:{position:"sticky",top:0,background:"#222",zIndex:10,padding:"16px 0 8px 0",textAlign:"center",borderBottom:"1px solid #333",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[B.jsx("h1",{style:{margin:0,fontSize:28,letterSpacing:1,textAlign:"left",marginLeft:28,flex:1},children:"Shoe Tracker"}),r.length>0&&B.jsx("button",{onClick:()=>N(tt=>!tt),style:{background:"none",border:"none",color:"#1abc9c",fontSize:32,fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0,lineHeight:1,transition:"color 0.2s",marginRight:20},title:It?"Close Add Shoe":"Add New Shoe","aria-label":It?"Close Add Shoe":"Add New Shoe",children:B.jsx("span",{style:{fontSize:32,fontWeight:700,display:"inline-block",lineHeight:1,marginTop:-2},children:It?"-":"+"})}),B.jsx("button",{onClick:()=>LA(fg),style:{background:"none",border:"none",color:"#e74c3c",fontSize:24,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:8,borderRadius:"50%",transition:"background-color 0.2s",marginRight:28},title:"Sign Out","aria-label":"Sign Out",children:B.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[B.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),B.jsx("polyline",{points:"16,17 21,12 16,7"}),B.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}),B.jsx("div",{style:{padding:"16px 4vw 100px 4vw",boxSizing:"border-box",maxWidth:600,margin:"0 auto"},children:r.length===0?B.jsxs(B.Fragment,{children:[B.jsx("h2",{style:{fontSize:22,marginBottom:12},children:"Add Your First Shoe"}),B.jsxs("div",{style:{background:"#222",borderRadius:12,boxShadow:"0 1px 4px #0002",padding:16,marginTop:8,marginBottom:24},children:[B.jsx("input",{placeholder:"Brand",value:d,onChange:tt=>m(tt.target.value),style:{width:"100%",display:"block",marginBottom:10,padding:12,fontSize:18,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",boxSizing:"border-box"}}),B.jsx("input",{placeholder:"Shoe Name",value:p,onChange:tt=>_(tt.target.value),style:{width:"100%",display:"block",marginBottom:10,padding:12,fontSize:18,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",boxSizing:"border-box"}}),B.jsx("input",{placeholder:"Color",value:S,onChange:tt=>I(tt.target.value),style:{width:"100%",display:"block",marginBottom:10,padding:12,fontSize:18,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",boxSizing:"border-box"}}),B.jsx("input",{type:"date",placeholder:"First Run Date",value:D,onChange:tt=>F(tt.target.value),style:{width:"100%",display:"block",marginBottom:10,padding:12,fontSize:18,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",boxSizing:"border-box",lineHeight:1.2,height:44,verticalAlign:"middle"}}),B.jsx("input",{type:"number",placeholder:"Expected Lifecycle (MI)",value:Z,onChange:tt=>rt(tt.target.value),min:"0",step:"0.1",style:{width:"100%",display:"block",marginBottom:16,padding:12,fontSize:18,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",boxSizing:"border-box"}}),B.jsxs("button",{onClick:Ut,style:{width:"100%",padding:"14px 0",fontSize:20,background:"#1abc9c",color:"#fff",border:"none",borderRadius:8,fontWeight:600,marginTop:8,marginBottom:0,boxShadow:"0 2px 8px #1abc9c33"},children:[B.jsx("span",{style:{fontSize:22,marginRight:8,verticalAlign:"middle"},children:"➕"})," ","Add Shoe"]})]})]}):B.jsxs(B.Fragment,{children:[B.jsx("ul",{style:{paddingLeft:0,listStyle:"none",margin:0},children:r.map((tt,ut)=>B.jsxs("li",{onClick:()=>s(ut),style:{marginBottom:14,borderRadius:12,background:n===ut?"#145A32":"#292929",boxShadow:n===ut?"0 2px 8px #145A3240":"0 1px 4px #0002",padding:16,cursor:"pointer",position:"relative",border:n===ut?"2px solid #1abc9c":"1px solid #333",transition:"background 0.2s, border 0.2s"},children:[B.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[B.jsxs("div",{style:{fontSize:17},children:[B.jsxs("strong",{style:{fontSize:18},children:[tt.brand," ",tt.name]})," ",B.jsxs("span",{style:{color:"#aaa",fontSize:15},children:["- ",tt.color]})," ",B.jsx("br",{}),B.jsxs("span",{style:{fontSize:14},children:["First Run: ",Ac(tt.firstRunDate)," ",B.jsx("br",{}),B.jsxs("span",{style:{color:"#1abc9c"},children:[tt.miles.toFixed(2)," / ",tt.expectedLifecycle," ","mi"]}),B.jsx("br",{}),B.jsxs("span",{style:{color:"#f1c40f"},children:["Life Remaining:"," ",Math.max(0,100-tt.miles/tt.expectedLifecycle*100).toFixed(1),"%"]})]})]}),B.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[B.jsx("button",{onClick:xt=>{xt.stopPropagation(),c(l===ut?null:ut)},style:{padding:8,background:"none",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:l===ut?"Hide History":"Show History",children:l===ut?B.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#1abc9c",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[B.jsx("path",{d:"M17.94 17.94A10.06 10.06 0 0 1 12 20c-5.05 0-9.27-3.11-11-8 1.21-3.06 3.6-5.5 6.58-6.71"}),B.jsx("path",{d:"M1 1l22 22"}),B.jsx("path",{d:"M9.53 9.53A3.5 3.5 0 0 0 12 15.5c1.93 0 3.5-1.57 3.5-3.5 0-.61-.16-1.18-.44-1.67"})]}):B.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#1abc9c",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[B.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"6"}),B.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),B.jsx("button",{onClick:xt=>{xt.stopPropagation(),bi(ut)},style:{color:"#fff",background:"#c0392b",border:"none",borderRadius:"50%",padding:8,cursor:"pointer",fontSize:"1.2em",lineHeight:1,width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete shoe",children:"×"})]})]}),l===ut&&tt.logs&&B.jsx("div",{style:{marginTop:"10px",backgroundColor:"rgba(255, 255, 255, 0.08)",borderRadius:"8px",padding:"10px 4px 4px 4px",overflowX:"auto"},children:B.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,maxWidth:"100vw",tableLayout:"fixed",wordBreak:"break-word"},children:[B.jsx("thead",{children:B.jsxs("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[B.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Date"}),B.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Miles"}),B.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Location"}),B.jsx("th",{style:{textAlign:"left",padding:"8px"}})]})}),B.jsx("tbody",{children:tt.logs.map((xt,Kt)=>J.shoeIndex===ut&&J.logIndex===Kt?B.jsxs(B.Fragment,{children:[B.jsx("tr",{children:B.jsx("td",{colSpan:4,style:{padding:"8px 0"},children:B.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:8,width:"100%",flexWrap:"wrap",justifyContent:"center"},children:[B.jsx("input",{type:"date",value:Tt.date,onChange:fe=>mt({...Tt,date:fe.target.value}),style:{flex:1,minWidth:90,maxWidth:140,padding:"0 10px",fontSize:16,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",height:36,display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"}}),B.jsx("input",{type:"number",value:Tt.miles,onChange:fe=>mt({...Tt,miles:fe.target.value}),min:"0",step:"0.01",style:{flex:1,minWidth:70,maxWidth:100,padding:"0 10px",fontSize:16,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",height:36,boxSizing:"border-box"}}),B.jsx("input",{type:"text",value:Tt.location,onChange:fe=>mt({...Tt,location:fe.target.value}),style:{flex:2,minWidth:90,maxWidth:180,padding:"0 10px",fontSize:16,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",height:36,boxSizing:"border-box"}})]})})},Kt+"-edit"),B.jsx("tr",{children:B.jsx("td",{colSpan:4,style:{textAlign:"center",padding:"4px 0 0 0"},children:B.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:8,flexWrap:"wrap"},children:[B.jsx("button",{onClick:In,style:{marginRight:0,padding:"8px 20px",background:"#1abc9c",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,boxShadow:"0 1px 4px #1abc9c33",cursor:"pointer",letterSpacing:1},children:"Save"}),B.jsx("button",{onClick:Gt,style:{padding:"8px 20px",background:"#313a3e",color:"#b8f6e4",border:"none",borderRadius:8,fontWeight:600,fontSize:16,boxShadow:"0 1px 4px #2228",letterSpacing:1,cursor:"pointer"},children:"Cancel"})]})})},Kt+"-edit-actions")]}):B.jsxs("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)","&:last-child":{borderBottom:"none"},maxWidth:600,width:"100%"},children:[B.jsx("td",{style:{padding:"8px"},children:Ac(xt.date)}),B.jsx("td",{style:{padding:"8px"},children:xt.miles.toFixed(2)}),B.jsx("td",{style:{padding:"8px"},children:xt.location||"-"}),B.jsxs("td",{style:{padding:"8px",whiteSpace:"nowrap",display:"flex",justifyContent:"center",alignItems:"center",gap:8,flexWrap:"wrap"},children:[B.jsx("button",{onClick:()=>Ee(ut,Kt),style:{marginRight:4,padding:"6px 16px",background:"#1abc9c",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:15,boxShadow:"0 1px 4px #1abc9c33",cursor:"pointer",letterSpacing:1},children:"Edit"}),B.jsx("button",{onClick:()=>Si(ut,Kt),style:{color:"#fff",background:"#c0392b",border:"none",borderRadius:"50%",padding:8,cursor:"pointer",fontSize:"1.2em",lineHeight:1,width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete run",children:"×"})]})]},Kt))})]})})]},ut))}),it&&B.jsxs("div",{style:{marginTop:18,marginBottom:24,background:"#222",borderRadius:12,boxShadow:"0 1px 4px #0002",padding:16},children:[B.jsxs("h2",{style:{fontSize:20,margin:"0 0 12px 0",textAlign:"center"},children:["Add Miles - ",it.brand," ",it.name]}),B.jsx("input",{type:"number",placeholder:"Miles run",value:W,onChange:tt=>At(tt.target.value),step:"0.1",min:"0",style:{width:"100%",display:"block",padding:12,marginBottom:12,fontSize:18,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff"}}),B.jsx("input",{type:"text",value:Ot,onChange:tt=>Et(tt.target.value),placeholder:"Where did you run?",style:{width:"100%",display:"block",padding:12,marginBottom:12,fontSize:18,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff"}}),B.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:16},children:[B.jsxs("button",{ref:re,type:"button",className:"date-picker-btn",style:{display:"flex",alignItems:"center",gap:6,background:"#181818",color:"#fff",border:"1px solid #444",borderRadius:8,padding:"10px 16px",fontSize:16,cursor:"pointer",position:"relative"},onClick:()=>R(tt=>!tt),children:[B.jsx("span",{style:{display:"inline-flex",alignItems:"center"},"aria-label":"calendar",children:B.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[B.jsx("rect",{x:"3",y:"5",width:"14",height:"12",rx:"2",stroke:"#fff",strokeWidth:"1.5",fill:"none"}),B.jsx("rect",{x:"7",y:"9",width:"2",height:"2",rx:"0.5",fill:"#fff"}),B.jsx("rect",{x:"11",y:"9",width:"2",height:"2",rx:"0.5",fill:"#fff"}),B.jsx("rect",{x:"7",y:"13",width:"2",height:"2",rx:"0.5",fill:"#fff"}),B.jsx("rect",{x:"11",y:"13",width:"2",height:"2",rx:"0.5",fill:"#fff"}),B.jsx("rect",{x:"1",y:"3",width:"18",height:"2",rx:"1",fill:"#fff",fillOpacity:"0.2"})]})}),!M&&Ac(dt),M&&B.jsx("span",{style:{position:"absolute",left:0,top:"110%",zIndex:10,background:"#222",padding:8,borderRadius:8,boxShadow:"0 2px 8px #0008"},children:B.jsx("input",{type:"date",value:dt,onChange:tt=>{ht(tt.target.value),R(!1)},style:{background:"#181818",color:"#fff",border:"1px solid #444",borderRadius:6,fontSize:16,padding:6},autoFocus:!0})})]}),B.jsxs("button",{onClick:X,style:{flex:0},children:[B.jsx("span",{style:{fontSize:22,verticalAlign:"middle",marginLeft:"auto"},children:"➕"}),""]})]})]}),It&&B.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},onClick:()=>N(!1),children:B.jsxs("div",{style:{background:"#222",borderRadius:12,boxShadow:"0 2px 16px #0008",padding:24,minWidth:280,maxWidth:350,width:"90vw",position:"relative",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center"},onClick:tt=>tt.stopPropagation(),children:[B.jsx("h2",{style:{fontSize:20,margin:"0 0 18px 0",textAlign:"center"},children:"Add New Shoe"}),B.jsx("input",{placeholder:"Brand",value:d,onChange:tt=>m(tt.target.value),style:{width:"100%",display:"block",marginBottom:10,padding:12,fontSize:18,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",boxSizing:"border-box"}}),B.jsx("input",{placeholder:"Shoe Name",value:p,onChange:tt=>_(tt.target.value),style:{width:"100%",display:"block",marginBottom:10,padding:12,fontSize:18,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",boxSizing:"border-box"}}),B.jsx("input",{placeholder:"Color",value:S,onChange:tt=>I(tt.target.value),style:{width:"100%",display:"block",marginBottom:10,padding:12,fontSize:18,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",boxSizing:"border-box"}}),B.jsx("input",{type:"number",placeholder:"Expected Lifecycle (MI)",value:Z,onChange:tt=>rt(tt.target.value),min:"0",step:"0.1",style:{width:"100%",display:"block",marginBottom:16,padding:12,fontSize:18,borderRadius:8,border:"1px solid #444",background:"#181818",color:"#fff",boxSizing:"border-box"}}),B.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:16,justifyContent:"flex-end"},children:[B.jsxs("button",{ref:me,type:"button",className:"date-picker-btn",style:{display:"flex",alignItems:"center",gap:6,padding:"10px 16px",fontSize:16,cursor:"pointer",position:"relative",background:"#f5f5f5",color:"#222",border:"1px solid #e0e0e0",borderRadius:8},onClick:()=>V(tt=>!tt),children:[B.jsx("span",{style:{display:"inline-flex",alignItems:"center"},"aria-label":"calendar",children:B.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[B.jsx("rect",{x:"3",y:"5",width:"14",height:"12",rx:"2",stroke:"#222",strokeWidth:"1.5",fill:"none"}),B.jsx("rect",{x:"7",y:"9",width:"2",height:"2",rx:"0.5",fill:"#222"}),B.jsx("rect",{x:"11",y:"9",width:"2",height:"2",rx:"0.5",fill:"#222"}),B.jsx("rect",{x:"7",y:"13",width:"2",height:"2",rx:"0.5",fill:"#222"}),B.jsx("rect",{x:"11",y:"13",width:"2",height:"2",rx:"0.5",fill:"#222"}),B.jsx("rect",{x:"1",y:"3",width:"18",height:"2",rx:"1",fill:"#222",fillOpacity:"0.2"})]})}),!x&&Ac(D),x&&B.jsx("span",{style:{position:"absolute",left:0,top:"110%",zIndex:10,background:"#222",padding:8,borderRadius:8,boxShadow:"0 2px 8px #0008"},children:B.jsx("input",{type:"date",value:D,onChange:tt=>{F(tt.target.value),V(!1)},style:{background:"#181818",color:"#fff",border:"1px solid #444",borderRadius:6,fontSize:16,padding:6},autoFocus:!0})})]}),B.jsxs("button",{onClick:Ut,className:"add-shoe-btn",style:{fontSize:17,padding:"10px 0",minWidth:110},children:[B.jsx("span",{style:{fontSize:20,marginRight:8,verticalAlign:"middle"},children:"➕"}),""]})]})]})})]})}),$e.open&&B.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:ir,children:B.jsxs("div",{style:{background:"#222",color:"#fff",padding:32,borderRadius:8,minWidth:300,boxShadow:"0 2px 16px rgba(0,0,0,0.3)",position:"relative"},onClick:tt=>tt.stopPropagation(),children:[B.jsx("h3",{style:{marginTop:0},children:$e.type==="run"?"Delete Run":"Delete Shoe"}),B.jsx("p",{children:$e.type==="run"?"Are you sure you want to delete this run? This cannot be undone.":"Are you sure you want to delete this shoe and all its run history? This cannot be undone."}),B.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:12},children:[B.jsx("button",{onClick:ir,style:{padding:"6px 16px",background:"#888",color:"#fff",border:"none",borderRadius:4},children:"Cancel"}),B.jsx("button",{onClick:Ai,style:{padding:"6px 16px",background:"#c0392b",color:"#fff",border:"none",borderRadius:4},children:"Delete"})]})]})}),b.open&&B.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},onClick:nt,children:B.jsxs("div",{style:{background:"#23272a",color:"#fff",padding:28,borderRadius:10,minWidth:260,maxWidth:320,boxShadow:"0 2px 16px #0008",position:"relative",textAlign:"center"},onClick:tt=>tt.stopPropagation(),children:[B.jsx("div",{style:{fontSize:18,marginBottom:18},children:b.message}),B.jsx("button",{onClick:nt,style:{padding:"10px 32px",fontSize:18,background:"#313a3e",color:"#b8f6e4",border:"none",borderRadius:8,fontWeight:600,boxShadow:"0 1px 4px #2228",letterSpacing:1,cursor:"pointer"},children:"OK"})]})})]})}):B.jsx(_C,{})}W1.createRoot(document.getElementById("root")).render(B.jsx(Zt.StrictMode,{children:B.jsx(vC,{})}));
